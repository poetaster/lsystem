{"version":3,"sources":["webpack:///./node_modules/ngraph.events/index.js","webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/query-state/lib/inMemoryHistory.js","webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/native-url.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/query-state/lib/windowHistory.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/vue/dist/vue.runtime.esm.js","webpack:///./node_modules/core-js/modules/web.url.js","webpack:///./node_modules/core-js/modules/es.string.starts-with.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/core-js/modules/es.math.hypot.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/query-state/lib/query.js","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/codemirror/lib/codemirror.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/string-punycode-to-ascii.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/codemirror/addon/comment/comment.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/vue-codemirror-lite/codemirror.vue?5e48","webpack:///node_modules/vue-codemirror-lite/codemirror.vue","webpack:///./node_modules/vue-codemirror-lite/codemirror.vue?d800","webpack:///./node_modules/vue-codemirror-lite/codemirror.vue","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/core-js/internals/number-parse-float.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/modules/web.url-search-params.js","webpack:///./node_modules/core-js/internals/get-iterator.js","webpack:///./node_modules/w-gl/build/wgl.module.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/query-state/index.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/modules/es.number.parse-float.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/vue-codemirror-lite/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/internals/number-is-finite.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/query-state/node_modules/ngraph.events/index.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/core-js/modules/es.number.is-finite.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/vue-codemirror-lite/codemirror.vue?7762","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["createEventsStorage","subject","registeredEvents","Object","create","on","eventName","callback","ctx","Error","handlers","push","off","wantToRemoveAll","deleteAllCallbacksForEvent","callbacks","i","length","splice","fire","fireArguments","arguments","Array","prototype","call","callbackInfo","apply","validateSubject","reservedWords","hasOwnProperty","module","exports","eventsStorage","wellKnownSymbol","TO_STRING_TAG","test","String","aFunction","fn","that","undefined","a","b","c","inMemoryHistory","defaults","listeners","lastQueryObject","dispose","onChanged","set","get","newQueryObject","setTimeout","triggerChange","changeCallback","appState","forEach","listener","isObject","slice","factories","construct","C","argsLength","args","list","Function","join","bind","this","partArgs","boundFunction","concat","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","getOwnPropertyNames","getWindowNames","it","error","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","O","P","fails","createElement","defineProperty","IS_PURE","ITERATOR","url","URL","searchParams","result","pathname","value","key","toJSON","sort","href","URLSearchParams","username","host","hash","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","arrayPush","min","Math","MAX_UINT32","SUPPORTS_Y","RegExp","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","separator","limit","string","lim","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","index","splitter","regexp","res","done","rx","S","unicodeMatching","p","q","A","e","z","classof","R","exec","TypeError","global","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","windowHistory","query","options","useSearchPart","useSearch","hashPrefix","rewriteHashToSearch","init","getStateFromHash","stateFromHash","stateChanged","keys","mergedState","searchString","location","search","assign","parse","substr","hashString","stringify","history","replaceState","replace","addEventListener","onHashChanged","removeEventListener","notifyListeners","baseString","queryString","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","Constructor","name","getBuiltIn","SAFE_CLOSING","called","iteratorWithReturn","next","from","SKIP_CLOSING","ITERATION_SUPPORT","object","userAgent","V8_VERSION","SPECIES","METHOD_NAME","array","constructor","foo","Boolean","isArrayIteratorMethod","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterator","iterFn","step","stop","toInteger","max","integer","redefine","setGlobal","copyConstructorProperties","isForced","FORCED","target","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","unsafe","definePropertyModule","CONSTRUCTOR_NAME","configurable","_setPrototypeOf","o","setPrototypeOf","__proto__","_inherits","subClass","superClass","writable","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","emptyObject","freeze","isUndef","v","isDef","isTrue","isFalse","isPrimitive","obj","_toString","isPlainObject","isValidArrayIndex","val","n","parseFloat","floor","isFinite","isPromise","then","catch","isArray","JSON","toNumber","isNaN","makeMap","str","expectsLowerCase","map","toLowerCase","isReservedAttribute","remove","arr","item","indexOf","hasOwn","cached","cache","hit","camelizeRE","camelize","_","toUpperCase","capitalize","charAt","hyphenateRE","hyphenate","polyfillBind","boundFn","l","_length","nativeBind","toArray","start","ret","extend","to","_from","toObject","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","Date","getTime","keysA","keysB","looseIndexOf","once","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","isReserved","charCodeAt","def","enumerable","bailRE","parsePath","path","segments","_isServer","hasProto","inBrowser","inWeex","WXEnvironment","platform","weexPlatform","UA","navigator","isIE","isIE9","isEdge","isIOS","isFF","nativeWatch","watch","supportsPassive","opts","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Symbol","Reflect","ownKeys","Set","clear","warn","uid","Dep","id","subs","addSub","sub","removeSub","depend","addDep","notify","update","targetStack","pushTarget","popTarget","pop","VNode","tag","data","children","text","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","defineProperties","createEmptyVNode","node","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","method","original","len","inserted","ob","__ob__","observeArray","dep","arrayKeys","shouldObserve","toggleObserving","Observer","vmCount","protoAugment","copyAugment","walk","src","observe","asRootData","isExtensible","_isVue","defineReactive$$1","customSetter","shallow","property","getter","setter","childOb","dependArray","newVal","del","items","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","hooks","mergeAssets","type","key$1","props","methods","inject","computed","provide","defaultStrat","normalizeProps","normalizeInject","normalized","normalizeDirectives","dirs","directives","def$$1","mergeOptions","_base","extends","mixins","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","prop","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","default","_props","getType","isSameType","expectedTypes","handleError","err","info","cur","$parent","errorCaptured","capture","globalHandleError","invokeWithErrorHandling","handler","_handled","logError","console","timerFunc","isUsingMicroTask","pending","flushCallbacks","copies","Promise","resolve","MutationObserver","setImmediate","counter","observer","textNode","document","createTextNode","characterData","nextTick","cb","_resolve","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","once$$1","createFnInvoker","fns","invoker","arguments$1","updateListeners","oldOn","remove$$1","createOnceHandler","old","event","params","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","attrs","altKey","checkProp","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","last","shift","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","renderSlot","fallback","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","loop","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","values","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_i","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","needNormalization","injections","scopedSlots","_c","d","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","clone","componentVNodeHooks","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","$mount","oldVnode","updateChildComponent","insert","_isMounted","callHook","queueActivatedComponent","activateChildComponent","destroy","deactivateChildComponent","$destroy","hooksToMerge","createComponent","baseCtor","cid","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","model","transformModel","nativeOn","abstract","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","applyNS","registerDeepBindings","force","style","class","initRender","_vnode","parentVnode","_renderChildren","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","_render","ref","ensureCtor","comp","base","__esModule","toStringTag","factory","errorComp","resolved","owner","owners","loading","loadingComp","sync","timerLoading","timerTimeout","$on","forceRender","renderCompleted","$forceUpdate","clearTimeout","reject","reason","component","delay","timeout","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","$off","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i$1","cbs","$emit","setActiveInstance","prevActiveInstance","initLifecycle","$children","$refs","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","mountComponent","el","updateComponent","Watcher","before","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","isInInactiveTree","direct","j","queue","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","now","createEvent","timeStamp","flushSchedulerQueue","watcher","run","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","emit","queueWatcher","uid$2","expOrFn","isRenderWatcher","deep","user","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","tmp","oldValue","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initData","initComputed","initWatch","propsOptions","isRoot","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","_uid","initInternalComponent","_self","vnodeComponentOptions","_componentTag","super","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","components","modified","latest","sealed","sealedOptions","initUse","use","plugin","installedPlugins","_installedPlugins","unshift","install","initMixin$1","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","matches","pattern","pruneCache","keepAliveInstance","filter","cachedNode","pruneCacheEntry","current","cached$$1","patternTypes","KeepAlive","include","exclude","Number","created","destroyed","mounted","ref$1","parseInt","builtInComponents","initGlobalAPI","configDef","util","defineReactive","delete","observable","version","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","parentNode","childNode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","svg","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","HTMLElement","isTextInputType","selected","querySelector","createElement$1","tagName","multiple","setAttribute","createElementNS","namespace","createComment","insertBefore","newNode","referenceNode","removeChild","appendChild","nextSibling","setTextContent","textContent","setStyleScope","nodeOps","registerRef","isRemoval","refs","refInFor","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","ref$$1","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","ch","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","end","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","firstChild","fullInvoke","isInitialPatch","isRealElement","nodeType","hasAttribute","removeAttribute","oldElm","_leaveCb","patchable","i$2","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","arg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","setAttr","removeAttributeNS","baseSetAttr","setAttributeNS","__ieph","blocker","stopImmediatePropagation","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","target$1","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","change","createOnceHandler$1","remove$2","useMicrotaskFix","add$1","attachedTimestamp","_wrapper","currentTarget","ownerDocument","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","childNodes","_value","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","activeElement","_vModifiers","number","trim","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","setProperty","normalizedName","normalize","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","classList","getAttribute","removeClass","tar","resolveTransition","css","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","styles","getComputedStyle","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","s","enter","toggleDisplay","cancelled","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","show","pendingNode","_pending","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","trigger","directive","binding","_vOptions","setSelected","getValue","onCompositionStart","onCompositionEnd","prevOptions","curOptions","some","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","option","selectedIndex","initEvent","dispatchEvent","locateNode","transition$$1","originalDisplay","__vOriginalDisplay","display","unbind","platformDirectives","transitionProps","mode","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","c$1","pos","getBoundingClientRect","updated","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","body","offsetHeight","moved","transform","WebkitTransform","transitionDuration","_moveCb","propertyName","_hasMove","cloneNode","newPos","oldPos","dx","left","dy","top","platformComponents","EOF","$","USE_NATIVE_URL","anInstance","arrayFrom","codeAt","toASCII","setToStringTag","URLSearchParamsModule","InternalStateModule","NativeURL","getInternalSearchParamsState","getState","setInternalState","getInternalURLState","getterFor","pow","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","parseHost","input","codePoints","parseIPv6","isSpecial","parseIPv4","percentEncode","C0ControlPercentEncodeSet","partsLength","numbers","part","radix","ipv4","parts","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","char","findLongestZeroSequence","ipv6","maxIndex","maxLength","currStart","currLength","serializeHost","ignore0","fragmentPercentEncodeSet","pathPercentEncodeSet","userinfoPercentEncodeSet","code","encodeURIComponent","specialSchemes","ftp","file","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","second","startsWithWindowsDriveLetter","third","shortenURLsPath","pathSize","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","bufferCodePoints","failure","state","buffer","seenAt","seenBracket","seenPasswordToken","port","fragment","codePoint","encodedCodePoints","URLConstructor","baseState","urlString","searchParamsState","updateSearchParams","updateURL","serializeURL","origin","getOrigin","protocol","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","notARegExp","correctIsRegExpLogic","nativeStartsWith","startsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","proto","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Proxy","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_typeof","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","NewTarget","possibleConstructorReturn","defer","channel","html","IS_IOS","clearImmediate","process","MessageChannel","Dispatch","ONREADYSTATECHANGE","runner","post","postMessage","port2","port1","onmessage","importScripts","versions","v8","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","Iterators","objectKeys","Properties","defineIterator","STRING_ITERATOR","getInternalState","iterated","point","$hypot","hypot","abs","sqrt","BUGGY","Infinity","NaN","value1","value2","div","sum","aLen","larg","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","MATCH","toPairs","pair","encodePart","encodeValue","decodeRecord","queryRecord","decodeURIComponent","decodeValue","toISOString","uriValue","encoded","saferEscape","character","isBolean","isISODateString","strValue","regExpExec","nativeMatch","matcher","fullUnicode","matchStr","defaultConstructor","getOwnPropertySymbols","$trim","forcedStringTrimMethod","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","Target","newTarget","$args","instance","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","includes","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","createProperty","arrayLike","argumentsLength","mapfn","mapping","iteratorMethod","argument","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","REPLACE","nativeReplace","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","position","captures","namedCaptures","groups","replacerArgs","replacement","getSubstitution","tailPos","m","symbols","_defineProperty","enumerableOnly","sym","_objectSpread2","getOwnPropertyDescriptors","store","copyright","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","range","rmClass","className","after","removeChildren","count","removeChildrenAndAdd","elt","content","eltP","contains","activeElt","joinClasses","as","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","copyObj","overwrite","countColumn","tabSize","startIndex","startValue","nextTab","selectionStart","selectionEnd","Delayed","time","onTimeout","ms","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","findFirst","pred","midF","mid","ceil","iterateBidiSections","order","found","level","bidiOther","getBidiPartAt","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","types","prev","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","i$7","at","isRTL","j$2","nstart","reverse","getOrder","line","noHandlers","emitter","attachEvent","_handlers","getHandlers","detachEvent","signal","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","zeroWidthElement","measure","offsetWidth","hasBadBidiRects","txt","r0","r1","right","splitLinesAuto","nl","rt","hasSelection","getSelection","te","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","doc","first","size","chunk","lines","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","lineAtHeight","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","eol","sol","peek","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","consume","caseInsensitive","cased","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","overlay","overlays","i_end","opaque","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","stream","callBlankLine","readToken","blankLine","token","copy","Token","takeToken","asArray","tokens","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","mk","find","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","buildLineContent","lineView","builder","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","title","startStyle","endStyle","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterSpecs","gutterWidth","alignable","isWidget","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","currentStyle","paddingRight","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","selForContextMenu","reset","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","align","innerW","lineGutter","lineNumInnerWidth","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","draggingText","text$1","onDragStart","setData","effectAllowed","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","fromCharCode","keyMap","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","nextCh","basic","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","wasOn","funcs","dragFunctions","toggle","over","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","close","addText","cmText","markerID","isBlock","nodeValue","domToPos","lineNode","locateNodeInLineView","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","label","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","TextareaInput","prevInput","pollingFast","fromTextArea","textarea","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","defineExtension","func","defineDocExtension","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","whitespaces","whitespace","ltrim","rtrim","TYPE","bitmap","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","stringFromCharCode","ucs2decode","extra","digitToBasic","digit","adapt","numPoints","firstTime","encode","currentValue","inputLength","basicLength","handledCPCount","handledCPCountPlusOne","RangeError","qMinusT","baseMinusT","labels","IndexedObject","nativeAssign","B","alphabet","chr","T","CONVERT_TO_STRING","originalArray","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","random","tinycolor","color","rgb","inputToRGB","_originalInput","_r","_a","_roundA","_format","format","_gradientType","gradientType","_ok","_tc_id","stringInputToObject","isValidCSSUnit","rgbToRgb","convertToPercentage","hsvToRgb","hslToRgb","boundAlpha","bound01","rgbToHsl","hue2rgb","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToHex","allow4Char","convertDecimalToHex","rgbaToArgbHex","desaturate","hsl","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","slices","monochromatic","hsv","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","G","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","_applyCombination","fromRatio","newColor","color1","color2","mix","rgb1","rgb2","rgba","readability","c1","c2","isReadable","wcag2","wcag2Parms","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flip","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","hsla","hsva","hex3","hex6","hex4","hex8","named","parms","NATIVE_WEAK_MAP","objectHas","sharedKey","WeakMap","enforce","wmget","wmhas","wmset","metadata","STATE","inspectSource","enforceInternalState","TEMPLATE","simple","dummy","Wrapper","NewTargetPrototype","noOptions","nonWS","probablyInsideString","useInnerComments","toggleComment","minLine","uncomment","lineComment","commentString","pad","blankLines","commentBlankLines","blockCommentStart","fullLines","blockComment","startString","endString","blockCommentEnd","lastLineHasText","lead","blockCommentLead","didSomething","lineString","endPos","startLine","open","endLine","insideStart","insideEnd","lastStart","lastIndexOf","firstEnd","almostLastStart","foundEnd","wrappedWellKnownSymbolModule","NAME","_vm","_h","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","NullProtoObject","domain","ActiveXObject","createIteratorConstructor","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","$parseFloat","trimmedString","propertyKey","functionToString","postfix","regexpFlags","stickyHelpers","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","re","charsAdded","strCopy","feature","detection","POLYFILL","NATIVE","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","genFun","awrap","skipTempReset","rootEntry","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","redefineAll","getIterator","$fetch","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","getInternalIteratorState","plus","sequences","percentSequence","bytes","percentDecode","sequence","deserialize","serialize","parseSearchParams","attribute","validateArgumentsLength","passed","required","URLSearchParamsIterator","kind","URLSearchParamsConstructor","entryIterator","entryNext","URLSearchParamsPrototype","append","getAll","entriesIndex","sliceIndex","fetch","headers","ngraph_events","unwrapExports","createCommonjsModule","common","setMatrixArrayType","toRadian","RANDOM","ARRAY_TYPE","EPSILON","Float32Array","degree","PI","mat2","fromValues","transpose","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","frob","LDU","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","glMatrix","_interopRequireWildcard","_getRequireWildcardCache","newObj","hasPropertyDescriptor","desc","m00","m01","m10","m11","a0","a3","det","b0","b1","b2","b3","rad","sin","cos","v0","v1","L","D","U","mat2d","translate","fromTranslation","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","mat3","fromMat4","fromMat2d","fromQuat","normalFromMat4","projection","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","a6","a7","a8","b6","b7","b8","mat4","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","fromQuat2","getTranslation","getScaling","getRotation","fromRotationTranslationScale","fromRotationTranslationScaleOrigin","frustum","perspective","perspectiveFromFieldOfView","ortho","lookAt","targetTo","m03","m13","m23","m30","m31","m32","m33","b9","xy","xz","yz","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","mat","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","sx","sy","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","rl","tb","nf","fovy","aspect","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","lr","bt","eye","center","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","a9","a14","a15","b13","b14","b15","vec3","divide","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","dot","cross","lerp","hermite","bezier","transformMat4","transformMat3","transformQuat","angle","zero","sqrLen","sqrDist","factorTimes2","factor1","factor2","factor3","factor4","inverseFactor","inverseFactorTimesTwo","zScale","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","mag1","mag2","mag","cosine","acos","vec","stride","vec4","u","E","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","quat","setAxisAngle","getAxisAngle","getAngle","calculateW","exp","ln","slerp","conjugate","fromMat3","fromEuler","setAxes","sqlerp","rotationTo","mat3$1","vec3$1","vec4$1","out_axis","dotproduct","et","atan2","log","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","fRoot","fTrace","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","quat2","fromRotationTranslationValues","getDual","setDual","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","setReal","getReal","quat$1","mat4$1","dq","w1","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","vec2","transformMat2","transformMat2d","p0","p1","sinC","cosC","cjs","mat2$1","mat2d$1","quat2$1","vec2$1","cjs_1","cjs_2","cjs_5","cjs_6","cjs_10","Element","worldModel","modelViewProjection","worldTransformNeedsUpdate","modelViewProjectionNeedsUpdate","scene","sendToBack","bindScene","renderFrame","enterCallback","exitCallback","childIdx","updateWorldTransform","wasDirty","scheduleMVPUpdate","updateModelViewProjection","draw","gl","drawContext","matrix","maxSingleTouchTime","singleTapDistanceSquared","onClap","element","startPos","touchStartTime","invokeHandler","handleTouchEnd","handleTouchStart","disposePrevHandler","dt","changedTouches","spareVec3","xAxis","yAxis","zAxis","ViewMatrix","viewMatrix","cameraWorld","rotation","deconstructPositionRotation","translateOnAxis","translateX","translateY","translateZ","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","LinearEasing","mY1","mY2","sampleValues","getTForX","intervalStart","currentSample","lastSample","guessForT","initialSlope","animations","ease","easeIn","easeOut","easeInOut","linear","amator","animate","makeAggregateRaf_1","makeAggregateRaf","sharedScheduler","easing","scheduler","getScheduler","previousAnimationId","durationInMs","durationInFrames","frame","setValues","canRaf","rafScheduler","timeoutScheduler","cancelAnimationFrame","frontBuffer","backBuffer","frameToken","clearAll","renderNextFrame","createKineticAnimation","getCurrentPoint","moveCallback","settings","lastPoint","timestamp","trackValueHandle","vx","vy","vz","animationHandle","EPS","minVelocity","amplitude","getCancelAnimationFrame","getRequestAnimationFrame","timeConstant","setAmplitude","getAmplitude","impulse","newAmplitude","track","elapsed","currentPoint","dz","kineticMove","moving","fade","TouchState","lastX","lastY","identifier","createdAt","UNKNOWN","SCALE","ROTATE","INCLINE","MultiTouchState","allowRotation","canRotate","canScale","canIncline","createTouchController","inputTarget","camera","lastTouch","listening","activeTouches","Map","panAnimation","rotateAnimation","multiTouchState","lastTouchEndEventTime","lastMultiTouchEventTime","listenToEvents","stopDocumentTouchListeners","startDocumentTouchListeners","handleTouchMove","needRedraw","changedCount","dx$1","dy$1","lastDx","lastDy","zoomChange","zoomToClientCoordinates","rotateByAngle","totalMove","rotateByAbsoluteOffset","timeSinceLastTouchEnd","shouldSkipPanning","isUnknown","panByAbsoluteOffset","redraw","newLastTouch","createKeyboardController","frameHandle","dPhi","vPhi","dRadius","vRadius","dIncline","vIncline","handleKeyDown","handleKeyUp","dampFactor","clampTo","slideCenterUpDown","scaleFactor","sign","zoomCenterByScaleFactor","processNextInput","onKey","isDown","threshold","clampValue","createMouseController","mouseX","mouseY","isAltMouseMove","handleWheel","handleMouseDown","handleDoubleClick","onMouseMove","onMouseUp","isLeftButton","deltaFactor","deltaMode","getScaleFactorFromDelta","deltaY","createSpaceMapCamera","getDrawContext","rotationSpeed","inclinationSpeed","sceneOptions","getOptions","minPhi","maxPhi","phi","clamp","planeNormal","minTheta","maxTheta","theta","centerPointPosition","cameraPosition","getCenterPosition","setCenterPosition","getCenterRotation","setCenterRotation","api","setViewBox","getRadius","canvas","keyboardController","touchController","mouseController","getZoomPlaneIntersection","viewPoint","getSceneCoordinate","spare","ray","denom","angleChange","thetaChange","ar","fCoefficient","pixelRatio","moveCenterBy","shouldAnimate","cPhi","sPhi","new_phi","new_theta","newCameraPosition","getSpherical","upVectorSphereRadius","upVectorTheta","upVector","getRoot","createScene","devicePixelRatio","wglContextOptions","getContext","enable","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","sceneRoot","hasMouseClickListeners","hasMouseMoveListeners","inverseProjection","innerWidth","updateCanvasSize","getClientCoordinate","getTransform","getGL","setClearColor","getClearColor","getPixelRatio","setPixelRatio","getCamera","setCamera","realOn","trapOn","disposeClick","cameraController","newPixelRatio","createCamera","getParameter","COLOR_CLEAR_VALUE","onMouseClick","originalEvent","dpr","clipSpaceX","clipSpaceY","mx","targetZ","sceneX","sceneY","sceneZ","mvp","coordinate","nearHeight","originalFirst","originalSecond","dfy","dfx","dcy","dcx","scaleChange","initialAngle","horizontalAngleInDegrees","isHorizontalLine","Float64Array","glUtils","compile","getLocations","getAttributes","getUniforms","initBuffer","shaderSrc","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","vertexShader","fragmentShader","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniforms","numberOfAttributes","ACTIVE_ATTRIBUTES","activeAttribute","getActiveAttrib","getAttribLocation","numberOfUniforms","ACTIVE_UNIFORMS","activeUniform","getActiveUniform","getUniformLocation","elementsPerVertex","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","createMultiKeyCache","lastCache","Color","PointAccessor","points","_points","positions","is3D","setColor","colors","lineProgramCache","makeWireProgram","wireCollection","allowColors","programKey","lineProgram","getShadersCode$1","lineVSShader","VERTEX_SHADER","lineFSShader","FRAGMENT_SHADER","locations","lineBuffer","lineSize","coloredLineStride","colorOffset","deleteBuffer","deleteProgram","useProgram","uniformMatrix4fv","uModel","projectionMatrix","uView","uniform4f","uColor","isDirtyBuffer","aPosition","aColor","UNSIGNED_BYTE","drawArrays","LINES","lineProgramCache$1","makeThickWireProgram","gle","allowWidth","getExtension","getShadersCode$2","lineStride","positionBuffer","quadPositions","isThickWire","disableVertexAttribArray","aFrom","aFromColor","aTo","aToColor","uniform3fv","uOrigin","uniform1f","uWidth","uniform2f","uResolution","DYNAMIC_DRAW","vertexAttribDivisorANGLE","drawArraysInstancedANGLE","TRIANGLES","WireAccessor","_wire","update3D","update2D","mixUint32Color","c0","toRgba","toHexColor","hexString","hasColor","WireCollection","capacity","bytesPerElement","itemsPerLine","_program","ArrayBuffer","Uint32Array","isWidthForThickWire","setLineWidth","newLineWidth","_extendArray","ui","getLineColor","forEachLine","maxOffset","from$1","next$1","to$1","byteLength","extendedArray","isWebGLEnabled","WebGLRenderingContext","ngraph_graph","createGraph","multigraph","uniqueLinkId","links","multiEdges","suspendEvents","createLink","createUniqueLink","createSingleLink","recordLinkChange","recordNodeChange","enterModification","exitModification","graphPart","addNode","addLink","removeLink","getNode","getNodeCount","getLinkCount","getLinksCount","getNodesCount","getLinks","forEachNode","forEachLinkedNode","forEachLink","beginUpdate","endUpdate","hasLink","getLink","hasNode","monitorSubscribers","enterModificationReal","exitModificationReal","recordLinkChangeReal","recordNodeChangeReal","nodeId","Node","prevLinks","fromId","toId","addLinkToNode","linkId","makeLinkId","Link","isMultiEdge","suffix","idx","indexOfElementInArray","fromNodeId","toNodeId","oriented","forEachOrientedLink","forEachNonOrientedLink","quitFast","linkedNodeId","valuesIterator","nextValue","printHeader","closeDocument","layerSettings","beforeWrite","yes","lineCollection","getLineRenderTrait","renderLinesCollection","viewBox","elementGraph","project","getProjector","isBehind","clipToViewPort","stroke","strokeColor","elementWidth","strokeWidth","openTag","globalOrder","getGlobalOrder","lastNode","lastPath","commitLastPath","graph","visited","stack","runDFS","fromTo","roundFactor","rounder","makeRounder","clipToPlane","q1","q2","d1","getDotNorm","d2","createGuide","nullElement","lineColor","maxAlpha","grid","createGrid","createCursor","cursorColor","showGrid","levelUp","levelDown","log10","alpha","drawLevel","geometry","gridColor","stepTop","stepLeft","showCursor","prevPoint","nextPoint","UniformTypeToFunctionName","float","ActiveUniform","variableType","functionName","getInitBlockForDraw","getDraw","ActiveTexture","variableName","ready","isTexture","getTextureInitCanvasBlock","BaseAttribute","debug","bufferViewType","bytePerElement","setName","getInitBlockForBuffer","includeDeclaration","ensureNameIsSet","prefix","getAddBlock","getGetBlock","getDivisor","divisor","FloatAttribute","lineJoin","NumberAttribute","GLTypeToBufferType","getProgramInfo","programDefinition","instancedAttributes","parsedProgram","parseProgram","vertex","typeDef","instancedAttribute","instanced","setTypeDefinition","textureCount","uniform","bytePerVertex","itemPerVertex","attributeLayout","attributeMatch","appendVariables","uniformMatch","variableDefinition","collection","FinalCode","implementation","bufferInit","defineProgram","structure","programInfo","glProgram","preDrawHook","postDrawHook","constructCode","drawCode","programAPI","getCode","finalCode","addCodeThatCounts","sourceBuffer","addCodeThatSetsGLBuffer","addCodeThatModifiesBuffer","addCodeThatCreatesGLBuffer","addCodeThatSetsTextures","addCodeThatDrawsBuffer","addToInit","addToAPI","textures","cases","addToImplementation","sourceBufferCode","addBufferInit","bufferInitAttribute","getInitBlock","attributesDrawBlock","byteOffset","getDrawImplementation","uniformsDrawBlock","instancedDrawBlock","setDivisorBlock","unsetDivisorBlock","drawCallBlock","checkDrawCode","checkTexturesReady","bufferDataIfNeeded","texture","setAttributesDrawBlock","getImplementationCode","modifyBufferBlock","getAttributeBlock","extendBlock","addOffset","collectAttributeSpecificBlocks","getUpdateMethodDebugAsserts","extendCollectionCode","addBlock","vertexSource","fragmentSource","block","finalBuffer","addToFinalBuffer","ColorAttribute","InstancedAttribute","bufferValues","GLCollection","getBuffer","appendBuffer","uint8Collection","returnMethod","nativeDefineProperty","Attributes","queryState","singletonQS","eventify","validateHistoryAPI","updateQuery","unset","unsetValue","setIfEmpty","onChange","offChange","getHistoryObject","eventBus","keyNameType","newAppState","RE","nativeJoin","ES3_STRINGS","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","defineWellKnownSymbol","HIDDEN","SYMBOL","TO_PRIMITIVE","ObjectPrototype","$stringify","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","isSymbol","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","useSetter","useSimple","FORCED_JSON_STRINGIFY","$replacer","valueOf","$every","checkCorrectnessOfIteration","INCORRECT_ITERATION","NativePromise","promiseResolve","NON_GENERIC","real","onFinally","isFunction","inheritIfRequired","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","maxCode","digits","NumberWrapper","dotAll","thrower","ACCESSORS","argument0","argument1","PrototypeOfArrayIteratorPrototype","arrayIterator","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","flush","promise","macrotask","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","exit","task","createWellKnownSymbol","withoutSetter","nativeKeys","arraySpeciesCreate","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","specificCreate","findIndex","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","arrayLikeToArray","_createForOfIteratorHelper","allowArrayLike","unsupportedIterableToArray","normalCompletion","didErr","_e2","_defineProperties","_createClass","protoProps","staticProps","PREFERRED_STRING","SHARED","CmComponent","codemirror","non","$indexOf","nativeIndexOf","NEGATIVE_ZERO","1","searchElement","EXISTS","newPromiseCapability","promiseCapability","variable","NASHORN_BUG","aPossiblePrototype","CORRECT_SETTER","TAG","_classCallCheck","REPLACE_SUPPORTS_NAMED_GROUPS","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","$map","globalThis","ArrayIteratorMethods","ArrayValues","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","addToUnscopables","ARRAY_ITERATOR","Arguments","globalIsFinite","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","setSpecies","microtask","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","newGenericPromiseCapability","DISPATCH_EVENT","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","all","isThenable","isReject","notified","chain","reactions","exited","reaction","fail","rejection","onHandleUnhandled","onUnhandled","IS_UNHANDLED","isUnhandled","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","capability","$promiseResolve","alreadyCalled","race","numberIsFinite","PromiseCapability","$$resolve","$$reject","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","0","nativeSlice","fin","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-vendors.4aded312.js","sourcesContent":["module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","/**\n * Provides a `null` object that matches history API\n */\nmodule.exports = inMemoryHistory;\n\nfunction inMemoryHistory(defaults) {\n  var listeners = [];\n  var lastQueryObject = defaults;\n\n  return {\n    dispose: dispose,\n    onChanged: onChanged,\n    set: set,\n    get: get\n  };\n\n  function get() {\n    return lastQueryObject;\n  }\n\n  function set(newQueryObject) {\n    lastQueryObject = newQueryObject;\n    setTimeout(function() {\n      triggerChange(newQueryObject);\n    }, 0);\n  }\n\n  function dispose() {\n    listeners = [];\n  }\n\n  function onChanged(changeCallback) {\n    if (typeof changeCallback !== 'function') {\n      throw new Error('changeCallback should be a function')\n    }\n\n    listeners.push(changeCallback);\n  }\n\n  function triggerChange(appState) {\n    listeners.forEach(function(listener) {\n      listener(appState);\n    });\n  }\n}\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","/**\n * Uses `window` to monitor hash and update hash\n */\nmodule.exports = windowHistory;\n\nvar inMemoryHistory = require('./inMemoryHistory.js');\nvar query = require('./query.js');\n\nfunction windowHistory(defaults, options) {\n  // If we don't support window, we are probably running in node. Just return\n  // in memory history\n  if (typeof window === 'undefined') return inMemoryHistory(defaults);\n\n  // Store all `onChanged()` listeners here, so that we can have just one\n  // `hashchange` listener, and notify one listeners within single event.\n  var listeners = [];\n\n  var useSearchPart = options && options.useSearch; // prefer query ? over hash #\n\n  // This prefix is used for all query strings. So our state is stored as\n  // my-app.com/#?key=value\n  var hashPrefix = useSearchPart ? '?' : '#?';\n\n  if (options.rewriteHashToSearch) {\n    rewriteHashToSearch();\n  }\n  init();\n\n  // This is our public API:\n  return {\n    /**\n     * Adds callback that is called when hash change happen. Callback receives\n     * current hash string with `#?` sign\n     * \n     * @param {Function} changeCallback - a function that is called when hash is\n     * changed. Callback gets one argument that represents the new state.\n     */\n    onChanged: onChanged,\n\n    /**\n     * Releases all resources\n     */\n    dispose: dispose,\n\n    /**\n     * Sets a new app state\n     *\n     * @param {object} appState - the new application state, that should be\n     * persisted in the hash string\n     */\n    set: set,\n\n    /**\n     * Gets current app state\n     */\n    get: getStateFromHash,\n\n    /**\n     * Allows to rewrite current hash url into search url\n     */\n    rewriteHashToSearch: rewriteHashToSearch\n  };\n\n  // Public API is over. You can ignore this part.\n\n  function init() {\n    var stateFromHash = getStateFromHash();\n    var stateChanged = false;\n\n    if (typeof defaults === 'object' && defaults) {\n      Object.keys(defaults).forEach(function(key) {\n        if (key in stateFromHash) return;\n\n        stateFromHash[key] = defaults[key]\n        stateChanged = true;\n      });\n    }\n\n    if (stateChanged) set(stateFromHash);\n  }\n\n  function rewriteHashToSearch() {\n    var mergedState = Object.create(null);\n\n    var searchString = window.location.search;\n    if (searchString) mergedState = Object.assign(mergedState, query.parse(searchString.substr(1)));\n\n    var hashString = window.location.hash;\n    if (hashString) mergedState = Object.assign(mergedState, query.parse(hashString.substr(2)));\n\n    set(mergedState);\n  }\n\n  function set(appState) {\n    var hash = hashPrefix + query.stringify(appState);\n    if (useSearchPart && window.location.hash) {\n      // preserve hash if it was there.\n      hash += window.location.hash;\n    }\n\n    if (window.history) {\n      window.history.replaceState(undefined, undefined, hash);\n    } else {\n      window.location.replace(hash);\n    }\n  }\n\n  function onChanged(changeCallback) {\n    if (typeof changeCallback !== 'function') throw new Error('changeCallback needs to be a function');\n\n    // we start listen just once, only if we didn't listen before:\n    if (listeners.length === 0) {\n      window.addEventListener('hashchange', onHashChanged, false);\n    }\n\n    listeners.push(changeCallback);\n  }\n\n  function dispose() {\n    if (listeners.length === 0) return; // no need to do anything.\n\n    // Let garbage collector collect all listeners;\n    listeners = [];\n\n    // And release hash change event:\n    window.removeEventListener('hashchange', onHashChanged, false);\n  }\n\n  function onHashChanged() {\n    var appState = getStateFromHash();\n    notifyListeners(appState);\n  }\n\n  function notifyListeners(appState) {\n    for (var i = 0; i < listeners.length; ++i) {\n      var listener = listeners[i];\n      listener(appState);\n    }\n  }\n\n  function getStateFromHash() {\n    var baseString = useSearchPart ? window.location.search : window.location.hash;\n    // or symbol || is used to get empty string when no base string is present. \n    var queryString = (baseString || hashPrefix).substr(hashPrefix.length);\n    return query.parse(queryString);\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","/*!\n * Vue.js v2.6.11\n * (c) 2014-2019 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar isUsingMicroTask = false;\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n  isUsingMicroTask = true;\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n  isUsingMicroTask = true;\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.11';\n\n/*  */\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n  return (\n    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||\n    (attr === 'selected' && tag === 'option') ||\n    (attr === 'checked' && tag === 'input') ||\n    (attr === 'muted' && tag === 'video')\n  )\n};\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\n\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\n\nvar convertEnumeratedValue = function (key, value) {\n  return isFalsyAttrValue(value) || value === 'false'\n    ? 'false'\n    // allow arbitrary string value for contenteditable\n    : key === 'contenteditable' && isValidContentEditableValue(value)\n      ? value\n      : 'true'\n};\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n);\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n};\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n};\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n};\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data;\n  var parentNode = vnode;\n  var childNode = vnode;\n  while (isDef(childNode.componentInstance)) {\n    childNode = childNode.componentInstance._vnode;\n    if (childNode && childNode.data) {\n      data = mergeClassData(childNode.data, data);\n    }\n  }\n  while (isDef(parentNode = parentNode.parent)) {\n    if (parentNode && parentNode.data) {\n      data = mergeClassData(data, parentNode.data);\n    }\n  }\n  return renderClass(data.staticClass, data.class)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: isDef(child.class)\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n};\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n};\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag);\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/*  */\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selected = document.querySelector(el);\n    if (!selected) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + el\n      );\n      return document.createElement('div')\n    }\n    return selected\n  } else {\n    return el\n  }\n}\n\n/*  */\n\nfunction createElement$1 (tagName, vnode) {\n  var elm = document.createElement(tagName);\n  if (tagName !== 'select') {\n    return elm\n  }\n  // false or null will remove the attribute but undefined will not\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {\n    elm.setAttribute('multiple', 'multiple');\n  }\n  return elm\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text;\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove$$1 () {\n      if (--remove$$1.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove$$1.listeners = listeners;\n    return remove$$1\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement$$1 (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement$$1(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue);\n        }\n        insert(parentElm, vnode.elm, refElm);\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref$$1) {\n    if (isDef(parent)) {\n      if (isDef(ref$$1)) {\n        if (nodeOps.parentNode(ref$$1) === parent) {\n          nodeOps.insertBefore(parent, elm, ref$$1);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement$$1(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  var opts = vnode.componentOptions;\n  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n    return\n  }\n  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(attrs.__ob__)) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      setAttr(elm, key, cur);\n    }\n  }\n  // #4391: in IE9, setting type can reset value for input[type=radio]\n  // #6666: IE/Edge forces progress value down to 1 before setting a max\n  /* istanbul ignore if */\n  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n    setAttr(elm, 'value', attrs.value);\n  }\n  for (key in oldAttrs) {\n    if (isUndef(attrs[key])) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key);\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (el.tagName.indexOf('-') > -1) {\n    baseSetAttr(el, key, value);\n  } else if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key);\n    } else {\n      // technically allowfullscreen is a boolean attribute for <iframe>,\n      // but Flash expects a value of \"true\" when used on <embed> tag\n      value = key === 'allowfullscreen' && el.tagName === 'EMBED'\n        ? 'true'\n        : key;\n      el.setAttribute(key, value);\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, convertEnumeratedValue(key, value));\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    baseSetAttr(el, key, value);\n  }\n}\n\nfunction baseSetAttr (el, key, value) {\n  if (isFalsyAttrValue(value)) {\n    el.removeAttribute(key);\n  } else {\n    // #7138: IE10 & 11 fires input event when setting placeholder on\n    // <textarea>... block the first input event and remove the blocker\n    // immediately.\n    /* istanbul ignore if */\n    if (\n      isIE && !isIE9 &&\n      el.tagName === 'TEXTAREA' &&\n      key === 'placeholder' && value !== '' && !el.__ieph\n    ) {\n      var blocker = function (e) {\n        e.stopImmediatePropagation();\n        el.removeEventListener('input', blocker);\n      };\n      el.addEventListener('input', blocker);\n      // $flow-disable-line\n      el.__ieph = true; /* IE placeholder patched */\n    }\n    el.setAttribute(key, value);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (\n    isUndef(data.staticClass) &&\n    isUndef(data.class) && (\n      isUndef(oldData) || (\n        isUndef(oldData.staticClass) &&\n        isUndef(oldData.class)\n      )\n    )\n  ) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode);\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses;\n  if (isDef(transitionClass)) {\n    cls = concat(cls, stringifyClass(transitionClass));\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls);\n    el._prevClass = cls;\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n/*  */\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents (on) {\n  /* istanbul ignore if */\n  if (isDef(on[RANGE_TOKEN])) {\n    // IE input[type=range] only supports `change` event\n    var event = isIE ? 'change' : 'input';\n    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);\n    delete on[RANGE_TOKEN];\n  }\n  // This was originally intended to fix #4521 but no longer necessary\n  // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n  /* istanbul ignore if */\n  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n    delete on[CHECKBOX_RADIO_TOKEN];\n  }\n}\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\n\nfunction add$1 (\n  name,\n  handler,\n  capture,\n  passive\n) {\n  // async edge case #6566: inner click event triggers patch, event handler\n  // attached to outer element during patch, and triggered again. This\n  // happens because browsers fire microtask ticks between event propagation.\n  // the solution is simple: we save the timestamp when a handler is attached,\n  // and the handler would only fire if the event passed to it was fired\n  // AFTER it was attached.\n  if (useMicrotaskFix) {\n    var attachedTimestamp = currentFlushTimestamp;\n    var original = handler;\n    handler = original._wrapper = function (e) {\n      if (\n        // no bubbling, should always fire.\n        // this is just a safety net in case event.timeStamp is unreliable in\n        // certain weird environments...\n        e.target === e.currentTarget ||\n        // event is fired after handler attachment\n        e.timeStamp >= attachedTimestamp ||\n        // bail for environments that have buggy event.timeStamp implementations\n        // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n        // #9681 QtWebEngine event.timeStamp is negative value\n        e.timeStamp <= 0 ||\n        // #9448 bail if event is fired in another document in a multi-page\n        // electron/nw.js app, since event.timeStamp will be using a different\n        // starting reference\n        e.target.ownerDocument !== document\n      ) {\n        return original.apply(this, arguments)\n      }\n    };\n  }\n  target$1.addEventListener(\n    name,\n    handler,\n    supportsPassive\n      ? { capture: capture, passive: passive }\n      : capture\n  );\n}\n\nfunction remove$2 (\n  name,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEventListener(\n    name,\n    handler._wrapper || handler,\n    capture\n  );\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  normalizeEvents(on);\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar svgContainer;\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n    return\n  }\n  var key, cur;\n  var elm = vnode.elm;\n  var oldProps = oldVnode.data.domProps || {};\n  var props = vnode.data.domProps || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(props.__ob__)) {\n    props = vnode.data.domProps = extend({}, props);\n  }\n\n  for (key in oldProps) {\n    if (!(key in props)) {\n      elm[key] = '';\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if (key === 'textContent' || key === 'innerHTML') {\n      if (vnode.children) { vnode.children.length = 0; }\n      if (cur === oldProps[key]) { continue }\n      // #6601 work around Chrome version <= 55 bug where single textNode\n      // replaced by innerHTML/textContent retains its parentNode property\n      if (elm.childNodes.length === 1) {\n        elm.removeChild(elm.childNodes[0]);\n      }\n    }\n\n    if (key === 'value' && elm.tagName !== 'PROGRESS') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur;\n      // avoid resetting cursor position when value is the same\n      var strCur = isUndef(cur) ? '' : String(cur);\n      if (shouldUpdateValue(elm, strCur)) {\n        elm.value = strCur;\n      }\n    } else if (key === 'innerHTML' && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {\n      // IE doesn't support innerHTML for SVG elements\n      svgContainer = svgContainer || document.createElement('div');\n      svgContainer.innerHTML = \"<svg>\" + cur + \"</svg>\";\n      var svg = svgContainer.firstChild;\n      while (elm.firstChild) {\n        elm.removeChild(elm.firstChild);\n      }\n      while (svg.firstChild) {\n        elm.appendChild(svg.firstChild);\n      }\n    } else if (\n      // skip the update if old and new VDOM state is the same.\n      // `value` is handled separately because the DOM value may be temporarily\n      // out of sync with VDOM state due to focus, composition and modifiers.\n      // This  #4521 by skipping the unnecesarry `checked` update.\n      cur !== oldProps[key]\n    ) {\n      // some property updates can throw\n      // e.g. `value` on <progress> w/ non-finite value\n      try {\n        elm[key] = cur;\n      } catch (e) {}\n    }\n  }\n}\n\n// check platforms/web/util/attrs.js acceptValue\n\n\nfunction shouldUpdateValue (elm, checkVal) {\n  return (!elm.composing && (\n    elm.tagName === 'OPTION' ||\n    isNotInFocusAndDirty(elm, checkVal) ||\n    isDirtyWithModifiers(elm, checkVal)\n  ))\n}\n\nfunction isNotInFocusAndDirty (elm, checkVal) {\n  // return true when textbox (.number and .trim) loses focus and its value is\n  // not equal to the updated value\n  var notInFocus = true;\n  // #6157\n  // work around IE bug when accessing document.activeElement in an iframe\n  try { notInFocus = document.activeElement !== elm; } catch (e) {}\n  return notInFocus && elm.value !== checkVal\n}\n\nfunction isDirtyWithModifiers (elm, newVal) {\n  var value = elm.value;\n  var modifiers = elm._vModifiers; // injected by v-model runtime\n  if (isDef(modifiers)) {\n    if (modifiers.number) {\n      return toNumber(value) !== toNumber(newVal)\n    }\n    if (modifiers.trim) {\n      return value.trim() !== newVal.trim()\n    }\n  }\n  return value !== newVal\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n};\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData (data) {\n  var style = normalizeStyleBinding(data.style);\n  // static style is pre-processed into an object during compilation\n  // and is always a fresh object, so it's safe to merge into it\n  return data.staticStyle\n    ? extend(data.staticStyle, style)\n    : style\n}\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle (vnode, checkChild) {\n  var res = {};\n  var styleData;\n\n  if (checkChild) {\n    var childNode = vnode;\n    while (childNode.componentInstance) {\n      childNode = childNode.componentInstance._vnode;\n      if (\n        childNode && childNode.data &&\n        (styleData = normalizeStyleData(childNode.data))\n      ) {\n        extend(res, styleData);\n      }\n    }\n  }\n\n  if ((styleData = normalizeStyleData(vnode.data))) {\n    extend(res, styleData);\n  }\n\n  var parentNode = vnode;\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n      extend(res, styleData);\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n  /* istanbul ignore if */\n  if (cssVarRE.test(name)) {\n    el.style.setProperty(name, val);\n  } else if (importantRE.test(val)) {\n    el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n  } else {\n    var normalizedName = normalize(name);\n    if (Array.isArray(val)) {\n      // Support values array created by autoprefixer, e.g.\n      // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n      // Set them one by one, and the browser will only set those it can recognize\n      for (var i = 0, len = val.length; i < len; i++) {\n        el.style[normalizedName] = val[i];\n      }\n    } else {\n      el.style[normalizedName] = val;\n    }\n  }\n};\n\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\n\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n  emptyStyle = emptyStyle || document.createElement('div').style;\n  prop = camelize(prop);\n  if (prop !== 'filter' && (prop in emptyStyle)) {\n    return prop\n  }\n  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n  for (var i = 0; i < vendorNames.length; i++) {\n    var name = vendorNames[i] + capName;\n    if (name in emptyStyle) {\n      return name\n    }\n  }\n});\n\nfunction updateStyle (oldVnode, vnode) {\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n\n  if (isUndef(data.staticStyle) && isUndef(data.style) &&\n    isUndef(oldData.staticStyle) && isUndef(oldData.style)\n  ) {\n    return\n  }\n\n  var cur, name;\n  var el = vnode.elm;\n  var oldStaticStyle = oldData.staticStyle;\n  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n\n  // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n  var oldStyle = oldStaticStyle || oldStyleBinding;\n\n  var style = normalizeStyleBinding(vnode.data.style) || {};\n\n  // store normalized style under a different key for next diff\n  // make sure to clone it if it's reactive, since the user likely wants\n  // to mutate it.\n  vnode.data.normalizedStyle = isDef(style.__ob__)\n    ? extend({}, style)\n    : style;\n\n  var newStyle = getStyle(vnode, true);\n\n  for (name in oldStyle) {\n    if (isUndef(newStyle[name])) {\n      setProp(el, name, '');\n    }\n  }\n  for (name in newStyle) {\n    cur = newStyle[name];\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      setProp(el, name, cur == null ? '' : cur);\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n};\n\n/*  */\n\nvar whitespaceRE = /\\s+/;\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n    } else {\n      el.classList.add(cls);\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n    } else {\n      el.classList.remove(cls);\n    }\n    if (!el.classList.length) {\n      el.removeAttribute('class');\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    cur = cur.trim();\n    if (cur) {\n      el.setAttribute('class', cur);\n    } else {\n      el.removeAttribute('class');\n    }\n  }\n}\n\n/*  */\n\nfunction resolveTransition (def$$1) {\n  if (!def$$1) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def$$1 === 'object') {\n    var res = {};\n    if (def$$1.css !== false) {\n      extend(res, autoCssTransition(def$$1.name || 'v'));\n    }\n    extend(res, def$$1);\n    return res\n  } else if (typeof def$$1 === 'string') {\n    return autoCssTransition(def$$1)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n  ) {\n    transitionProp = 'WebkitTransition';\n    transitionEndEvent = 'webkitTransitionEnd';\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined\n  ) {\n    animationProp = 'WebkitAnimation';\n    animationEndEvent = 'webkitAnimationEnd';\n  }\n}\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\n\nfunction addTransitionClass (el, cls) {\n  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n  if (transitionClasses.indexOf(cls) < 0) {\n    transitionClasses.push(cls);\n    addClass(el, cls);\n  }\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls);\n  }\n  removeClass(el, cls);\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) { return cb() }\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n  var ended = 0;\n  var end = function () {\n    el.removeEventListener(event, onEnd);\n    cb();\n  };\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end();\n      }\n    }\n  };\n  setTimeout(function () {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(event, onEnd);\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/;\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el);\n  // JSDOM may return undefined for transition properties\n  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n  var animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  var type;\n  var timeout = 0;\n  var propCount = 0;\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null;\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0;\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property']);\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  /* istanbul ignore next */\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs (s) {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\n}\n\n/*  */\n\nfunction enter (vnode, toggleDisplay) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n  var duration = data.duration;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    context = transitionNode.context;\n    transitionNode = transitionNode.parent;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass;\n  var activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass;\n  var toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass;\n\n  var beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter;\n  var enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter;\n  var afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter;\n  var enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled;\n\n  var explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode);\n  }\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(enterHook);\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass);\n      removeTransitionClass(el, activeClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass);\n      }\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', function () {\n      var parent = el.parentNode;\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb();\n      }\n      enterHook && enterHook(el, cb);\n    });\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n  if (expectsCSS) {\n    addTransitionClass(el, startClass);\n    addTransitionClass(el, activeClass);\n    nextFrame(function () {\n      removeTransitionClass(el, startClass);\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass);\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration);\n          } else {\n            whenTransitionEnds(el, type, cb);\n          }\n        }\n      }\n    });\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay();\n    enterHook && enterHook(el, cb);\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n  var duration = data.duration;\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(leave);\n\n  var explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode);\n  }\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass);\n      removeTransitionClass(el, leaveActiveClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass);\n      }\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass);\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass);\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass);\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration);\n            } else {\n              whenTransitionEnds(el, type, cb);\n            }\n          }\n        }\n      });\n    }\n    leave && leave(el, cb);\n    if (!expectsCSS && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration (val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      \"<transition> explicit \" + name + \" duration is not a valid number - \" +\n      \"got \" + (JSON.stringify(val)) + \".\",\n      vnode.context\n    );\n  } else if (isNaN(val)) {\n    warn(\n      \"<transition> explicit \" + name + \" duration is NaN - \" +\n      'the duration expression might be incorrect.',\n      vnode.context\n    );\n  }\n}\n\nfunction isValidDuration (val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength (fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  var invokerFns = fn.fns;\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter (_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode);\n  }\n}\n\nvar transition = inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove: function remove$$1 (vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm);\n    } else {\n      rm();\n    }\n  }\n} : {};\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement;\n    if (el && el.vmodel) {\n      trigger(el, 'input');\n    }\n  });\n}\n\nvar directive = {\n  inserted: function inserted (el, binding, vnode, oldVnode) {\n    if (vnode.tag === 'select') {\n      // #6903\n      if (oldVnode.elm && !oldVnode.elm._vOptions) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n          directive.componentUpdated(el, binding, vnode);\n        });\n      } else {\n        setSelected(el, binding, vnode.context);\n      }\n      el._vOptions = [].map.call(el.options, getValue);\n    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n      el._vModifiers = binding.modifiers;\n      if (!binding.modifiers.lazy) {\n        el.addEventListener('compositionstart', onCompositionStart);\n        el.addEventListener('compositionend', onCompositionEnd);\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        el.addEventListener('change', onCompositionEnd);\n        /* istanbul ignore if */\n        if (isIE9) {\n          el.vmodel = true;\n        }\n      }\n    }\n  },\n\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context);\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matching\n      // option in the DOM.\n      var prevOptions = el._vOptions;\n      var curOptions = el._vOptions = [].map.call(el.options, getValue);\n      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {\n        // trigger change event if\n        // no matching option found for at least one value\n        var needReset = el.multiple\n          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })\n          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);\n        if (needReset) {\n          trigger(el, 'change');\n        }\n      }\n    }\n  }\n};\n\nfunction setSelected (el, binding, vm) {\n  actuallySetSelected(el, binding, vm);\n  /* istanbul ignore if */\n  if (isIE || isEdge) {\n    setTimeout(function () {\n      actuallySetSelected(el, binding, vm);\n    }, 0);\n  }\n}\n\nfunction actuallySetSelected (el, binding, vm) {\n  var value = binding.value;\n  var isMultiple = el.multiple;\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    );\n    return\n  }\n  var selected, option;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i];\n    if (isMultiple) {\n      selected = looseIndexOf(value, getValue(option)) > -1;\n      if (option.selected !== selected) {\n        option.selected = selected;\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i;\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1;\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  return options.every(function (o) { return !looseEqual(o, value); })\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true;\n}\n\nfunction onCompositionEnd (e) {\n  // prevent triggering an input event for no reason\n  if (!e.target.composing) { return }\n  e.target.composing = false;\n  trigger(e.target, 'input');\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(type, true, true);\n  el.dispatchEvent(e);\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.componentInstance._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    var originalDisplay = el.__vOriginalDisplay =\n      el.style.display === 'none' ? '' : el.style.display;\n    if (value && transition$$1) {\n      vnode.data.show = true;\n      enter(vnode, function () {\n        el.style.display = originalDisplay;\n      });\n    } else {\n      el.style.display = value ? originalDisplay : 'none';\n    }\n  },\n\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (!value === !oldValue) { return }\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    if (transition$$1) {\n      vnode.data.show = true;\n      if (value) {\n        enter(vnode, function () {\n          el.style.display = el.__vOriginalDisplay;\n        });\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none';\n        });\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none';\n    }\n  },\n\n  unbind: function unbind (\n    el,\n    binding,\n    vnode,\n    oldVnode,\n    isDestroy\n  ) {\n    if (!isDestroy) {\n      el.style.display = el.__vOriginalDisplay;\n    }\n  }\n};\n\nvar platformDirectives = {\n  model: directive,\n  show: show\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n/*  */\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  beforeMount: function beforeMount () {\n    var this$1 = this;\n\n    var update = this._update;\n    this._update = function (vnode, hydrating) {\n      var restoreActiveInstance = setActiveInstance(this$1);\n      // force removing pass\n      this$1.__patch__(\n        this$1._vnode,\n        this$1.kept,\n        false, // hydrating\n        true // removeOnly (!important, avoids unnecessary moves)\n      );\n      this$1._vnode = this$1.kept;\n      restoreActiveInstance();\n      update.call(this$1, vnode, hydrating);\n    };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts ? (opts.Ctor.options.name || opts.tag || '') : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1];\n        c$1.data.transition = transitionData;\n        c$1.data.pos = c$1.elm.getBoundingClientRect();\n        if (map[c$1.key]) {\n          kept.push(c$1);\n        } else {\n          removed.push(c$1);\n        }\n      }\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    // we divide the work into three loops to avoid mixing DOM reads and writes\n    // in each iteration - which helps prevent layout thrashing.\n    children.forEach(callPendingCbs);\n    children.forEach(recordPosition);\n    children.forEach(applyTranslation);\n\n    // force reflow to put everything in position\n    // assign to this to avoid being removed in tree-shaking\n    // $flow-disable-line\n    this._reflow = document.body.offsetHeight;\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm;\n        var s = el.style;\n        addTransitionClass(el, moveClass);\n        s.transform = s.WebkitTransform = s.transitionDuration = '';\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (e && e.target !== el) {\n            return\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      /* istanbul ignore if */\n      if (this._hasMove) {\n        return this._hasMove\n      }\n      // Detect whether an element with the move class applied has\n      // CSS transitions. Since the element may be inside an entering\n      // transition at this very moment, we make a clone of it and remove\n      // all other transition classes applied to ensure only the move class\n      // is applied.\n      var clone = el.cloneNode();\n      if (el._transitionClasses) {\n        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });\n      }\n      addClass(clone, moveClass);\n      clone.style.display = 'none';\n      this.$el.appendChild(clone);\n      var info = getTransitionInfo(clone);\n      this.$el.removeChild(clone);\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n};\n\nfunction callPendingCbs (c) {\n  /* istanbul ignore if */\n  if (c.elm._moveCb) {\n    c.elm._moveCb();\n  }\n  /* istanbul ignore if */\n  if (c.elm._enterCb) {\n    c.elm._enterCb();\n  }\n}\n\nfunction recordPosition (c) {\n  c.data.newPos = c.elm.getBoundingClientRect();\n}\n\nfunction applyTranslation (c) {\n  var oldPos = c.data.pos;\n  var newPos = c.data.newPos;\n  var dx = oldPos.left - newPos.left;\n  var dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    c.data.moved = true;\n    var s = c.elm.style;\n    s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\";\n    s.transitionDuration = '0s';\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n\n// public mount method\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && inBrowser ? query(el) : undefined;\n  return mountComponent(this, el, hydrating)\n};\n\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n  setTimeout(function () {\n    if (config.devtools) {\n      if (devtools) {\n        devtools.emit('init', Vue);\n      } else if (\n        process.env.NODE_ENV !== 'production' &&\n        process.env.NODE_ENV !== 'test'\n      ) {\n        console[console.info ? 'info' : 'log'](\n          'Download the Vue Devtools extension for a better development experience:\\n' +\n          'https://github.com/vuejs/vue-devtools'\n        );\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      config.productionTip !== false &&\n      typeof console !== 'undefined'\n    ) {\n      console[console.info ? 'info' : 'log'](\n        \"You are running Vue in development mode.\\n\" +\n        \"Make sure to turn on production mode when deploying for production.\\n\" +\n        \"See more tips at https://vuejs.org/guide/deployment.html\"\n      );\n    }\n  }, 0);\n}\n\n/*  */\n\nexport default Vue;\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = {};\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","/**\n * This module is similar to JSON, but it encodes/decodes in query string\n * format `key1=value1...`\n */\nmodule.exports = {\n  parse: parse,\n  stringify: stringify\n};\n\nfunction stringify(object) {\n  if (!object) return '';\n\n  return Object.keys(object).map(toPairs).join('&');\n\n  function toPairs(key) {\n    var value = object[key];\n    var pair = encodePart(key);\n    if (value !== undefined) {\n      pair += '=' + encodeValue(value);\n    }\n\n    return pair;\n  }\n}\n\nfunction parse(queryString) {\n  var query = Object.create(null);\n\n  if (!queryString) return query;\n\n  queryString.split('&').forEach(decodeRecord);\n\n  return query;\n\n  function decodeRecord(queryRecord) {\n    if (!queryRecord) return;\n\n    var pair = queryRecord.split('=');\n    query[decodeURIComponent(pair[0])] = decodeValue(pair[1]);\n  }\n}\n\nfunction encodeValue(value) {\n  // TODO: Do I need this?\n  // if (typeof value === 'string') {\n  //   if (value.match(/^(true|false)$/)) {\n  //     // special handling of strings that look like booleans\n  //     value = JSON.stringify('' + value);\n  //   } else if (value.match(/^-?\\d+\\.?\\d*$/)) {\n  //     // special handling of strings that look like numbers\n  //     value = JSON.stringify('' + value);\n  //   }\n  // }\n  if (value instanceof Date) {\n    value = value.toISOString();\n  }\n  var uriValue = encodePart(value);\n  return uriValue;\n}\n\nfunction encodePart(part) {\n  // We want to make sure that we also encode symbols like ( and ) correctly\n  var encoded = encodeURIComponent(part);\n  return encoded.replace(/[()]/g, saferEscape);\n}\n\nfunction saferEscape(character) {\n  if (character === ')') return '%29';\n  if (character === '(') return '%28';\n  return character; // What?\n}\n\n/**\n * This method returns typed value from string\n */\nfunction decodeValue(value) {\n  value = decodeURIComponent(value);\n\n  if (value === \"\") return value;\n  if (!isNaN(value)) return parseFloat(value);\n  if (isBolean(value)) return value === 'true';\n  if (isISODateString(value)) return new Date(value);\n\n  return value;\n}\n\nfunction isBolean(strValue) {\n  return strValue === 'true' || strValue === 'false';\n}\n\nfunction isISODateString(str) {\n  return str && str.match(/(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/)\n}\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history.maxGeneration);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.54.0\";\n\n  return CodeMirror;\n\n})));\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var noOptions = {};\n  var nonWS = /[^\\s\\u00a0]/;\n  var Pos = CodeMirror.Pos;\n\n  function firstNonWS(str) {\n    var found = str.search(nonWS);\n    return found == -1 ? 0 : found;\n  }\n\n  CodeMirror.commands.toggleComment = function(cm) {\n    cm.toggleComment();\n  };\n\n  CodeMirror.defineExtension(\"toggleComment\", function(options) {\n    if (!options) options = noOptions;\n    var cm = this;\n    var minLine = Infinity, ranges = this.listSelections(), mode = null;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      if (from.line >= minLine) continue;\n      if (to.line >= minLine) to = Pos(minLine, 0);\n      minLine = from.line;\n      if (mode == null) {\n        if (cm.uncomment(from, to, options)) mode = \"un\";\n        else { cm.lineComment(from, to, options); mode = \"line\"; }\n      } else if (mode == \"un\") {\n        cm.uncomment(from, to, options);\n      } else {\n        cm.lineComment(from, to, options);\n      }\n    }\n  });\n\n  // Rough heuristic to try and detect lines that are part of multi-line string\n  function probablyInsideString(cm, pos, line) {\n    return /\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\\'\\\"\\`]/.test(line)\n  }\n\n  function getMode(cm, pos) {\n    var mode = cm.getMode()\n    return mode.useInnerComments === false || !mode.innerMode ? mode : cm.getModeAt(pos)\n  }\n\n  CodeMirror.defineExtension(\"lineComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var firstLine = self.getLine(from.line);\n    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;\n\n    var commentString = options.lineComment || mode.lineComment;\n    if (!commentString) {\n      if (options.blockCommentStart || mode.blockCommentStart) {\n        options.fullLines = true;\n        self.blockComment(from, to, options);\n      }\n      return;\n    }\n\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);\n    var pad = options.padding == null ? \" \" : options.padding;\n    var blankLines = options.commentBlankLines || from.line == to.line;\n\n    self.operation(function() {\n      if (options.indent) {\n        var baseString = null;\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i);\n          var whitespace = line.slice(0, firstNonWS(line));\n          if (baseString == null || baseString.length > whitespace.length) {\n            baseString = whitespace;\n          }\n        }\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i), cut = baseString.length;\n          if (!blankLines && !nonWS.test(line)) continue;\n          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);\n          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));\n        }\n      } else {\n        for (var i = from.line; i < end; ++i) {\n          if (blankLines || nonWS.test(self.getLine(i)))\n            self.replaceRange(commentString + pad, Pos(i, 0));\n        }\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"blockComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) {\n      if ((options.lineComment || mode.lineComment) && options.fullLines != false)\n        self.lineComment(from, to, options);\n      return;\n    }\n    if (/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line, 0)))) return\n\n    var end = Math.min(to.line, self.lastLine());\n    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;\n\n    var pad = options.padding == null ? \" \" : options.padding;\n    if (from.line > end) return;\n\n    self.operation(function() {\n      if (options.fullLines != false) {\n        var lastLineHasText = nonWS.test(self.getLine(end));\n        self.replaceRange(pad + endString, Pos(end));\n        self.replaceRange(startString + pad, Pos(from.line, 0));\n        var lead = options.blockCommentLead || mode.blockCommentLead;\n        if (lead != null) for (var i = from.line + 1; i <= end; ++i)\n          if (i != end || lastLineHasText)\n            self.replaceRange(lead + pad, Pos(i, 0));\n      } else {\n        self.replaceRange(endString, to);\n        self.replaceRange(startString, from);\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"uncomment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()), start = Math.min(from.line, end);\n\n    // Try finding line comments\n    var lineString = options.lineComment || mode.lineComment, lines = [];\n    var pad = options.padding == null ? \" \" : options.padding, didSomething;\n    lineComment: {\n      if (!lineString) break lineComment;\n      for (var i = start; i <= end; ++i) {\n        var line = self.getLine(i);\n        var found = line.indexOf(lineString);\n        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;\n        if (found == -1 && nonWS.test(line)) break lineComment;\n        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;\n        lines.push(line);\n      }\n      self.operation(function() {\n        for (var i = start; i <= end; ++i) {\n          var line = lines[i - start];\n          var pos = line.indexOf(lineString), endPos = pos + lineString.length;\n          if (pos < 0) continue;\n          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;\n          didSomething = true;\n          self.replaceRange(\"\", Pos(i, pos), Pos(i, endPos));\n        }\n      });\n      if (didSomething) return true;\n    }\n\n    // Try block comments\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) return false;\n    var lead = options.blockCommentLead || mode.blockCommentLead;\n    var startLine = self.getLine(start), open = startLine.indexOf(startString)\n    if (open == -1) return false\n    var endLine = end == start ? startLine : self.getLine(end)\n    var close = endLine.indexOf(endString, end == start ? open + startString.length : 0);\n    var insideStart = Pos(start, open + 1), insideEnd = Pos(end, close + 1)\n    if (close == -1 ||\n        !/comment/.test(self.getTokenTypeAt(insideStart)) ||\n        !/comment/.test(self.getTokenTypeAt(insideEnd)) ||\n        self.getRange(insideStart, insideEnd, \"\\n\").indexOf(endString) > -1)\n      return false;\n\n    // Avoid killing block comments completely outside the selection.\n    // Positions of the last startString before the start of the selection, and the first endString after it.\n    var lastStart = startLine.lastIndexOf(startString, from.ch);\n    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);\n    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;\n    // Positions of the first endString after the end of the selection, and the last startString before it.\n    firstEnd = endLine.indexOf(endString, to.ch);\n    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);\n    lastStart = (firstEnd == -1 || almostLastStart == -1) ? -1 : to.ch + almostLastStart;\n    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;\n\n    self.operation(function() {\n      self.replaceRange(\"\", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)),\n                        Pos(end, close + endString.length));\n      var openEnd = open + startString.length;\n      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;\n      self.replaceRange(\"\", Pos(start, open), Pos(start, openEnd));\n      if (lead) for (var i = start + 1; i <= end; ++i) {\n        var line = self.getLine(i), found = line.indexOf(lead);\n        if (found == -1 || nonWS.test(line.slice(0, found))) continue;\n        var foundEnd = found + lead.length;\n        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;\n        self.replaceRange(\"\", Pos(i, found), Pos(i, foundEnd));\n      }\n    });\n    return true;\n  });\n});\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-codemirror-wrap\"},[_c('textarea')])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"vue-codemirror-wrap\">\n    <textarea></textarea>\n  </div>\n</template>\n\n<script>\n  var CodeMirror = require('codemirror/lib/codemirror.js')\n  require('codemirror/lib/codemirror.css')\n  export default {\n    props: {\n      value: {\n        type: String,\n        default: ''\n      },\n      options: {\n        type: Object,\n        default: function () {\n          return {\n            mode: 'text/javascript',\n            lineNumbers: true,\n            lineWrapping: true\n          }\n        }\n      },\n    },\n    data: function () {\n      return {\n        skipNextChangeEvent: false\n      }\n    },\n    ready: function () {\n      var _this = this\n      this.editor = CodeMirror.fromTextArea(this.$el.querySelector('textarea'), this.options)\n      this.editor.setValue(this.value)\n      this.editor.on('change', function(cm) {\n        if (_this.skipNextChangeEvent) {\n          _this.skipNextChangeEvent = false\n          return\n        }\n        _this.value = cm.getValue()\n        if (!!_this.$emit) {\n          _this.$emit('change', cm.getValue())\n        }\n      })\n    },\n    mounted: function () {\n      var _this = this\n      this.editor = CodeMirror.fromTextArea(this.$el.querySelector('textarea'), this.options)\n      this.editor.setValue(this.value)\n      this.editor.on('change', function(cm) {\n        if (_this.skipNextChangeEvent) {\n          _this.skipNextChangeEvent = false\n          return\n        }\n        if (!!_this.$emit) {\n          _this.$emit('change', cm.getValue())\n          _this.$emit('input', cm.getValue())\n        }\n      })\n    },\n    watch: {\n      'value': function (newVal, oldVal) {\n        var editorValue = this.editor.getValue()\n        if (newVal !== editorValue) {\n          this.skipNextChangeEvent = true\n          var scrollInfo = this.editor.getScrollInfo()\n          this.editor.setValue(newVal)\n          this.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n        }\n      },\n      'options': function (newOptions, oldVal) {\n        if (typeof newOptions === 'object') {\n          for (var optionName in newOptions) {\n            if (newOptions.hasOwnProperty(optionName)) {\n              this.editor.setOption(optionName, newOptions[optionName])\n            }\n          }\n        }\n      }\n    },\n    beforeDestroy: function () {\n      if (this.editor) {\n        this.editor.toTextArea()\n      }\n    }\n  }\n</script>\n\n<style>\n  .CodeMirror-code {\n    font-family: Menlo, Monaco, Consolas, \"Courier New\", monospace;\n  }\n</style>\n","import mod from \"-!../cache-loader/dist/cjs.js??ref--12-0!../thread-loader/dist/cjs.js!../babel-loader/lib/index.js!../cache-loader/dist/cjs.js??ref--0-0!../vue-loader/lib/index.js??vue-loader-options!./codemirror.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../cache-loader/dist/cjs.js??ref--12-0!../thread-loader/dist/cjs.js!../babel-loader/lib/index.js!../cache-loader/dist/cjs.js??ref--0-0!../vue-loader/lib/index.js??vue-loader-options!./codemirror.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./codemirror.vue?vue&type=template&id=3bab6450&\"\nimport script from \"./codemirror.vue?vue&type=script&lang=js&\"\nexport * from \"./codemirror.vue?vue&type=script&lang=js&\"\nimport style0 from \"./codemirror.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","var ngraph_events = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar common = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\nexports.RANDOM = exports.ARRAY_TYPE = exports.EPSILON = void 0;\n\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nexports.EPSILON = EPSILON;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexports.ARRAY_TYPE = ARRAY_TYPE;\nvar RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexports.RANDOM = RANDOM;\n\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\nif (!Math.hypot) { Math.hypot = function () {\n  var arguments$1 = arguments;\n\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments$1[i] * arguments$1[i];\n  }\n\n  return Math.sqrt(y);\n}; }\n});\n\nunwrapExports(common);\nvar common_1 = common.setMatrixArrayType;\nvar common_2 = common.toRadian;\nvar common_3 = common.equals;\nvar common_4 = common.RANDOM;\nvar common_5 = common.ARRAY_TYPE;\nvar common_6 = common.EPSILON;\n\nvar mat2 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.identity = identity;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.str = str;\nexports.frob = frob;\nexports.LDU = LDU;\nexports.add = add;\nexports.subtract = subtract;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\n\nfunction fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\n\nfunction set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\n\nfunction LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n});\n\nunwrapExports(mat2);\nvar mat2_1 = mat2.create;\nvar mat2_2 = mat2.clone;\nvar mat2_3 = mat2.copy;\nvar mat2_4 = mat2.identity;\nvar mat2_5 = mat2.fromValues;\nvar mat2_6 = mat2.set;\nvar mat2_7 = mat2.transpose;\nvar mat2_8 = mat2.invert;\nvar mat2_9 = mat2.adjoint;\nvar mat2_10 = mat2.determinant;\nvar mat2_11 = mat2.multiply;\nvar mat2_12 = mat2.rotate;\nvar mat2_13 = mat2.scale;\nvar mat2_14 = mat2.fromRotation;\nvar mat2_15 = mat2.fromScaling;\nvar mat2_16 = mat2.str;\nvar mat2_17 = mat2.frob;\nvar mat2_18 = mat2.LDU;\nvar mat2_19 = mat2.add;\nvar mat2_20 = mat2.subtract;\nvar mat2_21 = mat2.exactEquals;\nvar mat2_22 = mat2.equals;\nvar mat2_23 = mat2.multiplyScalar;\nvar mat2_24 = mat2.multiplyScalarAndAdd;\nvar mat2_25 = mat2.sub;\nvar mat2_26 = mat2.mul;\n\nvar mat2d = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.identity = identity;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.invert = invert;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.translate = translate;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromTranslation = fromTranslation;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\n\nfunction fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\n\nfunction set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\n\nfunction translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n});\n\nunwrapExports(mat2d);\nvar mat2d_1 = mat2d.create;\nvar mat2d_2 = mat2d.clone;\nvar mat2d_3 = mat2d.copy;\nvar mat2d_4 = mat2d.identity;\nvar mat2d_5 = mat2d.fromValues;\nvar mat2d_6 = mat2d.set;\nvar mat2d_7 = mat2d.invert;\nvar mat2d_8 = mat2d.determinant;\nvar mat2d_9 = mat2d.multiply;\nvar mat2d_10 = mat2d.rotate;\nvar mat2d_11 = mat2d.scale;\nvar mat2d_12 = mat2d.translate;\nvar mat2d_13 = mat2d.fromRotation;\nvar mat2d_14 = mat2d.fromScaling;\nvar mat2d_15 = mat2d.fromTranslation;\nvar mat2d_16 = mat2d.str;\nvar mat2d_17 = mat2d.frob;\nvar mat2d_18 = mat2d.add;\nvar mat2d_19 = mat2d.subtract;\nvar mat2d_20 = mat2d.multiplyScalar;\nvar mat2d_21 = mat2d.multiplyScalarAndAdd;\nvar mat2d_22 = mat2d.exactEquals;\nvar mat2d_23 = mat2d.equals;\nvar mat2d_24 = mat2d.sub;\nvar mat2d_25 = mat2d.mul;\n\nvar mat3 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n});\n\nunwrapExports(mat3);\nvar mat3_1 = mat3.create;\nvar mat3_2 = mat3.fromMat4;\nvar mat3_3 = mat3.clone;\nvar mat3_4 = mat3.copy;\nvar mat3_5 = mat3.fromValues;\nvar mat3_6 = mat3.set;\nvar mat3_7 = mat3.identity;\nvar mat3_8 = mat3.transpose;\nvar mat3_9 = mat3.invert;\nvar mat3_10 = mat3.adjoint;\nvar mat3_11 = mat3.determinant;\nvar mat3_12 = mat3.multiply;\nvar mat3_13 = mat3.translate;\nvar mat3_14 = mat3.rotate;\nvar mat3_15 = mat3.scale;\nvar mat3_16 = mat3.fromTranslation;\nvar mat3_17 = mat3.fromRotation;\nvar mat3_18 = mat3.fromScaling;\nvar mat3_19 = mat3.fromMat2d;\nvar mat3_20 = mat3.fromQuat;\nvar mat3_21 = mat3.normalFromMat4;\nvar mat3_22 = mat3.projection;\nvar mat3_23 = mat3.str;\nvar mat3_24 = mat3.frob;\nvar mat3_25 = mat3.add;\nvar mat3_26 = mat3.subtract;\nvar mat3_27 = mat3.multiplyScalar;\nvar mat3_28 = mat3.multiplyScalarAndAdd;\nvar mat3_29 = mat3.exactEquals;\nvar mat3_30 = mat3.equals;\nvar mat3_31 = mat3.sub;\nvar mat3_32 = mat3.mul;\n\nvar mat4 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.scale = scale;\nexports.rotate = rotate;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.fromTranslation = fromTranslation;\nexports.fromScaling = fromScaling;\nexports.fromRotation = fromRotation;\nexports.fromXRotation = fromXRotation;\nexports.fromYRotation = fromYRotation;\nexports.fromZRotation = fromZRotation;\nexports.fromRotationTranslation = fromRotationTranslation;\nexports.fromQuat2 = fromQuat2;\nexports.getTranslation = getTranslation;\nexports.getScaling = getScaling;\nexports.getRotation = getRotation;\nexports.fromRotationTranslationScale = fromRotationTranslationScale;\nexports.fromRotationTranslationScaleOrigin = fromRotationTranslationScaleOrigin;\nexports.fromQuat = fromQuat;\nexports.frustum = frustum;\nexports.perspective = perspective;\nexports.perspectiveFromFieldOfView = perspectiveFromFieldOfView;\nexports.ortho = ortho;\nexports.lookAt = lookAt;\nexports.targetTo = targetTo;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n  out[0] = a11 * b11 - a12 * b10 + a13 * b09;\n  out[1] = a02 * b10 - a01 * b11 - a03 * b09;\n  out[2] = a31 * b05 - a32 * b04 + a33 * b03;\n  out[3] = a22 * b04 - a21 * b05 - a23 * b03;\n  out[4] = a12 * b08 - a10 * b11 - a13 * b07;\n  out[5] = a00 * b11 - a02 * b08 + a03 * b07;\n  out[6] = a32 * b02 - a30 * b05 - a33 * b01;\n  out[7] = a20 * b05 - a22 * b02 + a23 * b01;\n  out[8] = a10 * b10 - a11 * b08 + a13 * b06;\n  out[9] = a01 * b08 - a00 * b10 - a03 * b06;\n  out[10] = a30 * b04 - a31 * b02 + a33 * b00;\n  out[11] = a21 * b02 - a20 * b04 - a23 * b00;\n  out[12] = a11 * b07 - a10 * b09 - a12 * b06;\n  out[13] = a00 * b09 - a01 * b07 + a02 * b06;\n  out[14] = a31 * b01 - a30 * b03 - a32 * b00;\n  out[15] = a20 * b03 - a21 * b01 + a22 * b00;\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b0 = a00 * a11 - a01 * a10;\n  var b1 = a00 * a12 - a02 * a10;\n  var b2 = a01 * a12 - a02 * a11;\n  var b3 = a20 * a31 - a21 * a30;\n  var b4 = a20 * a32 - a22 * a30;\n  var b5 = a21 * a32 - a22 * a31;\n  var b6 = a00 * b5 - a01 * b4 + a02 * b3;\n  var b7 = a10 * b5 - a11 * b4 + a12 * b3;\n  var b8 = a20 * b2 - a21 * b1 + a22 * b0;\n  var b9 = a30 * b2 - a31 * b1 + a32 * b0; // Calculate the determinant\n\n  return a13 * b6 - a03 * b7 + a33 * b8 - a23 * b9;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\n\nfunction fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\n\nfunction getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n});\n\nunwrapExports(mat4);\nvar mat4_1 = mat4.create;\nvar mat4_2 = mat4.clone;\nvar mat4_3 = mat4.copy;\nvar mat4_4 = mat4.fromValues;\nvar mat4_5 = mat4.set;\nvar mat4_6 = mat4.identity;\nvar mat4_7 = mat4.transpose;\nvar mat4_8 = mat4.invert;\nvar mat4_9 = mat4.adjoint;\nvar mat4_10 = mat4.determinant;\nvar mat4_11 = mat4.multiply;\nvar mat4_12 = mat4.translate;\nvar mat4_13 = mat4.scale;\nvar mat4_14 = mat4.rotate;\nvar mat4_15 = mat4.rotateX;\nvar mat4_16 = mat4.rotateY;\nvar mat4_17 = mat4.rotateZ;\nvar mat4_18 = mat4.fromTranslation;\nvar mat4_19 = mat4.fromScaling;\nvar mat4_20 = mat4.fromRotation;\nvar mat4_21 = mat4.fromXRotation;\nvar mat4_22 = mat4.fromYRotation;\nvar mat4_23 = mat4.fromZRotation;\nvar mat4_24 = mat4.fromRotationTranslation;\nvar mat4_25 = mat4.fromQuat2;\nvar mat4_26 = mat4.getTranslation;\nvar mat4_27 = mat4.getScaling;\nvar mat4_28 = mat4.getRotation;\nvar mat4_29 = mat4.fromRotationTranslationScale;\nvar mat4_30 = mat4.fromRotationTranslationScaleOrigin;\nvar mat4_31 = mat4.fromQuat;\nvar mat4_32 = mat4.frustum;\nvar mat4_33 = mat4.perspective;\nvar mat4_34 = mat4.perspectiveFromFieldOfView;\nvar mat4_35 = mat4.ortho;\nvar mat4_36 = mat4.lookAt;\nvar mat4_37 = mat4.targetTo;\nvar mat4_38 = mat4.str;\nvar mat4_39 = mat4.frob;\nvar mat4_40 = mat4.add;\nvar mat4_41 = mat4.subtract;\nvar mat4_42 = mat4.multiplyScalar;\nvar mat4_43 = mat4.multiplyScalarAndAdd;\nvar mat4_44 = mat4.exactEquals;\nvar mat4_45 = mat4.equals;\nvar mat4_46 = mat4.sub;\nvar mat4_47 = mat4.mul;\n\nvar vec3 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\n\nvar sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexports.div = div;\nvar dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexports.sqrDist = sqrDist;\nvar len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexports.len = len;\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;\n});\n\nunwrapExports(vec3);\nvar vec3_1 = vec3.create;\nvar vec3_2 = vec3.clone;\nvar vec3_3 = vec3.length;\nvar vec3_4 = vec3.fromValues;\nvar vec3_5 = vec3.copy;\nvar vec3_6 = vec3.set;\nvar vec3_7 = vec3.add;\nvar vec3_8 = vec3.subtract;\nvar vec3_9 = vec3.multiply;\nvar vec3_10 = vec3.divide;\nvar vec3_11 = vec3.ceil;\nvar vec3_12 = vec3.floor;\nvar vec3_13 = vec3.min;\nvar vec3_14 = vec3.max;\nvar vec3_15 = vec3.round;\nvar vec3_16 = vec3.scale;\nvar vec3_17 = vec3.scaleAndAdd;\nvar vec3_18 = vec3.distance;\nvar vec3_19 = vec3.squaredDistance;\nvar vec3_20 = vec3.squaredLength;\nvar vec3_21 = vec3.negate;\nvar vec3_22 = vec3.inverse;\nvar vec3_23 = vec3.normalize;\nvar vec3_24 = vec3.dot;\nvar vec3_25 = vec3.cross;\nvar vec3_26 = vec3.lerp;\nvar vec3_27 = vec3.hermite;\nvar vec3_28 = vec3.bezier;\nvar vec3_29 = vec3.random;\nvar vec3_30 = vec3.transformMat4;\nvar vec3_31 = vec3.transformMat3;\nvar vec3_32 = vec3.transformQuat;\nvar vec3_33 = vec3.rotateX;\nvar vec3_34 = vec3.rotateY;\nvar vec3_35 = vec3.rotateZ;\nvar vec3_36 = vec3.angle;\nvar vec3_37 = vec3.zero;\nvar vec3_38 = vec3.str;\nvar vec3_39 = vec3.exactEquals;\nvar vec3_40 = vec3.equals;\nvar vec3_41 = vec3.forEach;\nvar vec3_42 = vec3.sqrLen;\nvar vec3_43 = vec3.len;\nvar vec3_44 = vec3.sqrDist;\nvar vec3_45 = vec3.dist;\nvar vec3_46 = vec3.div;\nvar vec3_47 = vec3.mul;\nvar vec3_48 = vec3.sub;\n\nvar vec4 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformQuat = transformQuat;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\n\nfunction fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\n\nvar sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexports.div = div;\nvar dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexports.sqrDist = sqrDist;\nvar len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexports.len = len;\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;\n});\n\nunwrapExports(vec4);\nvar vec4_1 = vec4.create;\nvar vec4_2 = vec4.clone;\nvar vec4_3 = vec4.fromValues;\nvar vec4_4 = vec4.copy;\nvar vec4_5 = vec4.set;\nvar vec4_6 = vec4.add;\nvar vec4_7 = vec4.subtract;\nvar vec4_8 = vec4.multiply;\nvar vec4_9 = vec4.divide;\nvar vec4_10 = vec4.ceil;\nvar vec4_11 = vec4.floor;\nvar vec4_12 = vec4.min;\nvar vec4_13 = vec4.max;\nvar vec4_14 = vec4.round;\nvar vec4_15 = vec4.scale;\nvar vec4_16 = vec4.scaleAndAdd;\nvar vec4_17 = vec4.distance;\nvar vec4_18 = vec4.squaredDistance;\nvar vec4_19 = vec4.length;\nvar vec4_20 = vec4.squaredLength;\nvar vec4_21 = vec4.negate;\nvar vec4_22 = vec4.inverse;\nvar vec4_23 = vec4.normalize;\nvar vec4_24 = vec4.dot;\nvar vec4_25 = vec4.cross;\nvar vec4_26 = vec4.lerp;\nvar vec4_27 = vec4.random;\nvar vec4_28 = vec4.transformMat4;\nvar vec4_29 = vec4.transformQuat;\nvar vec4_30 = vec4.zero;\nvar vec4_31 = vec4.str;\nvar vec4_32 = vec4.exactEquals;\nvar vec4_33 = vec4.equals;\nvar vec4_34 = vec4.forEach;\nvar vec4_35 = vec4.sqrLen;\nvar vec4_36 = vec4.len;\nvar vec4_37 = vec4.sqrDist;\nvar vec4_38 = vec4.dist;\nvar vec4_39 = vec4.div;\nvar vec4_40 = vec4.mul;\nvar vec4_41 = vec4.sub;\n\nvar quat = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.identity = identity;\nexports.setAxisAngle = setAxisAngle;\nexports.getAxisAngle = getAxisAngle;\nexports.getAngle = getAngle;\nexports.multiply = multiply;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.calculateW = calculateW;\nexports.exp = exp;\nexports.ln = ln;\nexports.pow = pow;\nexports.slerp = slerp;\nexports.random = random;\nexports.invert = invert;\nexports.conjugate = conjugate;\nexports.fromMat3 = fromMat3;\nexports.fromEuler = fromEuler;\nexports.str = str;\nexports.setAxes = exports.sqlerp = exports.rotationTo = exports.equals = exports.exactEquals = exports.normalize = exports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.lerp = exports.dot = exports.scale = exports.mul = exports.add = exports.set = exports.copy = exports.fromValues = exports.clone = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nvar mat3$1 = _interopRequireWildcard(mat3);\n\nvar vec3$1 = _interopRequireWildcard(vec3);\n\nvar vec4$1 = _interopRequireWildcard(vec4);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\n\nfunction setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\n\nfunction getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\n\nfunction getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\n\nfunction multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\n\nfunction rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\n\nfunction rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\n\nfunction rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\n\nfunction calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\n\nfunction exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\n\nfunction ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\n\nfunction pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\n\nfunction slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\n\nfunction random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\n\nfunction fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) { i = 1; }\n    if (m[8] > m[i * 3 + i]) { i = 2; }\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\n\nfunction fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\n\nvar clone = vec4$1.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexports.clone = clone;\nvar fromValues = vec4$1.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexports.fromValues = fromValues;\nvar copy = vec4$1.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexports.copy = copy;\nvar set = vec4$1.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexports.set = set;\nvar add = vec4$1.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexports.add = add;\nvar mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexports.mul = mul;\nvar scale = vec4$1.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexports.scale = scale;\nvar dot = vec4$1.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexports.dot = dot;\nvar lerp = vec4$1.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexports.lerp = lerp;\nvar length = vec4$1.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexports.length = length;\nvar len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexports.len = len;\nvar squaredLength = vec4$1.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexports.squaredLength = squaredLength;\nvar sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexports.sqrLen = sqrLen;\nvar normalize = vec4$1.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexports.normalize = normalize;\nvar exactEquals = vec4$1.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexports.exactEquals = exactEquals;\nvar equals = vec4$1.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexports.equals = equals;\n\nvar rotationTo = function () {\n  var tmpvec3 = vec3$1.create();\n  var xUnitVec3 = vec3$1.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3$1.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3$1.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3$1.cross(tmpvec3, xUnitVec3, a);\n      if (vec3$1.len(tmpvec3) < 0.000001) { vec3$1.cross(tmpvec3, yUnitVec3, a); }\n      vec3$1.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3$1.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\n\nexports.rotationTo = rotationTo;\n\nvar sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\n\nexports.sqlerp = sqlerp;\n\nvar setAxes = function () {\n  var matr = mat3$1.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();\n\nexports.setAxes = setAxes;\n});\n\nunwrapExports(quat);\nvar quat_1 = quat.create;\nvar quat_2 = quat.identity;\nvar quat_3 = quat.setAxisAngle;\nvar quat_4 = quat.getAxisAngle;\nvar quat_5 = quat.getAngle;\nvar quat_6 = quat.multiply;\nvar quat_7 = quat.rotateX;\nvar quat_8 = quat.rotateY;\nvar quat_9 = quat.rotateZ;\nvar quat_10 = quat.calculateW;\nvar quat_11 = quat.exp;\nvar quat_12 = quat.ln;\nvar quat_13 = quat.pow;\nvar quat_14 = quat.slerp;\nvar quat_15 = quat.random;\nvar quat_16 = quat.invert;\nvar quat_17 = quat.conjugate;\nvar quat_18 = quat.fromMat3;\nvar quat_19 = quat.fromEuler;\nvar quat_20 = quat.str;\nvar quat_21 = quat.setAxes;\nvar quat_22 = quat.sqlerp;\nvar quat_23 = quat.rotationTo;\nvar quat_24 = quat.equals;\nvar quat_25 = quat.exactEquals;\nvar quat_26 = quat.normalize;\nvar quat_27 = quat.sqrLen;\nvar quat_28 = quat.squaredLength;\nvar quat_29 = quat.len;\nvar quat_30 = quat.length;\nvar quat_31 = quat.lerp;\nvar quat_32 = quat.dot;\nvar quat_33 = quat.scale;\nvar quat_34 = quat.mul;\nvar quat_35 = quat.add;\nvar quat_36 = quat.set;\nvar quat_37 = quat.copy;\nvar quat_38 = quat.fromValues;\nvar quat_39 = quat.clone;\n\nvar quat2 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.fromRotationTranslationValues = fromRotationTranslationValues;\nexports.fromRotationTranslation = fromRotationTranslation;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromMat4 = fromMat4;\nexports.copy = copy;\nexports.identity = identity;\nexports.set = set;\nexports.getDual = getDual;\nexports.setDual = setDual;\nexports.getTranslation = getTranslation;\nexports.translate = translate;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.rotateByQuatAppend = rotateByQuatAppend;\nexports.rotateByQuatPrepend = rotateByQuatPrepend;\nexports.rotateAroundAxis = rotateAroundAxis;\nexports.add = add;\nexports.multiply = multiply;\nexports.scale = scale;\nexports.lerp = lerp;\nexports.invert = invert;\nexports.conjugate = conjugate;\nexports.normalize = normalize;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.dot = exports.mul = exports.setReal = exports.getReal = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nvar quat$1 = _interopRequireWildcard(quat);\n\nvar mat4$1 = _interopRequireWildcard(mat4);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\nfunction create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\n\nfunction clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\n\nfunction fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\n\nfunction fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\n\nfunction fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\n\nfunction fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\n\nfunction fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\n\nfunction fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat$1.create();\n  mat4$1.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4$1.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\n\nfunction set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\n\nvar getReal = quat$1.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexports.getReal = getReal;\n\nfunction getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\n\nvar setReal = quat$1.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexports.setReal = setReal;\n\nfunction setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\n\nfunction getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\n\nfunction translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\n\nfunction rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat$1.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\n\nfunction rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat$1.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\n\nfunction rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat$1.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\n\nfunction rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\n\nfunction rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\n\nfunction rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\n\nfunction multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexports.mul = mul;\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\n\nvar dot = quat$1.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexports.dot = dot;\n\nfunction lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) { t = -t; }\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\n\nfunction invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\n\nvar length = quat$1.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexports.length = length;\nvar len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexports.len = len;\nvar squaredLength = quat$1.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexports.squaredLength = squaredLength;\nvar sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nfunction normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\n\nfunction str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}\n});\n\nunwrapExports(quat2);\nvar quat2_1 = quat2.create;\nvar quat2_2 = quat2.clone;\nvar quat2_3 = quat2.fromValues;\nvar quat2_4 = quat2.fromRotationTranslationValues;\nvar quat2_5 = quat2.fromRotationTranslation;\nvar quat2_6 = quat2.fromTranslation;\nvar quat2_7 = quat2.fromRotation;\nvar quat2_8 = quat2.fromMat4;\nvar quat2_9 = quat2.copy;\nvar quat2_10 = quat2.identity;\nvar quat2_11 = quat2.set;\nvar quat2_12 = quat2.getDual;\nvar quat2_13 = quat2.setDual;\nvar quat2_14 = quat2.getTranslation;\nvar quat2_15 = quat2.translate;\nvar quat2_16 = quat2.rotateX;\nvar quat2_17 = quat2.rotateY;\nvar quat2_18 = quat2.rotateZ;\nvar quat2_19 = quat2.rotateByQuatAppend;\nvar quat2_20 = quat2.rotateByQuatPrepend;\nvar quat2_21 = quat2.rotateAroundAxis;\nvar quat2_22 = quat2.add;\nvar quat2_23 = quat2.multiply;\nvar quat2_24 = quat2.scale;\nvar quat2_25 = quat2.lerp;\nvar quat2_26 = quat2.invert;\nvar quat2_27 = quat2.conjugate;\nvar quat2_28 = quat2.normalize;\nvar quat2_29 = quat2.str;\nvar quat2_30 = quat2.exactEquals;\nvar quat2_31 = quat2.equals;\nvar quat2_32 = quat2.sqrLen;\nvar quat2_33 = quat2.squaredLength;\nvar quat2_34 = quat2.len;\nvar quat2_35 = quat2.length;\nvar quat2_36 = quat2.dot;\nvar quat2_37 = quat2.mul;\nvar quat2_38 = quat2.setReal;\nvar quat2_39 = quat2.getReal;\n\nvar vec2 = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\n\nfunction rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\n\nvar len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexports.len = len;\nvar sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexports.div = div;\nvar dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexports.sqrDist = sqrDist;\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;\n});\n\nunwrapExports(vec2);\nvar vec2_1 = vec2.create;\nvar vec2_2 = vec2.clone;\nvar vec2_3 = vec2.fromValues;\nvar vec2_4 = vec2.copy;\nvar vec2_5 = vec2.set;\nvar vec2_6 = vec2.add;\nvar vec2_7 = vec2.subtract;\nvar vec2_8 = vec2.multiply;\nvar vec2_9 = vec2.divide;\nvar vec2_10 = vec2.ceil;\nvar vec2_11 = vec2.floor;\nvar vec2_12 = vec2.min;\nvar vec2_13 = vec2.max;\nvar vec2_14 = vec2.round;\nvar vec2_15 = vec2.scale;\nvar vec2_16 = vec2.scaleAndAdd;\nvar vec2_17 = vec2.distance;\nvar vec2_18 = vec2.squaredDistance;\nvar vec2_19 = vec2.length;\nvar vec2_20 = vec2.squaredLength;\nvar vec2_21 = vec2.negate;\nvar vec2_22 = vec2.inverse;\nvar vec2_23 = vec2.normalize;\nvar vec2_24 = vec2.dot;\nvar vec2_25 = vec2.cross;\nvar vec2_26 = vec2.lerp;\nvar vec2_27 = vec2.random;\nvar vec2_28 = vec2.transformMat2;\nvar vec2_29 = vec2.transformMat2d;\nvar vec2_30 = vec2.transformMat3;\nvar vec2_31 = vec2.transformMat4;\nvar vec2_32 = vec2.rotate;\nvar vec2_33 = vec2.angle;\nvar vec2_34 = vec2.zero;\nvar vec2_35 = vec2.str;\nvar vec2_36 = vec2.exactEquals;\nvar vec2_37 = vec2.equals;\nvar vec2_38 = vec2.forEach;\nvar vec2_39 = vec2.sqrLen;\nvar vec2_40 = vec2.sqrDist;\nvar vec2_41 = vec2.dist;\nvar vec2_42 = vec2.div;\nvar vec2_43 = vec2.mul;\nvar vec2_44 = vec2.sub;\nvar vec2_45 = vec2.len;\n\nvar cjs = createCommonjsModule(function (module, exports) {\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.vec4 = exports.vec3 = exports.vec2 = exports.quat2 = exports.quat = exports.mat4 = exports.mat3 = exports.mat2d = exports.mat2 = exports.glMatrix = void 0;\n\nvar glMatrix = _interopRequireWildcard(common);\n\nexports.glMatrix = glMatrix;\n\nvar mat2$1 = _interopRequireWildcard(mat2);\n\nexports.mat2 = mat2$1;\n\nvar mat2d$1 = _interopRequireWildcard(mat2d);\n\nexports.mat2d = mat2d$1;\n\nvar mat3$1 = _interopRequireWildcard(mat3);\n\nexports.mat3 = mat3$1;\n\nvar mat4$1 = _interopRequireWildcard(mat4);\n\nexports.mat4 = mat4$1;\n\nvar quat$1 = _interopRequireWildcard(quat);\n\nexports.quat = quat$1;\n\nvar quat2$1 = _interopRequireWildcard(quat2);\n\nexports.quat2 = quat2$1;\n\nvar vec2$1 = _interopRequireWildcard(vec2);\n\nexports.vec2 = vec2$1;\n\nvar vec3$1 = _interopRequireWildcard(vec3);\n\nexports.vec3 = vec3$1;\n\nvar vec4$1 = _interopRequireWildcard(vec4);\n\nexports.vec4 = vec4$1;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") { return null; } var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n});\n\nunwrapExports(cjs);\nvar cjs_1 = cjs.vec4;\nvar cjs_2 = cjs.vec3;\nvar cjs_3 = cjs.vec2;\nvar cjs_4 = cjs.quat2;\nvar cjs_5 = cjs.quat;\nvar cjs_6 = cjs.mat4;\nvar cjs_7 = cjs.mat3;\nvar cjs_8 = cjs.mat2d;\nvar cjs_9 = cjs.mat2;\nvar cjs_10 = cjs.glMatrix;\n\n/**\r\n * Represents a single element in the scene tree\r\n */\r\nvar Element = function Element() {\r\n    this.children = [];\r\n    this.model = cjs_6.create();\r\n    this.worldModel = cjs_6.create();\r\n    this.modelViewProjection = cjs_6.create();\r\n    this.worldTransformNeedsUpdate = true;\r\n    this.modelViewProjectionNeedsUpdate = true;\r\n    this.type = 'Element';\r\n    this.scene = null;\r\n    this.parent = null;\r\n};\r\nElement.prototype.appendChild = function appendChild (child, sendToBack) {\n        if ( sendToBack === void 0 ) sendToBack = false;\n\r\n    child.parent = this;\r\n    if (sendToBack) {\r\n        // back of z-index\r\n        this.children.unshift(child);\r\n    }\r\n    else {\r\n        this.children.push(child);\r\n    }\r\n    if (child.bindScene) {\r\n        child.bindScene(this.scene);\r\n    }\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n};\r\nElement.prototype.bindScene = function bindScene (scene) {\r\n    this.scene = scene;\r\n};\r\nElement.prototype.traverse = function traverse (enterCallback, exitCallback) {\r\n    enterCallback(this);\r\n    for (var i = 0; i < this.children.length; ++i) {\r\n        var child = this.children[i];\r\n        child.traverse(enterCallback, exitCallback);\r\n    }\r\n    if (exitCallback)\r\n        { exitCallback(this); }\r\n};\r\n/**\r\n * Rotates this element `rad` radians around `axis`.\r\n */\r\nElement.prototype.rotate = function rotate (rad, axis) {\r\n    cjs_6.rotate(this.model, this.model, rad, axis);\r\n    this.worldTransformNeedsUpdate = true;\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n    return this;\r\n};\r\n/**\r\n * Rotate `rad` radians around X axis\r\n */\r\nElement.prototype.rotateX = function rotateX (rad) {\r\n    cjs_6.rotateX(this.model, this.model, rad);\r\n    this.worldTransformNeedsUpdate = true;\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n    return this;\r\n};\r\n/**\r\n * Rotate `rad` radians around Y axis\r\n */\r\nElement.prototype.rotateY = function rotateY (rad) {\r\n    cjs_6.rotateY(this.model, this.model, rad);\r\n    this.worldTransformNeedsUpdate = true;\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n    return this;\r\n};\r\n/**\r\n * Rotate `rad` radians around Z axis\r\n */\r\nElement.prototype.rotateZ = function rotateZ (rad) {\r\n    cjs_6.rotateZ(this.model, this.model, rad);\r\n    this.worldTransformNeedsUpdate = true;\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n    return this;\r\n};\r\n/**\r\n * Scales this element by vector `v`\r\n */\r\nElement.prototype.scale = function scale (v) {\r\n    cjs_6.scale(this.model, this.model, v);\r\n    this.worldTransformNeedsUpdate = true;\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n    return this;\r\n};\r\n/**\r\n * Translate this element by vector `v`\r\n */\r\nElement.prototype.translate = function translate (v) {\r\n    cjs_6.translate(this.model, this.model, v);\r\n    this.worldTransformNeedsUpdate = true;\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n    return this;\r\n};\r\n/**\r\n * Removes the child from the collection of children. Takes `O(n)` time where `n` is number\r\n * of children.\r\n */\r\nElement.prototype.removeChild = function removeChild (child) {\r\n    // TODO: should this be faster?\r\n    var childIdx = this.children.indexOf(child);\r\n    if (childIdx > -1) {\r\n        this.children.splice(childIdx, 1);\r\n        child.bindScene(null);\r\n    }\r\n    if (this.scene)\r\n        { this.scene.renderFrame(); }\r\n};\r\nElement.prototype.updateWorldTransform = function updateWorldTransform (force) {\n        if ( force === void 0 ) force = false;\n\r\n    if (this.worldTransformNeedsUpdate || force) {\r\n        if (this.parent) {\r\n            cjs_6.multiply(this.worldModel, this.parent.worldModel, this.model);\r\n        }\r\n        else {\r\n            cjs_6.copy(this.worldModel, this.model);\r\n        }\r\n        this.modelViewProjectionNeedsUpdate = true;\r\n        this.worldTransformNeedsUpdate = false;\r\n        force = true; // We have to update children now.\r\n    }\r\n    var wasDirty = force;\r\n    var children = this.children;\r\n    for (var i = 0; i < children.length; i++) {\r\n        wasDirty = children[i].updateWorldTransform(force) || wasDirty;\r\n    }\r\n    return wasDirty;\r\n};\r\nElement.prototype.scheduleMVPUpdate = function scheduleMVPUpdate () {\r\n    this.modelViewProjectionNeedsUpdate = true;\r\n    var children = this.children;\r\n    for (var i = 0; i < children.length; i++) {\r\n        children[i].scheduleMVPUpdate();\r\n    }\r\n};\r\nElement.prototype.updateModelViewProjection = function updateModelViewProjection (projection, view) {\r\n    if (!this.modelViewProjectionNeedsUpdate)\r\n        { return; }\r\n    cjs_6.multiply(this.modelViewProjection, projection, view);\r\n    cjs_6.multiply(this.modelViewProjection, this.modelViewProjection, this.worldModel);\r\n    this.modelViewProjectionNeedsUpdate = false;\r\n};\r\n/**\r\n * Requests the element to draw itself (and its children)\r\n */\r\nElement.prototype.draw = function draw (gl, drawContext) {\r\n    for (var i = 0; i < this.children.length; ++i) {\r\n        var child = this.children[i];\r\n        child.updateModelViewProjection(drawContext.projection, drawContext.view.matrix);\r\n        child.draw(gl, drawContext);\r\n    }\r\n};\r\nElement.prototype.dispose = function dispose () {\r\n    for (var i = 0; i < this.children.length; ++i) {\r\n        var child = this.children[i];\r\n        child.dispose();\r\n    }\r\n};\n\nvar config = {\r\n    maxSingleTouchTime: 300,\r\n    singleTapDistanceSquared: 25 // within 5px we consider it as a single tap\r\n};\r\nfunction onClap(element, callback, ctx) {\r\n    var touchStartTime = Date.now();\r\n    var startPos;\r\n    // @ts-ignore\r\n    element.addEventListener('click', invokeHandler, { passive: false });\r\n    // @ts-ignore\r\n    element.addEventListener('touchend', handleTouchEnd, { passive: false });\r\n    // @ts-ignore\r\n    element.addEventListener('touchstart', handleTouchStart, { passive: false });\r\n    return disposePrevHandler;\r\n    function handleTouchStart(e) {\r\n        var touches = e.touches;\r\n        if (touches.length === 1) {\r\n            touchStartTime = Date.now();\r\n            startPos = {\r\n                x: e.touches[0].pageX,\r\n                y: e.touches[0].pageY\r\n            };\r\n        }\r\n    }\r\n    function handleTouchEnd(e) {\r\n        // multitouch - ignore\r\n        if (e.touches.length > 1)\r\n            { return; }\r\n        // single touch - use time difference to determine if it was a touch or\r\n        // a swipe\r\n        var dt = Date.now() - touchStartTime;\r\n        // To long - ignore\r\n        if (dt > config.maxSingleTouchTime)\r\n            { return; }\r\n        var touch = e.changedTouches[0];\r\n        var dx = touch.pageX - startPos.x;\r\n        var dy = touch.pageY - startPos.y;\r\n        if (dx * dx + dy * dy < config.singleTapDistanceSquared) {\r\n            invokeHandler(touch);\r\n        }\r\n    }\r\n    function disposePrevHandler() {\r\n        // @ts-ignore\r\n        element.removeEventListener('click', invokeHandler);\r\n        // @ts-ignore\r\n        element.removeEventListener('touchend', handleTouchEnd);\r\n        // @ts-ignore\r\n        element.removeEventListener('touchstart', handleTouchStart);\r\n    }\r\n    function invokeHandler(e) {\r\n        // @ts-ignore\r\n        callback.call(ctx, e);\r\n    }\r\n}\n\nvar spareVec3 = [0, 0, 0];\r\nvar xAxis = [1, 0, 0];\r\nvar yAxis = [0, 1, 0];\r\nvar zAxis = [0, 0, 1];\r\n/**\r\n * View matrix allows you to place camera anywhere in the world\r\n */\r\nvar ViewMatrix = function ViewMatrix(viewMatrix) {\r\n    this.matrix = viewMatrix || cjs_6.create();\r\n    // True position of the camera in the world:\r\n    this.cameraWorld = cjs_6.invert(cjs_6.create(), this.matrix);\r\n    this.position = [0, 0, 0];\r\n    this.rotation = [0, 0, 0, 1];\r\n    this.deconstructPositionRotation();\r\n};\r\nViewMatrix.prototype.lookAt = function lookAt (eye, center, up) {\r\n    cjs_6.lookAt(this.cameraWorld, eye, center, up);\r\n    this.deconstructPositionRotation();\r\n    return this;\r\n};\r\nViewMatrix.prototype.update = function update () {\r\n    cjs_6.fromRotationTranslation(this.cameraWorld, this.rotation, this.position);\r\n    cjs_6.invert(this.matrix, this.cameraWorld);\r\n    return this;\r\n};\r\nViewMatrix.prototype.deconstructPositionRotation = function deconstructPositionRotation () {\r\n    cjs_6.getTranslation(this.position, this.cameraWorld);\r\n    cjs_6.getRotation(this.rotation, this.cameraWorld);\r\n};\r\nViewMatrix.prototype.translateOnAxis = function translateOnAxis (axis, distance) {\r\n    var translation = cjs_2.transformQuat(spareVec3, axis, this.rotation);\r\n    cjs_2.scaleAndAdd(this.position, this.position, translation, distance);\r\n    return this;\r\n};\r\nViewMatrix.prototype.translateX = function translateX (distance) {\r\n    return this.translateOnAxis(xAxis, distance);\r\n};\r\nViewMatrix.prototype.translateY = function translateY (distance) {\r\n    return this.translateOnAxis(yAxis, distance);\r\n};\r\nViewMatrix.prototype.translateZ = function translateZ (distance) {\r\n    return this.translateOnAxis(zAxis, distance);\r\n};\n\n/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gatan Renaudeau 2014 - 2015  MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nvar src = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n\n// Predefined set of animations. Similar to CSS easing functions\nvar animations = {\n  ease:  src(0.25, 0.1, 0.25, 1),\n  easeIn: src(0.42, 0, 1, 1),\n  easeOut: src(0, 0, 0.58, 1),\n  easeInOut: src(0.42, 0, 0.58, 1),\n  linear: src(0, 0, 1, 1)\n};\n\n\nvar amator = animate;\nvar makeAggregateRaf_1 = makeAggregateRaf;\nvar sharedScheduler = makeAggregateRaf();\n\n\nfunction animate(source, target, options) {\n  var start = Object.create(null);\n  var diff = Object.create(null);\n  options = options || {};\n  // We let clients specify their own easing function\n  var easing = (typeof options.easing === 'function') ? options.easing : animations[options.easing];\n\n  // if nothing is specified, default to ease (similar to CSS animations)\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n    easing = animations.ease;\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop;\n  var done = typeof options.done === 'function' ? options.done : noop;\n\n  var scheduler = getScheduler(options.scheduler);\n\n  var keys = Object.keys(target);\n  keys.forEach(function(key) {\n    start[key] = source[key];\n    diff[key] = target[key] - source[key];\n  });\n\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400;\n  var durationInFrames = Math.max(1, durationInMs * 0.06); // 0.06 because 60 frames pers 1,000 ms\n  var previousAnimationId;\n  var frame = 0;\n\n  previousAnimationId = scheduler.next(loop);\n\n  return {\n    cancel: cancel\n  }\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId);\n    previousAnimationId = 0;\n  }\n\n  function loop() {\n    var t = easing(frame/durationInFrames);\n    frame += 1;\n    setValues(t);\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop);\n      step(source);\n    } else {\n      previousAnimationId = 0;\n      setTimeout(function() { done(source); }, 0);\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function(key) {\n      source[key] = diff[key] * t + start[key];\n    });\n  }\n}\n\nfunction noop() { }\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame;\n    return canRaf ? rafScheduler() : timeoutScheduler()\n  }\n  if (typeof scheduler.next !== 'function') { throw new Error('Scheduler is supposed to have next(cb) function') }\n  if (typeof scheduler.cancel !== 'function') { throw new Error('Scheduler is supposed to have cancel(handle) function') }\n\n  return scheduler\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  }\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function(cb) {\n      return setTimeout(cb, 1000/60)\n    },\n    cancel: function (id) {\n      return clearTimeout(id)\n    }\n  }\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  }\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) { frameToken = requestAnimationFrame(renderFrame); }\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\r\n\n    frontBuffer.forEach(function(callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n}\namator.makeAggregateRaf = makeAggregateRaf_1;\namator.sharedScheduler = sharedScheduler;\n\n/**\r\n * Allows smooth kinetic scrolling of the surface\r\n */\r\nfunction createKineticAnimation(getCurrentPoint, moveCallback, settings) {\r\n    if (typeof settings !== 'object')\r\n        { settings = {}; }\r\n    var EPS = 1e-3;\r\n    var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : EPS;\r\n    var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.01;\r\n    var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function'\r\n        ? settings.cancelAnimationFrame\r\n        : getCancelAnimationFrame();\r\n    var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function'\r\n        ? settings.requestAnimationFrame\r\n        : getRequestAnimationFrame();\r\n    var lastPoint;\r\n    var timestamp;\r\n    var timeConstant = 342;\r\n    var trackValueHandle;\r\n    var vx, ax;\r\n    var vy, ay;\r\n    var vz, az;\r\n    var animationHandle;\r\n    return {\r\n        start: start,\r\n        setAmplitude: setAmplitude,\r\n        getAmplitude: getAmplitude,\r\n        stop: stop,\r\n        impulse: impulse,\r\n        cancel: cancel\r\n    };\r\n    function setAmplitude(newAmplitude) {\r\n        amplitude = newAmplitude;\r\n    }\r\n    function getAmplitude() {\r\n        return amplitude;\r\n    }\r\n    function cancel() {\r\n        cancelAnimationFrame(trackValueHandle);\r\n        cancelAnimationFrame(animationHandle);\r\n    }\r\n    function start() {\r\n        lastPoint = getCurrentPoint();\r\n        ax = ay = vx = vy = vz = 0;\r\n        timestamp = new Date();\r\n        cancelAnimationFrame(trackValueHandle);\r\n        cancelAnimationFrame(animationHandle);\r\n        // we start polling the point position to accumulate velocity\r\n        // Once we stop(), we will use accumulated velocity to keep scrolling\r\n        // an object.\r\n        trackValueHandle = requestAnimationFrame(track);\r\n    }\r\n    function track() {\r\n        var now = Date.now();\r\n        var elapsed = now - timestamp;\r\n        timestamp = now;\r\n        var currentPoint = getCurrentPoint();\r\n        var dx = currentPoint.x - lastPoint.x;\r\n        var dy = currentPoint.y - lastPoint.y;\r\n        var dz = (currentPoint.z || 0) - lastPoint.z;\r\n        lastPoint = currentPoint;\r\n        var dt = 1000 / (1 + elapsed);\r\n        // moving average\r\n        vx = 0.8 * dx * dt + 0.2 * vx;\r\n        vy = 0.8 * dy * dt + 0.2 * vy;\r\n        vz = 0.8 * dz * dt + 0.2 * vz;\r\n        trackValueHandle = requestAnimationFrame(track);\r\n    }\r\n    function stop() {\r\n        if (!trackValueHandle)\r\n            { return; }\r\n        cancelAnimationFrame(trackValueHandle);\r\n        trackValueHandle = 0;\r\n        cancelAnimationFrame(animationHandle);\r\n        animationHandle = 0;\r\n        impulse(vx, vy, vz);\r\n    }\r\n    function impulse(vx, vy, vz) {\r\n        timestamp = Date.now();\r\n        if (vx < -minVelocity || vx > minVelocity) {\r\n            ax = amplitude * vx;\r\n        }\r\n        if (vy < -minVelocity || vy > minVelocity) {\r\n            ay = amplitude * vy;\r\n        }\r\n        if (vz < -minVelocity || vz > minVelocity) {\r\n            az = amplitude * vz;\r\n        }\r\n        animationHandle = requestAnimationFrame(kineticMove);\r\n    }\r\n    function kineticMove() {\r\n        var elapsed = Date.now() - timestamp;\r\n        var moving = false;\r\n        var dx = 0;\r\n        var dy = 0;\r\n        var dz = 0;\r\n        var fade = Math.exp(-elapsed / timeConstant);\r\n        if (ax) {\r\n            dx = ax * fade;\r\n            if (dx > EPS || dx < -EPS)\r\n                { moving = true; }\r\n            else\r\n                { dx = ax = 0; }\r\n        }\r\n        if (ay) {\r\n            dy = ay * fade;\r\n            if (dy > EPS || dy < -EPS)\r\n                { moving = true; }\r\n            else\r\n                { dy = ay = 0; }\r\n        }\r\n        if (az) {\r\n            dz = az * fade;\r\n            if (dz > EPS || dz < -EPS)\r\n                { moving = true; }\r\n            else\r\n                { dz = az = 0; }\r\n        }\r\n        if (moving) {\r\n            var p = getCurrentPoint();\r\n            moveCallback(p.x + dx, p.y + dy, p.z + dz);\r\n            animationHandle = requestAnimationFrame(kineticMove);\r\n        }\r\n    }\r\n}\r\nfunction getCancelAnimationFrame() {\r\n    if (typeof cancelAnimationFrame === 'function')\r\n        { return cancelAnimationFrame; }\r\n    return clearTimeout;\r\n}\r\nfunction getRequestAnimationFrame() {\r\n    if (typeof requestAnimationFrame === 'function')\r\n        { return requestAnimationFrame; }\r\n    return function (handler) {\r\n        return setTimeout(handler, 16);\r\n    };\r\n}\n\n/**\r\n * Just to track changes for a single touch event, we create this state:\r\n */\r\nvar TouchState = function TouchState(touch) {\r\n    this.x = touch.clientX;\r\n    this.y = touch.clientY;\r\n    this.lastX = this.x;\r\n    this.lastY = this.y;\r\n    this.id = touch.identifier;\r\n    this.createdAt = Date.now();\r\n};\r\nTouchState.prototype.move = function move (touch) {\r\n    this.lastX = this.x;\r\n    this.lastY = this.y;\r\n    this.x = touch.clientX;\r\n    this.y = touch.clientY;\r\n};\r\n// When two fingers touch the scene we want to \"lock\" interaction to either rotation\r\n// or scaling. When locked to rotation, we also allow scaling. When Locked to scaling\r\n// only scaling is allowed\r\nvar UNKNOWN = 0; // here we don't know yet. Collect more input to make a decision\r\nvar SCALE = 1; // Locked to scaling.\r\nvar ROTATE = 2; // Locked to rotation.\r\nvar INCLINE = 3; // Locked to inclination.\r\n/**\r\n * This state is used to detect gestures. It answers the questions:\r\n * - Should we scale with this gesture?\r\n * - Should we rotate with this gesture?\r\n * - Should we change incline with this gesture?\r\n */\r\nvar MultiTouchState = function MultiTouchState(allowRotation) {\r\n    this.allowRotation = allowRotation;\r\n    this.state = UNKNOWN;\r\n    this.canRotate = false;\r\n    this.canScale = false;\r\n    this.canIncline = false;\r\n    this.first = undefined;\r\n    this.second = undefined;\r\n    this.stateChanged = false;\r\n};\r\nMultiTouchState.prototype.reset = function reset () {\r\n    this.state = UNKNOWN;\r\n    this.canRotate = false;\r\n    this.canScale = false;\r\n    this.canIncline = false;\r\n    this.first = undefined;\r\n    this.second = undefined;\r\n};\r\nMultiTouchState.prototype.isUnknown = function isUnknown () {\r\n    return this.state === UNKNOWN;\r\n};\r\nMultiTouchState.prototype.track = function track (first, second) {\r\n    this.stateChanged = false;\r\n    if (this.state !== UNKNOWN)\r\n        { return; } // Already resolved the state.\r\n    if (!(this.first && this.second)) {\r\n        this.first = {\r\n            id: first.id,\r\n            x: first.x,\r\n            y: first.y\r\n        };\r\n        this.second = {\r\n            id: second.id,\r\n            x: second.x,\r\n            y: second.y\r\n        };\r\n        // we are not ready yet to process anything. Wait for more data:\r\n        return;\r\n    }\r\n    // Make sure we have the same first/second touches:\r\n    var originalFirst = this.first;\r\n    var originalSecond = this.second;\r\n    if (first.id === originalSecond.id && second.id === originalFirst.id) {\r\n        var t = originalFirst;\r\n        originalFirst = originalSecond;\r\n        originalSecond = t;\r\n    }\r\n    // Now let's figure out what gesture we are dealing with...\r\n    var dfy = originalFirst.y - originalSecond.y;\r\n    var dfx = originalFirst.x - originalSecond.x;\r\n    var dcy = first.y - second.y;\r\n    var dcx = first.x - second.x;\r\n    // We compare how much the distance has changed between first two touches and\r\n    // current two touches:\r\n    var scaleChange = Math.abs(Math.hypot(dfy, dfx) - Math.hypot(dcy, dcx));\r\n    // Also compare how much the angle has changed:\r\n    var initialAngle = Math.atan2(dfy, dfx);\r\n    var angleChange = Math.abs(initialAngle - Math.atan2(dcy, dcx));\r\n    // Now let's see if this is incline change:\r\n    initialAngle = (Math.abs(initialAngle) * 180) / Math.PI;\r\n    // Two fingers have to be roughly on the horizontal line\r\n    var horizontalAngleInDegrees = 60;\r\n    var isHorizontalLine = initialAngle < horizontalAngleInDegrees ||\r\n        180 - initialAngle < horizontalAngleInDegrees;\r\n    if (isHorizontalLine &&\r\n        this.allowRotation &&\r\n        Math.abs(first.createdAt - second.createdAt) < 100) {\r\n        // we take a sum of two vectors:\r\n        // direction of the first finger + direction of the second finger\r\n        // In case of incline change we want them to move either up or down\r\n        // which means X change should be small, why Y change should be large\r\n        var vx = first.x - originalFirst.x + second.x - originalSecond.x;\r\n        var vy = first.y - originalFirst.y + second.y - originalSecond.y;\r\n        if (Math.abs(vx) < 10 && Math.abs(vy) > 42) {\r\n            this.canIncline = true;\r\n        }\r\n    }\r\n    if (this.canIncline) {\r\n        this.canRotate = false;\r\n        this.canScale = false;\r\n        this.canIncline = true;\r\n        this.state = INCLINE;\r\n    }\r\n    else if (angleChange > 0.1 && this.allowRotation) {\r\n        // When we are rotating we want to be able to scale too:\r\n        this.canRotate = true;\r\n        this.canScale = true;\r\n        this.canIncline = false;\r\n        this.state = ROTATE;\r\n    }\r\n    else if (scaleChange > 15) {\r\n        // But when we are scaling, only scaling should be allowed\r\n        // (otherwise it's too annoying):\r\n        this.canRotate = false;\r\n        this.canScale = true;\r\n        this.canIncline = false;\r\n        this.state = SCALE;\r\n    }\r\n    this.stateChanged = true;\r\n};\n\nfunction createTouchController(inputTarget, camera) {\r\n    var listening = false;\r\n    var activeTouches = new Map();\r\n    var allowRotation = camera.allowRotation;\n    var panAnimation = camera.panAnimation;\n    var rotateAnimation = camera.rotateAnimation;\r\n    var multiTouchState = new MultiTouchState(allowRotation);\r\n    // used for double tap distance check: if they tapped to far, it is not a double tap:\r\n    var lastTouch;\r\n    var lastTouchEndEventTime = Date.now();\r\n    var lastMultiTouchEventTime = lastTouchEndEventTime;\r\n    listenToEvents();\r\n    return { dispose: dispose };\r\n    function dispose() {\r\n        inputTarget.removeEventListener('touchstart', handleTouchStart, { passive: false });\r\n        stopDocumentTouchListeners();\r\n    }\r\n    function listenToEvents() {\r\n        inputTarget.addEventListener('touchstart', handleTouchStart, { passive: false });\r\n    }\r\n    function handleTouchStart(e) {\r\n        if (!listening) {\r\n            startDocumentTouchListeners();\r\n            listening = true;\r\n        }\r\n        panAnimation.cancel();\r\n        rotateAnimation.cancel();\r\n        if (e.touches.length === 1) {\r\n            // only when one touch is active we want to have inertia\r\n            panAnimation.start();\r\n        }\r\n        for (var i = 0; i < e.touches.length; ++i) {\r\n            var touch = e.touches[i];\r\n            if (!activeTouches.has(touch.identifier)) {\r\n                activeTouches.set(touch.identifier, new TouchState(touch));\r\n            }\r\n        }\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n    function handleTouchMove(e) {\r\n        var now = Date.now();\r\n        var dx = 0;\r\n        var dy = 0; // total difference between touches.\r\n        var cx = 0;\r\n        var cy = 0; // center of the touches\r\n        var first, second; // fingers.\r\n        var needRedraw = false;\r\n        var touches = e.touches;\r\n        for (var i = 0; i < touches.length; ++i) {\r\n            var touch = touches[i];\r\n            var state = activeTouches.get(touch.identifier);\r\n            if (!state) {\r\n                // We never tracked this touch - how is this even possible?\r\n                continue;\r\n            }\r\n            state.move(touch);\r\n            cx += state.x;\r\n            cy += state.y;\r\n            dx += state.x - state.lastX;\r\n            dy += state.y - state.lastY;\r\n            if (!first)\r\n                { first = state; }\r\n            else if (!second)\r\n                { second = state; }\r\n        }\r\n        var changedCount = touches.length;\r\n        dx /= changedCount;\r\n        dy /= changedCount;\r\n        cx /= changedCount;\r\n        cy /= changedCount;\r\n        if (!second)\r\n            { multiTouchState.reset(); }\r\n        // todo: find something better than `first` and `second` tracking?\r\n        if (first && second) {\r\n            lastMultiTouchEventTime = now;\r\n            var dx$1 = second.x - first.x;\r\n            var dy$1 = second.y - first.y;\r\n            var lastDx = second.lastX - first.lastX;\r\n            var lastDy = second.lastY - first.lastY;\r\n            var zoomChange = Math.hypot(dx$1, dy$1) / Math.hypot(lastDx, lastDy) - 1;\r\n            var angle = Math.atan2(dy$1, dx$1) - Math.atan2(lastDy, lastDx);\r\n            multiTouchState.track(first, second);\r\n            if (multiTouchState.stateChanged) {\r\n                rotateAnimation.start();\r\n                panAnimation.cancel();\r\n            }\r\n            if (multiTouchState.canScale) {\r\n                camera.zoomToClientCoordinates(cx, cy, zoomChange);\r\n                needRedraw = true;\r\n            }\r\n            if (multiTouchState.canRotate) {\r\n                camera.rotateByAngle(angle, 0);\r\n                needRedraw = true;\r\n            }\r\n            if (multiTouchState.canIncline) {\r\n                var totalMove = second.y - second.lastY + first.y - first.lastY;\r\n                camera.rotateByAbsoluteOffset(0, totalMove);\r\n                needRedraw = true;\r\n            }\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n        var timeSinceLastTouchEnd = now - lastTouchEndEventTime;\r\n        var shouldSkipPanning = multiTouchState.canIncline || // can't pan when incline is changed\r\n            timeSinceLastTouchEnd < 300 || // don't pan if they just released a finger.\r\n            (e.touches.length > 1 && multiTouchState.isUnknown());\r\n        if ((dx !== 0 || dy !== 0) && !shouldSkipPanning) {\r\n            // we are panning around\r\n            camera.panByAbsoluteOffset(dx, dy);\r\n            needRedraw = true;\r\n        }\r\n        if (needRedraw) {\r\n            camera.redraw();\r\n        }\r\n    }\r\n    function handleTouchEnd(e) {\r\n        var now = Date.now();\r\n        var timeSinceLastTouchEnd = now - lastTouchEndEventTime;\r\n        lastTouchEndEventTime = now;\r\n        var touches = e.changedTouches;\r\n        for (var i = 0; i < touches.length; ++i) {\r\n            var touch = touches[i];\r\n            activeTouches.delete(touch.identifier);\r\n        }\r\n        if (e.touches.length < 2) {\r\n            multiTouchState.reset(); // prepare for more multi-touch gesture detection\r\n            rotateAnimation.stop(); // spin if necessary.\r\n            panAnimation.stop();\r\n        }\r\n        if (e.touches.length === 0) {\r\n            // Just in case we missed a finger in the map - clean it here.\r\n            activeTouches.clear();\r\n        }\r\n        if (activeTouches.size === 0 && e.changedTouches.length === 1) {\r\n            listening = false;\r\n            stopDocumentTouchListeners();\r\n            panAnimation.stop();\r\n            if (timeSinceLastTouchEnd < 350 && now - lastMultiTouchEventTime > 350) {\r\n                // Double tap?\r\n                var newLastTouch = e.changedTouches[0];\r\n                var dx = Math.abs(newLastTouch.clientX - lastTouch.clientX);\r\n                var dy = Math.abs(newLastTouch.clientY - lastTouch.clientY);\r\n                if (Math.hypot(dx, dy) < 30) {\r\n                    // Yes! They tapped close enough to the last tap. Zoom in:\r\n                    camera.zoomToClientCoordinates(lastTouch.clientX, lastTouch.clientY, 0.5, true);\r\n                }\r\n            }\r\n            lastTouch = e.changedTouches[0];\r\n        }\r\n    }\r\n    function startDocumentTouchListeners() {\r\n        document.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n        document.addEventListener('touchend', handleTouchEnd, { passive: false });\r\n        document.addEventListener('touchcancel ', handleTouchEnd, { passive: false });\r\n    }\r\n    function stopDocumentTouchListeners() {\r\n        document.removeEventListener('touchmove', handleTouchMove);\r\n        document.removeEventListener('touchend', handleTouchEnd);\r\n        document.removeEventListener('touchcancel ', handleTouchEnd);\r\n    }\r\n}\n\nfunction createKeyboardController(inputTarget, camera) {\r\n    var frameHandle = 0;\r\n    var vx = 0, vy = 0, vz = 0; // velocity of the panning\r\n    var dx = 0, dy = 0, dz = 0; // actual offset of the panning\r\n    var dPhi = 0, vPhi = 0; // rotation \r\n    var dRadius = 0, vRadius = 0; // radius\r\n    var dIncline = 0, vIncline = 0; // inclination\r\n    listenToEvents();\r\n    return { dispose: dispose };\r\n    function listenToEvents() {\r\n        if (!inputTarget.getAttribute('tabindex')) {\r\n            inputTarget.setAttribute('tabindex', '0');\r\n        }\r\n        inputTarget.addEventListener('keydown', handleKeyDown);\r\n        inputTarget.addEventListener('keyup', handleKeyUp);\r\n    }\r\n    function dispose() {\r\n        inputTarget.removeEventListener('keydown', handleKeyDown);\r\n        inputTarget.removeEventListener('keyup', handleKeyUp);\r\n        cancelAnimationFrame(frameHandle);\r\n    }\r\n    function frame() {\r\n        frameHandle = 0;\r\n        var dampFactor = 0.9;\r\n        var needRedraw = false;\r\n        dx = clampTo(dx * dampFactor + vx, 0.5, 0);\r\n        dy = clampTo(dy * dampFactor + vy, 0.5, 0);\r\n        dz = clampTo(dz * dampFactor + vz, 0.5, 0);\r\n        if (dx || dy) {\r\n            camera.panByAbsoluteOffset(dx, dy);\r\n            needRedraw = true;\r\n        }\r\n        if (dz) {\r\n            camera.slideCenterUpDown(dz);\r\n            needRedraw = true;\r\n        }\r\n        dPhi = clampTo((dPhi * dampFactor + vPhi / 2), Math.PI / 360, 0);\r\n        dIncline = clampTo((dIncline * dampFactor + vIncline / 6), Math.PI / 360, 0);\r\n        if (dPhi || dIncline) {\r\n            camera.rotateByAbsoluteOffset(dPhi, dIncline);\r\n            needRedraw = true;\r\n        }\r\n        dRadius = clampTo((dRadius * 0.7 + vRadius), 0.5, 0);\r\n        if (dRadius) {\r\n            var scaleFactor = Math.sign(dRadius) * 0.025;\r\n            camera.zoomCenterByScaleFactor(scaleFactor, 0, 0);\r\n            needRedraw = true;\r\n        }\r\n        if (needRedraw) {\r\n            camera.redraw();\r\n            processNextInput();\r\n        }\r\n    }\r\n    function processNextInput() {\r\n        if (frameHandle)\r\n            { return; } // already scheduled\r\n        frameHandle = requestAnimationFrame(frame);\r\n    }\r\n    function handleKeyDown(e) {\r\n        onKey(e, 1);\r\n    }\r\n    function handleKeyUp(e) {\r\n        onKey(e, 0);\r\n    }\r\n    function onKey(e, isDown) {\r\n        if (isModifierKey(e))\r\n            { return; }\r\n        // TODO: implement plane move on the z up/down?\r\n        switch (e.which) {\r\n            case 81: // q - roll right\r\n                vPhi = -isDown;\r\n                break;\r\n            case 69: // e - roll left\r\n                vPhi = isDown;\r\n                break;\r\n            case 187: // = - zoom in\r\n                vRadius = isDown;\r\n                break;\r\n            case 189: // - - zoom in\r\n                vRadius = -isDown;\r\n                break;\r\n            case 82: // r - inline up\r\n                vIncline = isDown;\r\n                break;\r\n            case 70: // f - incline down\r\n                vIncline = -isDown;\r\n                break;\r\n            case 37: // \r\n            case 65: // a\r\n                vx = isDown;\r\n                break;\r\n            case 39: // \r\n            case 68: // d\r\n                vx = -isDown;\r\n                break;\r\n            case 38: // \r\n            case 87: // w\r\n                vy = isDown;\r\n                break;\r\n            case 40: // \r\n            case 83: // d\r\n                vy = -isDown;\r\n                break;\r\n            case 71: // g\r\n                vz = -isDown;\r\n                break;\r\n            case 84: // t\r\n                vz = isDown;\r\n                break;\r\n        }\r\n        processNextInput();\r\n    }\r\n}\r\nfunction isModifierKey(e) {\r\n    return e.altKey || e.ctrlKey || e.metaKey;\r\n}\r\nfunction clampTo(x, threshold, clampValue) {\r\n    return Math.abs(x) < threshold ? clampValue : x;\r\n}\n\nfunction createMouseController(inputTarget, camera) {\r\n    var mouseX, mouseY, isAltMouseMove;\r\n    var allowRotation = camera.allowRotation;\n    var panAnimation = camera.panAnimation;\n    var rotateAnimation = camera.rotateAnimation;\r\n    inputTarget.addEventListener('wheel', handleWheel, { passive: false });\r\n    inputTarget.addEventListener('mousedown', handleMouseDown, {\r\n        passive: false\r\n    });\r\n    inputTarget.addEventListener('dblclick', handleDoubleClick, {\r\n        passive: false\r\n    });\r\n    return { dispose: dispose };\r\n    function dispose() {\r\n        inputTarget.removeEventListener('wheel', handleWheel, { passive: false });\r\n        inputTarget.removeEventListener('mousedown', handleMouseDown, { passive: false });\r\n        inputTarget.removeEventListener('dblclick', handleDoubleClick, { passive: false });\r\n        // TODO: Should I be more precise here?\r\n        document.removeEventListener('mousemove', onMouseMove);\r\n        document.removeEventListener('mouseup', onMouseUp);\r\n    }\r\n    function handleMouseDown(e) {\r\n        var isLeftButton = (e.button === 1 && window.event !== null) || e.button === 0;\r\n        if (!isLeftButton)\r\n            { return; }\r\n        document.addEventListener('mousemove', onMouseMove);\r\n        document.addEventListener('mouseup', onMouseUp);\r\n        mouseX = e.clientX;\r\n        mouseY = e.clientY;\r\n        isAltMouseMove = e.altKey && allowRotation;\r\n        panAnimation.cancel();\r\n        rotateAnimation.cancel();\r\n        if (isAltMouseMove) {\r\n            rotateAnimation.start();\r\n        }\r\n        else {\r\n            panAnimation.start();\r\n        }\r\n    }\r\n    function onMouseMove(e) {\r\n        var dy = e.clientY - mouseY;\r\n        var dx = e.clientX - mouseX;\r\n        if (isAltMouseMove) {\r\n            camera.rotateByAbsoluteOffset(dx, dy);\r\n        }\r\n        else {\r\n            camera.panByAbsoluteOffset(dx, dy);\r\n        }\r\n        mouseX = e.clientX;\r\n        mouseY = e.clientY;\r\n        camera.redraw();\r\n    }\r\n    function onMouseUp() {\r\n        document.removeEventListener('mousemove', onMouseMove);\r\n        document.removeEventListener('mouseup', onMouseUp);\r\n        if (isAltMouseMove) {\r\n            rotateAnimation.stop();\r\n        }\r\n        else {\r\n            panAnimation.stop();\r\n        }\r\n    }\r\n    function handleDoubleClick(e) {\r\n        camera.zoomToClientCoordinates(e.clientX, e.clientY, 0.5, true);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n    function handleWheel(e) {\r\n        // in windows FF it scrolls differently. Want to have the same speed there:\r\n        var deltaFactor = e.deltaMode > 0 ? 100 : 1;\r\n        var scaleFactor = getScaleFactorFromDelta(-e.deltaY * deltaFactor);\r\n        camera.zoomToClientCoordinates(e.clientX, e.clientY, scaleFactor);\r\n        e.preventDefault();\r\n    }\r\n    function getScaleFactorFromDelta(delta) {\r\n        return Math.sign(delta) * Math.min(0.25, Math.abs(delta / 128));\r\n    }\r\n}\n\nfunction createSpaceMapCamera(scene) {\r\n    var drawContext = scene.getDrawContext();\r\n    var view = drawContext.view;\r\n    var rotationSpeed = Math.PI * 2;\r\n    var inclinationSpeed = Math.PI * 1.618;\r\n    var sceneOptions = scene.getOptions() || {};\r\n    var allowRotation = sceneOptions.allowRotation === undefined ? true : !!sceneOptions.allowRotation;\r\n    var r = 1;\r\n    // angle of rotation around Y axis, tracked from axis X to axis Z\r\n    var minPhi = option(sceneOptions.minPhi, -Infinity);\r\n    var maxPhi = option(sceneOptions.maxPhi, Infinity);\r\n    // Rotate the camera so it looks to the central point in Oxy plane from distance r.\r\n    var phi = clamp(-Math.PI / 2, minPhi, maxPhi);\r\n    var planeNormal = [0, 0, 1];\r\n    // camera inclination angle. (Angle above Oxz plane)\r\n    var minTheta = option(sceneOptions.minTheta, 0);\r\n    var maxTheta = option(sceneOptions.maxTheta, Math.PI);\r\n    var theta = clamp(0, minTheta, maxTheta);\r\n    var centerPointPosition = drawContext.center;\r\n    var cameraPosition = view.position;\r\n    var panAnimation = createKineticAnimation(getCenterPosition, setCenterPosition);\r\n    var rotateAnimation = createKineticAnimation(getCenterRotation, setCenterRotation, {\r\n        minVelocity: 1\r\n    });\r\n    var api = {\r\n        dispose: dispose,\r\n        setViewBox: setViewBox,\r\n        panByAbsoluteOffset: panByAbsoluteOffset,\r\n        slideCenterUpDown: slideCenterUpDown,\r\n        rotateByAngle: rotateByAngle,\r\n        rotateByAbsoluteOffset: rotateByAbsoluteOffset,\r\n        zoomCenterByScaleFactor: zoomCenterByScaleFactor,\r\n        zoomToClientCoordinates: zoomToClientCoordinates,\r\n        redraw: redraw,\r\n        allowRotation: allowRotation,\r\n        rotateAnimation: rotateAnimation,\r\n        panAnimation: panAnimation,\r\n        getRadius: getRadius,\r\n    };\r\n    var inputTarget = drawContext.canvas;\r\n    var keyboardController = createKeyboardController(inputTarget, api);\r\n    var touchController = createTouchController(inputTarget, api);\r\n    var mouseController = createMouseController(inputTarget, api);\r\n    redraw();\r\n    return api;\r\n    function getRadius() {\r\n        return r;\r\n    }\r\n    function setViewBox() {\r\n        cameraPosition = view.position;\r\n        r = Math.hypot(cameraPosition[2]);\r\n        centerPointPosition[0] = cameraPosition[0];\r\n        centerPointPosition[1] = cameraPosition[1];\r\n        centerPointPosition[2] = 0;\r\n        theta = clamp(0, minTheta, maxTheta);\r\n        phi = clamp(-Math.PI / 2, minPhi, maxPhi);\r\n        redraw();\r\n    }\r\n    function dispose() {\r\n        rotateAnimation.cancel();\r\n        panAnimation.cancel();\r\n        touchController.dispose();\r\n        keyboardController.dispose();\r\n        mouseController.dispose();\r\n    }\r\n    function getZoomPlaneIntersection(clientX, clientY) {\r\n        var viewPoint = scene.getSceneCoordinate(clientX, clientY);\r\n        var spare = [0, 0, 0];\r\n        var ray = cjs_2.sub(spare, [viewPoint.x, viewPoint.y, viewPoint.z], cameraPosition);\r\n        cjs_2.normalize(ray, ray);\r\n        var denom = cjs_2.dot(planeNormal, ray);\r\n        if (Math.abs(denom) > 1e-7) {\r\n            var t = cjs_2.dot(cjs_2.sub([0, 0, 0], centerPointPosition, cameraPosition), planeNormal) / denom;\r\n            return cjs_2.scaleAndAdd([0, 0, 0], cameraPosition, ray, t);\r\n        }\r\n    }\r\n    function rotateByAngle(angleChange, thetaChange) {\r\n        phi = clamp(phi + angleChange, minPhi, maxPhi);\r\n        theta = clamp(theta + thetaChange, minTheta, maxTheta);\r\n    }\r\n    function rotateByAbsoluteOffset(dx, dy) {\r\n        if (!allowRotation)\r\n            { return; }\r\n        var ar = drawContext.width / drawContext.height;\r\n        phi -= (rotationSpeed * dx) / drawContext.width;\r\n        theta -= ((inclinationSpeed * dy) / drawContext.height) * ar;\r\n        theta = clamp(theta, minTheta, maxTheta);\r\n        phi = clamp(phi, minPhi, maxPhi);\r\n    }\r\n    function panByAbsoluteOffset(dx, dy) {\r\n        var ar = drawContext.width / drawContext.height;\r\n        // the idea behind this formula is this. We turn dx and dy to be\r\n        // in a range from [0..1] (as a ratio of the screen width or height),\r\n        // We know the FoV angle, we want to know how much of the distance we\r\n        // traveled on the frustrum plane.\r\n        // Distance to frustrum is `r`, thus half length of the frustrum plane\r\n        // is `r * tan(fov/2)`, we now extend it to full length by performing `2 * `\r\n        // and take the ratio in dx and dy scale.\r\n        var fCoefficient = 2 * r * Math.tan(drawContext.fov / 2);\r\n        var x = (ar * fCoefficient * dx) / (drawContext.width / drawContext.pixelRatio);\r\n        var y = (fCoefficient * dy) / (drawContext.height / drawContext.pixelRatio);\r\n        moveCenterBy(x, -y); // WebGL Y is not the same as typical DOM Y.\r\n    }\r\n    function zoomToClientCoordinates(clientX, clientY, scaleFactor, shouldAnimate) {\r\n        var p = getZoomPlaneIntersection(clientX, clientY);\r\n        if (!p) {\r\n            return;\r\n        }\r\n        var dx = p[0] - centerPointPosition[0];\r\n        var dy = p[1] - centerPointPosition[1];\r\n        if (shouldAnimate) {\r\n            var from = { r: r, x: centerPointPosition[0], y: centerPointPosition[1] };\r\n            var to = {\r\n                r: r * (1 - scaleFactor),\r\n                x: from.x + dx * scaleFactor,\r\n                y: from.y + dy * scaleFactor\r\n            };\r\n            amator(from, to, {\r\n                step: function step(values) {\r\n                    r = values.r;\r\n                    centerPointPosition[0] = values.x;\r\n                    centerPointPosition[1] = values.y;\r\n                    redraw();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            zoomCenterByScaleFactor(scaleFactor, dx, dy);\r\n            redraw();\r\n        }\r\n    }\r\n    function moveCenterBy(dx, dy) {\r\n        var cPhi = Math.cos(phi);\r\n        var sPhi = Math.sin(phi);\r\n        centerPointPosition[0] += cPhi * dy + sPhi * dx;\r\n        centerPointPosition[1] += sPhi * dy - cPhi * dx;\r\n    }\r\n    function slideCenterUpDown(dz) {\r\n        centerPointPosition[2] += dz * r * 0.001;\r\n    }\r\n    function getCenterPosition() {\r\n        return {\r\n            x: centerPointPosition[0],\r\n            y: centerPointPosition[1],\r\n            z: centerPointPosition[2]\r\n        };\r\n    }\r\n    function getCenterRotation() {\r\n        return {\r\n            x: phi,\r\n            y: theta,\r\n            z: 0,\r\n        };\r\n    }\r\n    function setCenterRotation(new_phi, new_theta) {\r\n        theta = clamp(new_theta, minTheta, maxTheta);\r\n        phi = clamp(new_phi, minPhi, maxPhi);\r\n        redraw();\r\n    }\r\n    function setCenterPosition(x, y, z) {\r\n        cjs_2.set(centerPointPosition, x, y, z);\r\n        redraw();\r\n    }\r\n    function zoomCenterByScaleFactor(scaleFactor, dx, dy) {\r\n        // `scaleFactor` defines whether we shrink the radius by multiplying it by something < 1\r\n        // or increase it by multiplying by something > 1.\r\n        r *= 1 - scaleFactor;\r\n        // let's also move the center closer to the scrolling origin, this gives\r\n        // better UX, similar to the one seen in maps: Map zooms into point under\r\n        // mouse cursor.\r\n        // How much should we move the center point?\r\n        // (dx, dy) is current distance from the scroll point to the center. We should\r\n        // keep it the same after we scaled!\r\n        // dXScaled = dx * (1 - scaleFactor); // this is going to be the distance after we scaled.\r\n        // newOffsetX = dx - dXScaled; // Thus we move the center by this amount. Which is the same as:\r\n        // newOffsetX = dx - dx * (1 - scaleFactor) == dx * (1 - 1 + scaleFactor) == dx * scaleFactor;\r\n        // Thus the formula below:\r\n        centerPointPosition[0] += dx * scaleFactor;\r\n        centerPointPosition[1] += dy * scaleFactor;\r\n    }\r\n    function redraw() {\r\n        var newCameraPosition = getSpherical(r, theta, phi);\r\n        // now we want to know what is an up vector? The idea is that its position\r\n        // can also be represented in spherical coordinates of a sphere with slightly larger\r\n        // radius. How much larger?\r\n        // Just assume `up` vector length is 1, then the sphere  radius is sqrt(r * r + 1 * 1):\r\n        var upVectorSphereRadius = Math.hypot(r, 1); // Note: may run into precision error here.\r\n        // We know a hypotenuse of the new triangle and its size. The angle would be\r\n        // `Math.acos(r/upVectorSphereRadius)`, and since we don't care whether up is above or below\r\n        // the actual `theta`, we pick one direction and stick to it:\r\n        var upVectorTheta = theta - Math.acos(r / upVectorSphereRadius);\r\n        // The rotation angle around z axis (phi) is the same as the camera position.\r\n        var upVector = getSpherical(upVectorSphereRadius, upVectorTheta, phi);\r\n        // Finally we know both start of the upVector, and the end of the up vector, let's find the direction:\r\n        cjs_2.sub(upVector, upVector, newCameraPosition);\r\n        cjs_2.set(cameraPosition, newCameraPosition[0], newCameraPosition[1], newCameraPosition[2]);\r\n        cjs_2.add(cameraPosition, cameraPosition, centerPointPosition);\r\n        // I'd assume this could be simplified? I just don't know and haven't thought yet how:\r\n        cjs_6.targetTo(view.matrix, cameraPosition, centerPointPosition, upVector);\r\n        cjs_6.getRotation(view.rotation, view.matrix);\r\n        view.update();\r\n        scene.getRoot().scheduleMVPUpdate();\r\n        scene.fire('transform', drawContext);\r\n        scene.renderFrame();\r\n    }\r\n}\r\nfunction getSpherical(r, theta, phi) {\r\n    var z = r * Math.cos(theta);\r\n    var x = r * Math.sin(theta) * Math.cos(phi);\r\n    var y = r * Math.sin(theta) * Math.sin(phi);\r\n    return [x, y, z];\r\n}\r\nfunction clamp(v, min, max) {\r\n    if (v < min)\r\n        { v = min; }\r\n    if (v > max)\r\n        { v = max; }\r\n    return v;\r\n}\r\nfunction option(value, fallback) {\r\n    if (value === undefined)\r\n        { return fallback; }\r\n    return value;\r\n}\n\n// Float32 is not enough for large scenes.\r\ncjs_10.setMatrixArrayType(Float64Array);\r\nfunction createScene(canvas, options) {\n    if ( options === void 0 ) options = {};\n\r\n    var width;\r\n    var height;\r\n    var pixelRatio = options.devicePixelRatio || window.devicePixelRatio;\r\n    var wglContextOptions = options.wglContextOptions;\r\n    var gl = (canvas.getContext('webgl', wglContextOptions) ||\r\n        canvas.getContext('experimental-webgl', wglContextOptions));\r\n    gl.enable(gl.BLEND);\r\n    gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n    gl.clearColor(0, 0, 0, 1.0);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n    var frameToken = 0;\r\n    var sceneRoot = new Element();\r\n    var hasMouseClickListeners = false;\r\n    var hasMouseMoveListeners = false;\r\n    var view = new ViewMatrix();\r\n    var projection = cjs_6.create();\r\n    var inverseProjection = cjs_6.create();\r\n    var fov = options.fov === undefined ? Math.PI * 45 / 180 : options.fov;\r\n    var near = options.near === undefined ? 0.01 : options.near;\r\n    var far = options.far === undefined ? Infinity : options.far;\r\n    var drawContext = {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n        pixelRatio: pixelRatio,\r\n        canvas: canvas,\r\n        projection: projection,\r\n        view: view,\r\n        fov: fov,\r\n        center: [0, 0, 0],\r\n    };\r\n    updateCanvasSize();\r\n    var api = ngraph_events({\r\n        appendChild: appendChild,\r\n        getSceneCoordinate: getSceneCoordinate,\r\n        getClientCoordinate: getClientCoordinate,\r\n        getTransform: getTransform,\r\n        getRoot: getRoot,\r\n        getGL: getGL,\r\n        removeChild: removeChild,\r\n        setViewBox: setViewBox,\r\n        setClearColor: setClearColor,\r\n        getClearColor: getClearColor,\r\n        clear: clear,\r\n        dispose: dispose,\r\n        renderFrame: renderFrame,\r\n        getPixelRatio: getPixelRatio,\r\n        setPixelRatio: setPixelRatio,\r\n        getCamera: getCamera,\r\n        setCamera: setCamera,\r\n        getDrawContext: getDrawContext,\r\n        getOptions: getOptions\r\n    });\r\n    var realOn = api.on;\r\n    api.on = trapOn;\r\n    sceneRoot.bindScene(api);\r\n    var cameraController = (options.camera || createSpaceMapCamera)(api, drawContext);\r\n    var disposeClick;\r\n    listenToEvents();\r\n    renderFrame();\r\n    return api;\r\n    function getPixelRatio() {\r\n        return pixelRatio;\r\n    }\r\n    function getDrawContext() {\r\n        return drawContext;\r\n    }\r\n    function getOptions() {\r\n        return options;\r\n    }\r\n    function setPixelRatio(newPixelRatio) {\r\n        pixelRatio = newPixelRatio;\r\n        drawContext.pixelRatio = pixelRatio;\r\n        updateCanvasSize();\r\n    }\r\n    function getGL() {\r\n        return gl;\r\n    }\r\n    function getRoot() {\r\n        return sceneRoot;\r\n    }\r\n    function setCamera(createCamera) {\r\n        if (cameraController) {\r\n            cameraController.dispose();\r\n        }\r\n        cameraController = createCamera(api, drawContext);\r\n    }\r\n    function getCamera() {\r\n        return cameraController;\r\n    }\r\n    function getTransform() {\r\n        return sceneRoot.model;\r\n    }\r\n    function setClearColor(r, g, b, a) {\r\n        gl.clearColor(r, g, b, a);\r\n    }\r\n    function getClearColor() {\r\n        // [r, g, b, a]\r\n        return gl.getParameter(gl.COLOR_CLEAR_VALUE);\r\n    }\r\n    function listenToEvents() {\r\n        canvas.addEventListener('mousemove', onMouseMove);\r\n        disposeClick = onClap(canvas, onMouseClick);\r\n        window.addEventListener('resize', onResize, true);\r\n    }\r\n    function dispose() {\r\n        canvas.removeEventListener('mousemove', onMouseMove);\r\n        if (disposeClick)\r\n            { disposeClick(); }\r\n        window.removeEventListener('resize', onResize, true);\r\n        cameraController.dispose();\r\n        sceneRoot.dispose();\r\n        if (frameToken) {\r\n            cancelAnimationFrame(frameToken);\r\n            frameToken = 0;\r\n        }\r\n    }\r\n    function onResize() {\r\n        updateCanvasSize();\r\n    }\r\n    function updateCanvasSize() {\r\n        if (options.size) {\r\n            // Fixed size canvas doesn't update. We assume CSS does the scaling.\r\n            width = canvas.width = options.size.width;\r\n            height = canvas.height = options.size.height;\r\n        }\r\n        else {\r\n            width = canvas.width = canvas.offsetWidth * pixelRatio;\r\n            height = canvas.height = canvas.offsetHeight * pixelRatio;\r\n        }\r\n        gl.viewport(0, 0, width, height);\r\n        drawContext.width = width;\r\n        drawContext.height = height;\r\n        sceneRoot.worldTransformNeedsUpdate = true;\r\n        cjs_6.perspective(projection, fov, width / height, near, far);\r\n        inverseProjection = cjs_6.invert(cjs_6.create(), projection);\r\n        renderFrame();\r\n    }\r\n    function onMouseClick(e) {\r\n        if (!hasMouseClickListeners)\r\n            { return; }\r\n        var p = getSceneCoordinate(e.clientX, e.clientY);\r\n        if (!p)\r\n            { return; } // need to zoom in!\r\n        api.fire('click', {\r\n            originalEvent: e,\r\n            x: p.x,\r\n            y: p.y,\r\n            z: p.z\r\n        });\r\n    }\r\n    function onMouseMove(e) {\r\n        if (!hasMouseMoveListeners)\r\n            { return; }\r\n        var p = getSceneCoordinate(e.clientX, e.clientY);\r\n        if (!p)\r\n            { return; }\r\n        api.fire('mousemove', {\r\n            originalEvent: e,\r\n            x: p.x,\r\n            y: p.y,\r\n            z: p.z,\r\n        });\r\n    }\r\n    function getSceneCoordinate(clientX, clientY) {\r\n        // TODO: This is not optimized by any means.\r\n        // todo: cache canvas size?\r\n        var rect = canvas.getBoundingClientRect();\r\n        clientX -= rect.left;\r\n        clientY -= rect.top;\r\n        var dpr = api.getPixelRatio();\r\n        var clipSpaceX = (dpr * clientX / width) * 2 - 1;\r\n        var clipSpaceY = (1 - dpr * clientY / height) * 2 - 1;\r\n        var spare = [0, 0, 0, 0];\r\n        var mx = cjs_1.transformMat4(spare, [clipSpaceX, clipSpaceY, 0, 1], inverseProjection);\r\n        mx[0] /= mx[3];\r\n        mx[1] /= mx[3];\r\n        mx[2] /= mx[3];\r\n        mx[3] /= mx[3];\r\n        cjs_1.transformMat4(mx, mx, view.cameraWorld);\r\n        cjs_2.sub(mx, mx, view.position);\r\n        cjs_2.normalize(mx, mx);\r\n        // let l = Math.hypot(mx[0], mx[1], mx[2]);\r\n        // mx[0] /= l; mx[1] /= l; mx[2] /= l;\r\n        var targetZ = 0;\r\n        // TODO: This is likely not going to work for all cases.\r\n        var distance = (targetZ - view.position[2]) / mx[2];\r\n        if (mx[2] > 0) ;\r\n        cjs_1.scaleAndAdd(mx, view.position, mx, distance);\r\n        // TODO: Return mx?\r\n        return {\r\n            x: mx[0],\r\n            y: mx[1],\r\n            z: mx[2]\r\n        };\r\n    }\r\n    function getClientCoordinate(sceneX, sceneY, sceneZ) {\n        if ( sceneZ === void 0 ) sceneZ = 0;\n\r\n        // TODO: this is not optimized either.\r\n        var mvp = cjs_6.multiply(cjs_6.create(), projection, view.matrix);\r\n        cjs_6.multiply(mvp, mvp, sceneRoot.model);\r\n        var coordinate = cjs_1.transformMat4([], [sceneX, sceneY, sceneZ, 1], mvp);\r\n        var dpr = api.getPixelRatio();\r\n        var x = width * (coordinate[0] / coordinate[3] + 1) * 0.5 / dpr;\r\n        var y = height * (1 - (coordinate[1] / coordinate[3] + 1) * 0.5) / dpr;\r\n        return { x: x, y: y };\r\n    }\r\n    function setViewBox(rect) {\r\n        var dpr = drawContext.pixelRatio;\r\n        var nearHeight = dpr * Math.max((rect.top - rect.bottom) / 2, (rect.right - rect.left) / 2);\r\n        var ref = drawContext.view;\n        var position = ref.position;\n        var rotation = ref.rotation;\r\n        position[0] = (rect.left + rect.right) / 2;\r\n        position[1] = (rect.top + rect.bottom) / 2;\r\n        position[2] = nearHeight / Math.tan(drawContext.fov / 2);\r\n        cjs_5.set(rotation, 0, 0, 0, 1);\r\n        drawContext.view.update();\r\n        if (cameraController.setViewBox) {\r\n            cameraController.setViewBox(rect);\r\n        }\r\n    }\r\n    function renderFrame(immediate) {\n        if ( immediate === void 0 ) immediate = false;\n\r\n        if (immediate) {\r\n            return frame();\r\n        }\r\n        if (!frameToken)\r\n            { frameToken = requestAnimationFrame(frame); }\r\n    }\r\n    function frame() {\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n        sceneRoot.updateWorldTransform();\r\n        sceneRoot.draw(gl, drawContext);\r\n        frameToken = 0;\r\n    }\r\n    function clear() {\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n    }\r\n    function appendChild(child, sendToBack) {\n        if ( sendToBack === void 0 ) sendToBack = false;\n\r\n        sceneRoot.appendChild(child, sendToBack);\r\n        api.fire('append-child', child); // TODO: might need to add support for bubbling?\r\n    }\r\n    function removeChild(child) {\r\n        sceneRoot.removeChild(child);\r\n        api.fire('remove-child', child);\r\n    }\r\n    function trapOn(eventName, callback, context) {\r\n        if (eventName === 'click')\r\n            { hasMouseClickListeners = true; }\r\n        if (eventName === 'mousemove')\r\n            { hasMouseMoveListeners = true; }\r\n        return realOn(eventName, callback, context);\r\n    }\r\n}\n\nvar glUtils = {\r\n    compile: compile,\r\n    link: link,\r\n    getLocations: getLocations,\r\n    getAttributes: getAttributes,\r\n    getUniforms: getUniforms,\r\n    initBuffer: initBuffer\r\n};\r\nfunction compile(gl, type, shaderSrc) {\r\n    var shader = gl.createShader(type);\r\n    if (!shader) {\r\n        throw new Error('Failed to create a shared ' + shaderSrc);\r\n    }\r\n    gl.shaderSource(shader, shaderSrc);\r\n    gl.compileShader(shader);\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        throw new Error(gl.getShaderInfoLog(shader) || 'Failed to compile shader ' + shaderSrc);\r\n    }\r\n    return shader;\r\n}\r\nfunction link(gl, vertexShader, fragmentShader) {\r\n    var program = gl.createProgram();\r\n    if (!program) {\r\n        throw new Error('Failed to link a program');\r\n    }\r\n    gl.attachShader(program, vertexShader);\r\n    gl.attachShader(program, fragmentShader);\r\n    gl.linkProgram(program);\r\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n        throw new Error(gl.getProgramInfoLog(program) || 'Failed to link a program');\r\n    }\r\n    return program;\r\n}\r\nfunction getLocations(gl, program) {\r\n    return {\r\n        attributes: getAttributes(gl, program),\r\n        uniforms: getUniforms(gl, program)\r\n    };\r\n}\r\nfunction getAttributes(gl, program) {\r\n    var attributes = Object.create(null);\r\n    var numberOfAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\r\n    for (var i = 0; i < numberOfAttributes; ++i) {\r\n        var activeAttribute = gl.getActiveAttrib(program, i);\r\n        if (activeAttribute) {\r\n            var name = activeAttribute.name;\r\n            attributes[name] = gl.getAttribLocation(program, name);\r\n        }\r\n    }\r\n    return attributes;\r\n}\r\nfunction getUniforms(gl, program) {\r\n    var uniforms = Object.create(null);\r\n    var numberOfUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\r\n    for (var i = 0; i < numberOfUniforms; ++i) {\r\n        var activeUniform = gl.getActiveUniform(program, i);\r\n        if (activeUniform) {\r\n            var name = activeUniform.name;\r\n            uniforms[name] = gl.getUniformLocation(program, name);\r\n        }\r\n    }\r\n    return uniforms;\r\n}\r\nfunction initBuffer(gl, data, elementsPerVertex, attribute) {\r\n    var buffer = gl.createBuffer();\r\n    if (!buffer)\r\n        { throw new Error('Failed to create a buffer'); }\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n    gl.vertexAttribPointer(attribute, elementsPerVertex, gl.FLOAT, false, 0, 0);\r\n    gl.enableVertexAttribArray(attribute);\r\n}\n\n/**\r\n * Naive implementation of a multi-key cache.\r\n */\r\nfunction createMultiKeyCache() {\r\n    var cache = new Map();\r\n    return {\r\n        get: get,\r\n        set: set,\r\n        remove: remove\r\n    };\r\n    function get(keys) {\r\n        if (!keys)\r\n            { return; }\r\n        var lastCache = cache;\r\n        var entry;\r\n        for (var i = 0; i < keys.length; ++i) {\r\n            var key = keys[i];\r\n            entry = lastCache.get(key);\r\n            if (!entry)\r\n                { return; }\r\n            lastCache = entry;\r\n        }\r\n        return entry;\r\n    }\r\n    function set(keys, value) {\r\n        var lastCache = cache;\r\n        for (var i = 0; i < keys.length - 1; ++i) {\r\n            var key = keys[i];\r\n            var entry = lastCache.get(key);\r\n            if (!entry) {\r\n                entry = new Map();\r\n                lastCache.set(key, entry);\r\n            }\r\n            lastCache = entry;\r\n        }\r\n        lastCache.set(keys[keys.length - 1], value);\r\n    }\r\n    function remove(keys) {\r\n        var lastCache = cache;\r\n        for (var i = 0; i < keys.length - 1; ++i) {\r\n            var key = keys[i];\r\n            var entry = lastCache.get(key);\r\n            if (!entry)\r\n                { return; }\r\n            lastCache = entry;\r\n        }\r\n        lastCache.delete(keys[keys.length - 1]);\r\n        // TODO: Might also want to remove parent elements if this was the last entity.\r\n    }\r\n}\n\nvar vertexProgramCache = createMultiKeyCache();\r\nfunction makePointsProgram(gl, pointCollection) {\r\n    var allowColors = !!pointCollection.allowColors;\r\n    var programKey = [allowColors, gl];\r\n    var vertexProgram = vertexProgramCache.get(programKey);\r\n    if (!vertexProgram) {\r\n        var ref = getShadersCode(allowColors);\n        var fragmentShaderCode = ref.fragmentShaderCode;\n        var vertexShaderCode = ref.vertexShaderCode;\r\n        var vertexShader = glUtils.compile(gl, gl.VERTEX_SHADER, vertexShaderCode);\r\n        var fragmentShader = glUtils.compile(gl, gl.FRAGMENT_SHADER, fragmentShaderCode);\r\n        vertexProgram = glUtils.link(gl, vertexShader, fragmentShader);\r\n        vertexProgramCache.set(programKey, vertexProgram);\r\n    }\r\n    var locations = glUtils.getLocations(gl, vertexProgram);\r\n    var gle = gl.getExtension('ANGLE_instanced_arrays');\r\n    if (!gle) {\r\n        // Not sure if this is going to be an error, given instancing is widely supported. But\r\n        // If you get this error please ping me so that we can find a fallback solution\r\n        throw new Error('PointCollection requires instancing. Please ping @anvaka so that we can add fallback');\r\n    }\r\n    var buffer = gl.createBuffer();\r\n    if (!buffer)\r\n        { throw new Error('failed to create a nodesBuffer'); }\r\n    var instanceBuffer = gl.createBuffer();\r\n    var instanceBufferValues = new Float32Array([\r\n        -0.5, -0.5,\r\n        -0.5, 0.5,\r\n        0.5, 0.5,\r\n        0.5, 0.5,\r\n        0.5, -0.5,\r\n        -0.5, -0.5 ]);\r\n    var positionSize = pointCollection.is3D ? 3 : 2;\r\n    var sizeOffset = positionSize * 4;\r\n    var colorOffset = (positionSize + 1) * 4;\r\n    var coloredPointStride = (positionSize + 2) * 4;\r\n    var uncoloredPointStride = (positionSize + 1) * 4;\r\n    return {\r\n        draw: draw,\r\n        dispose: dispose\r\n    };\r\n    function dispose() {\r\n        // TODO: Do I need gl.deleteBuffer(buffer);?\r\n        gl.deleteProgram(vertexProgram);\r\n        vertexProgramCache.remove(programKey);\r\n    }\r\n    function draw(drawContext) {\r\n        if (!pointCollection.count)\r\n            { return; }\r\n        gl.enable(gl.DEPTH_TEST);\r\n        gl.depthFunc(gl.LEQUAL);\r\n        gl.useProgram(vertexProgram);\r\n        gl.uniformMatrix4fv(locations.uniforms.uModel, false, pointCollection.worldModel);\r\n        gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\r\n        gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, instanceBuffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, instanceBufferValues, gl.STATIC_DRAW);\r\n        gl.enableVertexAttribArray(locations.attributes.aPoint);\r\n        gl.vertexAttribPointer(locations.attributes.aPoint, 2, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, pointCollection.buffer, gl.DYNAMIC_DRAW);\r\n        if (allowColors) {\r\n            gl.enableVertexAttribArray(locations.attributes.aPosition);\r\n            gl.vertexAttribPointer(locations.attributes.aPosition, positionSize, gl.FLOAT, false, coloredPointStride, 0);\r\n            gl.enableVertexAttribArray(locations.attributes.aPointSize);\r\n            gl.vertexAttribPointer(locations.attributes.aPointSize, 1, gl.FLOAT, false, coloredPointStride, sizeOffset);\r\n            gl.enableVertexAttribArray(locations.attributes.aColor);\r\n            gl.vertexAttribPointer(locations.attributes.aColor, 4, gl.UNSIGNED_BYTE, true, coloredPointStride, colorOffset);\r\n        }\r\n        else {\r\n            gl.enableVertexAttribArray(locations.attributes.aPosition);\r\n            gl.vertexAttribPointer(locations.attributes.aPosition, positionSize, gl.FLOAT, false, uncoloredPointStride, 0);\r\n            gl.enableVertexAttribArray(locations.attributes.aPointSize);\r\n            gl.vertexAttribPointer(locations.attributes.aPointSize, 1, gl.FLOAT, false, uncoloredPointStride, sizeOffset);\r\n            var color = pointCollection.color;\r\n            gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\r\n        }\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPoint, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPosition, 1);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPointSize, 1);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aColor, 1);\r\n        gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, pointCollection.count);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPosition, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPoint, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPointSize, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aColor, 0);\r\n        gl.disable(gl.DEPTH_TEST);\r\n    }\r\n}\r\nfunction getShadersCode(allowColors) {\r\n    var fragmentShaderCode = \"\\n  precision highp float;\\n  varying vec4 vColor;\\n  varying vec3 vPosition;\\n\\n  void main() {\\n    float dist = length(vPosition);\\n\\n    if (dist >= 0.5) {discard;}\\n    gl_FragColor = vColor;\\n  }\\n  \";\r\n    var vertexShaderCode = \"\\n  uniform vec4 uColor;\\n  uniform mat4 projectionMatrix;\\n  uniform mat4 uModel;\\n  uniform mat4 uView;\\n\\n  attribute float aPointSize;\\n  attribute vec3 aPosition;\\n  attribute vec3 aPoint;\\n  \" + (allowColors ? 'attribute vec4 aColor;' : '') + \"\\n\\n  varying vec4 vColor;\\n  varying vec3 vPosition;\\n\\n  void main() {\\n    vPosition = aPoint;\\n    gl_Position = projectionMatrix * uView * uModel * vec4( aPosition + aPoint * aPointSize, 1.0 );\\n    vColor = \" + (allowColors ? 'aColor.abgr' : 'uColor') + \";\\n  }\\n\";\r\n    return {\r\n        fragmentShaderCode: fragmentShaderCode, vertexShaderCode: vertexShaderCode\r\n    };\r\n}\n\nvar Color = function Color(r, g, b, a) {\n    if ( a === void 0 ) a = 1;\n\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n    this.a = a === undefined ? 1 : a;\r\n};\n\n/**\r\n * Provides access to a single point in the PointCollection\r\n */\r\nvar PointAccessor = function PointAccessor(points, offset, data) {\r\n    this.offset = offset;\r\n    this._points = points;\r\n    if (data !== undefined) {\r\n        this.data = data;\r\n    }\r\n};\r\nPointAccessor.prototype.update = function update (point) {\r\n    var offset = this.offset;\r\n    var points = this._points.positions;\r\n    var is3D = this._points.is3D;\r\n    points[offset] = point.x;\r\n    offset++;\r\n    points[offset] = point.y;\r\n    offset++;\r\n    if (is3D) {\r\n        points[offset] = point.z || 0;\r\n        offset++;\r\n    }\r\n    var size = point.size || this._points.size || 1;\r\n    if (size !== undefined) {\r\n        points[offset] = size;\r\n    }\r\n    this.setColor(point.color);\r\n};\r\nPointAccessor.prototype.setColor = function setColor (color) {\r\n    if (!this._points.colors || color === undefined)\r\n        { return; }\r\n    var offset = this.offset + (this._points.is3D ? 4 : 3);\r\n    this._points.colors[offset] = color;\r\n};\n\nvar PointCollection = /*@__PURE__*/(function (Element) {\n    function PointCollection(capacity, options) {\r\n        if (capacity === undefined) {\r\n            throw new Error('Point capacity should be defined');\r\n        }\r\n        Element.call(this);\r\n        this.is3D = !options || options.is3D === undefined || options.is3D;\r\n        this.allowColors = !options || options.allowColors === undefined || options.allowColors;\r\n        this.itemsPerPoint = 3; // (x, y, size)\r\n        if (this.is3D)\r\n            { this.itemsPerPoint += 1; }\r\n        if (this.allowColors)\r\n            { this.itemsPerPoint += 1; }\r\n        this.capacity = capacity;\r\n        this.count = 0;\r\n        this.color = new Color(1, 1, 1, 1);\r\n        this._program = null;\r\n        this.buffer = new ArrayBuffer(capacity * this.itemsPerPoint * 4);\r\n        this.positions = new Float32Array(this.buffer);\r\n        this.colors = this.allowColors ? new Uint32Array(this.buffer) : null;\r\n    }\n\n    if ( Element ) PointCollection.__proto__ = Element;\n    PointCollection.prototype = Object.create( Element && Element.prototype );\n    PointCollection.prototype.constructor = PointCollection;\r\n    PointCollection.prototype.draw = function draw (gl, drawContext) {\r\n        if (!this._program) {\r\n            this._program = makePointsProgram(gl, this);\r\n        }\r\n        this._program.draw(drawContext);\r\n    };\r\n    PointCollection.prototype.dispose = function dispose () {\r\n        if (this._program) {\r\n            // TODO: Dispose only when last using element stops using this program\r\n            // this._program.dispose();\r\n            this._program = null;\r\n        }\r\n    };\r\n    PointCollection.prototype.add = function add (point, data) {\r\n        if (!point)\r\n            { throw new Error('Point is required'); }\r\n        if (this.count >= this.capacity) {\r\n            this._extendArray();\r\n        }\r\n        var offset = this.count * this.itemsPerPoint;\r\n        var ui = new PointAccessor(this, offset, data);\r\n        ui.update(point);\r\n        this.count += 1;\r\n        return ui;\r\n    };\r\n    PointCollection.prototype._extendArray = function _extendArray () {\r\n        // Every time we run out of space create new array twice bigger.\r\n        var buffer = new ArrayBuffer(this.buffer.byteLength * 2);\r\n        var extendedArray = new Float32Array(buffer);\r\n        if (this.positions) {\r\n            extendedArray.set(this.positions);\r\n        }\r\n        this.buffer = buffer;\r\n        this.positions = extendedArray;\r\n        if (this.allowColors) {\r\n            this.colors = new Uint32Array(buffer);\r\n        }\r\n        this.capacity *= 2;\r\n    };\n\n    return PointCollection;\n}(Element));\n\nvar lineProgramCache = createMultiKeyCache();\r\nfunction makeWireProgram(gl, wireCollection) {\r\n    var allowColors = !!wireCollection.allowColors;\r\n    var programKey = [allowColors, gl];\r\n    var lineProgram = lineProgramCache.get(programKey);\r\n    if (!lineProgram) {\r\n        var ref = getShadersCode$1(allowColors);\n        var frag = ref.frag;\n        var vert = ref.vert;\r\n        var lineVSShader = glUtils.compile(gl, gl.VERTEX_SHADER, vert);\r\n        var lineFSShader = glUtils.compile(gl, gl.FRAGMENT_SHADER, frag);\r\n        lineProgram = glUtils.link(gl, lineVSShader, lineFSShader);\r\n        lineProgramCache.set(programKey, lineProgram);\r\n    }\r\n    var locations = glUtils.getLocations(gl, lineProgram);\r\n    var lineBuffer = gl.createBuffer();\r\n    var lineSize = wireCollection.is3D ? 3 : 2;\r\n    var coloredLineStride = (lineSize + 1) * 4;\r\n    var colorOffset = lineSize * 4;\r\n    var api = {\r\n        draw: draw,\r\n        dispose: dispose\r\n    };\r\n    return api;\r\n    function dispose() {\r\n        gl.deleteBuffer(lineBuffer);\r\n        gl.deleteProgram(lineProgram);\r\n        lineProgramCache.remove(programKey);\r\n    }\r\n    function draw(drawContext) {\r\n        if (wireCollection.count === 0)\r\n            { return; }\r\n        var data = wireCollection.buffer;\r\n        gl.useProgram(lineProgram);\r\n        gl.uniformMatrix4fv(locations.uniforms.uModel, false, wireCollection.worldModel);\r\n        gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\r\n        gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\r\n        var color = wireCollection.color;\r\n        gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, lineBuffer);\r\n        if (wireCollection.isDirtyBuffer) {\r\n            gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n            wireCollection.isDirtyBuffer = false;\r\n        }\r\n        gl.enableVertexAttribArray(locations.attributes.aPosition);\r\n        if (allowColors) {\r\n            gl.vertexAttribPointer(locations.attributes.aPosition, lineSize, gl.FLOAT, false, coloredLineStride, 0);\r\n            gl.enableVertexAttribArray(locations.attributes.aColor);\r\n            gl.vertexAttribPointer(locations.attributes.aColor, 4, gl.UNSIGNED_BYTE, true, coloredLineStride, colorOffset);\r\n        }\r\n        else {\r\n            gl.vertexAttribPointer(locations.attributes.aPosition, lineSize, gl.FLOAT, false, 4 * lineSize, 0);\r\n        }\r\n        gl.drawArrays(gl.LINES, 0, wireCollection.count * 2);\r\n    }\r\n}\r\nfunction getShadersCode$1(allowColors) {\r\n    return {\r\n        vert: (\"attribute vec3 aPosition;\\n  varying vec4 vColor;\\n  \" + (allowColors ? 'attribute vec4 aColor;' : '') + \"\\n  uniform vec4 uColor;\\n  uniform mat4 projectionMatrix;\\n  uniform mat4 uModel;\\n  uniform mat4 uView;\\n\\nvoid main() {\\n  gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);\\n  vColor = \" + (allowColors ? 'aColor.abgr' : 'uColor') + \";\\n}\"),\r\n        frag: \"precision mediump float;\\n    varying vec4 vColor;\\n    void main() {\\n      gl_FragColor = vColor;\\n    }\"\r\n    };\r\n}\n\nvar lineProgramCache$1 = createMultiKeyCache();\r\nfunction makeThickWireProgram(gl, wireCollection) {\r\n    var allowWidth = Number.isFinite(wireCollection.width) &&\r\n        wireCollection.width > 0 && wireCollection.width !== 1;\r\n    var gle;\r\n    if (allowWidth) {\r\n        gle = gl.getExtension('ANGLE_instanced_arrays');\r\n        if (!gle) {\r\n            console.error('ANGLE_instanced_arrays is not supported, thick lines are not possible');\r\n            return makeWireProgram(gl, wireCollection);\r\n        }\r\n    }\r\n    else {\r\n        return makeWireProgram(gl, wireCollection);\r\n    }\r\n    var allowColors = !!wireCollection.allowColors;\r\n    var programKey = [allowColors, gl];\r\n    var lineProgram = lineProgramCache$1.get(programKey);\r\n    if (!lineProgram) {\r\n        var ref = getShadersCode$2(allowColors);\n        var frag = ref.frag;\n        var vert = ref.vert;\r\n        var lineVSShader = glUtils.compile(gl, gl.VERTEX_SHADER, vert);\r\n        var lineFSShader = glUtils.compile(gl, gl.FRAGMENT_SHADER, frag);\r\n        lineProgram = glUtils.link(gl, lineVSShader, lineFSShader);\r\n        lineProgramCache$1.set(programKey, lineProgram);\r\n    }\r\n    var locations = glUtils.getLocations(gl, lineProgram);\r\n    var lineBuffer = gl.createBuffer();\r\n    var lineSize = wireCollection.is3D ? 3 : 2;\r\n    var lineStride = allowColors ? 2 * (lineSize + 1) * 4 : 2 * lineSize * 4;\r\n    var positionBuffer = gl.createBuffer();\r\n    var quadPositions = new Float32Array([\r\n        -0.5, 0, -0.5, 1, 0.5, 1,\r\n        -0.5, 0, 0.5, 1, 0.5, 0 // Second 2D triangle of the quad\r\n    ]);\r\n    var api = {\r\n        isThickWire: true,\r\n        draw: draw,\r\n        dispose: dispose\r\n    };\r\n    return api;\r\n    function dispose() {\r\n        if (lineBuffer)\r\n            { gl.deleteBuffer(lineBuffer); }\r\n        if (positionBuffer)\r\n            { gl.deleteBuffer(positionBuffer); }\r\n        if (locations) {\r\n            gl.disableVertexAttribArray(locations.attributes.aFrom);\r\n            gl.disableVertexAttribArray(locations.attributes.aFromColor);\r\n            gl.disableVertexAttribArray(locations.attributes.aTo);\r\n            gl.disableVertexAttribArray(locations.attributes.aToColor);\r\n            gl.disableVertexAttribArray(locations.attributes.aPosition);\r\n        }\r\n        gl.deleteProgram(lineProgram);\r\n        lineProgramCache$1.remove(programKey);\r\n    }\r\n    function draw(drawContext) {\r\n        if (wireCollection.count === 0)\r\n            { return; }\r\n        var data = wireCollection.buffer;\r\n        gl.useProgram(lineProgram);\r\n        gl.uniformMatrix4fv(locations.uniforms.uModel, false, wireCollection.worldModel);\r\n        gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\r\n        gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\r\n        gl.uniform3fv(locations.uniforms.uOrigin, drawContext.view.position);\r\n        gl.uniform1f(locations.uniforms.uWidth, wireCollection.width);\r\n        gl.uniform2f(locations.uniforms.uResolution, drawContext.width, drawContext.height);\r\n        var color = wireCollection.color;\r\n        gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, quadPositions, gl.STATIC_DRAW);\r\n        gl.enableVertexAttribArray(locations.attributes.aPosition);\r\n        gl.vertexAttribPointer(locations.attributes.aPosition, 2, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, lineBuffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);\r\n        gl.enableVertexAttribArray(locations.attributes.aFrom);\r\n        gl.vertexAttribPointer(locations.attributes.aFrom, lineSize, gl.FLOAT, false, lineStride, 0);\r\n        if (allowColors) {\r\n            gl.enableVertexAttribArray(locations.attributes.aFromColor);\r\n            gl.vertexAttribPointer(locations.attributes.aFromColor, 4, gl.UNSIGNED_BYTE, true, lineStride, (lineSize) * 4);\r\n            gl.enableVertexAttribArray(locations.attributes.aTo);\r\n            gl.vertexAttribPointer(locations.attributes.aTo, lineSize, gl.FLOAT, false, lineStride, (lineSize + 1) * 4);\r\n            gl.enableVertexAttribArray(locations.attributes.aToColor);\r\n            gl.vertexAttribPointer(locations.attributes.aToColor, 4, gl.UNSIGNED_BYTE, true, lineStride, (2 * lineSize + 1) * 4);\r\n        }\r\n        else {\r\n            gl.enableVertexAttribArray(locations.attributes.aTo);\r\n            gl.vertexAttribPointer(locations.attributes.aTo, lineSize, gl.FLOAT, false, lineStride, lineSize * 4);\r\n        }\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aPosition, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aTo, 1);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aFrom, 1);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aFromColor, 1);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aToColor, 1);\r\n        // Now that everything is setup - render!\r\n        gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, wireCollection.count);\r\n        // Don't forget to clean up after we rendered:\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aFrom, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aTo, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aFromColor, 0);\r\n        gle.vertexAttribDivisorANGLE(locations.attributes.aToColor, 0);\r\n    }\r\n}\r\nfunction getShadersCode$2(allowColors) {\r\n    return {\r\n        vert: (\"attribute vec3 aPosition, aFrom, aTo;\\n    varying vec4 vColor;\\n    \" + (allowColors ? 'attribute vec4 aFromColor, aToColor;' : '') + \"\\n    uniform vec4 uColor;\\n    uniform mat4 projectionMatrix;\\n    uniform mat4 uModel;\\n    uniform mat4 uView;\\n    uniform float uWidth;\\n    uniform vec2 uResolution;\\n  \\n  void main() {\\n    // let's get the model point to clip space:\\n    vec4 clip0 = projectionMatrix * uView * uModel * vec4(aFrom, 1.0);\\n    vec4 clip1 = projectionMatrix * uView * uModel * vec4(aTo, 1.0);\\n\\n    // And from the clip space move to the screen pixels \\n    // (as we set width of the lines in pixels)\\n    vec2 screen0 = uResolution * (0.5 * clip0.xy/clip0.w + 0.5);\\n    vec2 screen1 = uResolution * (0.5 * clip1.xy/clip1.w + 0.5);\\n\\n    // this is direction along the x axis\\n    vec2 xBasis = normalize(screen1 - screen0);\\n    // But since we set the width, we get the direction along the Y:\\n    vec2 yBasis = vec2(-xBasis.y, xBasis.x);\\n\\n    // Offset the original points:\\n    vec2 pt0 = screen0 + uWidth * aPosition.x * yBasis;\\n    vec2 pt1 = screen1 + uWidth * aPosition.x * yBasis;\\n\\n    // and interpolate along the Y of the instanced geometry \\n    // (remember, Y changes from 0 to 1):\\n    vec2 pt = mix(pt0, pt1, aPosition.y);\\n    vec4 clip = mix(clip0, clip1, aPosition.y);\\n\\n    // Finally move back to the clip space:\\n    gl_Position = vec4(clip.w * (2.0 * pt/uResolution - 1.0), clip.z, clip.w);\\n    vColor = \" + (allowColors ? 'mix(aFromColor.abgr, aToColor.abgr, aPosition.y)' : 'uColor') + \";\\n  }\"),\r\n        frag: \"precision mediump float;\\n    varying vec4 vColor;\\n    void main() {\\n      gl_FragColor = vColor;\\n    }\"\r\n    };\r\n}\n\n/**\r\n * Wire accessor provides access to the buffer that stores wires.\r\n *\r\n * Wires are \"lines\" with 1.0 width.\r\n */\r\nvar WireAccessor = function WireAccessor(wireCollection, offset) {\r\n    this.offset = offset;\r\n    this._wire = wireCollection;\r\n    this.update = wireCollection.is3D ? this.update3D : this.update2D;\r\n};\r\nWireAccessor.prototype.update2D = function update2D (from, to) {\r\n    this._wire.isDirtyBuffer = true;\r\n    var positions = this._wire.positions;\r\n    var offset = this.offset;\r\n    positions[offset + 0] = from.x;\r\n    positions[offset + 1] = from.y;\r\n    offset += 2;\r\n    var hasColor = this._wire.allowColors;\r\n    if (hasColor) {\r\n        if (from.color !== undefined)\r\n            { this._wire.colors[offset] = from.color; }\r\n        offset += 1;\r\n    }\r\n    positions[offset + 0] = to.x;\r\n    positions[offset + 1] = to.y;\r\n    if (hasColor && to.color !== undefined) {\r\n        this._wire.colors[offset + 2] = to.color;\r\n    }\r\n};\r\nWireAccessor.prototype.update3D = function update3D (from, to) {\r\n    this._wire.isDirtyBuffer = true;\r\n    var positions = this._wire.positions;\r\n    var offset = this.offset;\r\n    positions[offset + 0] = from.x;\r\n    positions[offset + 1] = from.y;\r\n    positions[offset + 2] = from.z || 0;\r\n    offset += 3;\r\n    var hasColor = this._wire.allowColors;\r\n    if (hasColor) {\r\n        if (from.color !== undefined)\r\n            { this._wire.colors[offset] = from.color; }\r\n        else\r\n            { this._wire.colors[offset] = toHex(this._wire.color); }\r\n        offset += 1;\r\n    }\r\n    positions[offset + 0] = to.x;\r\n    positions[offset + 1] = to.y;\r\n    positions[offset + 2] = to.z || 0;\r\n    if (hasColor) {\r\n        if (to.color !== undefined)\r\n            { this._wire.colors[offset + 3] = to.color; }\r\n        else\r\n            { this._wire.colors[offset + 3] = toHex(this._wire.color); }\r\n    }\r\n};\nfunction toHex(color) {\r\n    var r = Math.round(color.r * 255);\r\n    var g = Math.round(color.g * 255);\r\n    var b = Math.round(color.b * 255);\r\n    var a = Math.round(color.a * 255);\r\n    return (r << 24) | (g << 16) | (b << 8) | a;\r\n}\n\nfunction mixUint32Color(c0, c1, t) {\n    if ( t === void 0 ) t = 0.5;\n\r\n    var a = toRgba(c0);\r\n    var b = toRgba(c1);\r\n    return [\r\n        a[0] * t + (1 - t) * b[0],\r\n        a[1] * t + (1 - t) * b[1],\r\n        a[2] * t + (1 - t) * b[2],\r\n        a[3] * t + (1 - t) * b[3] ];\r\n}\r\nfunction toRgba(x) {\r\n    return [\r\n        (x >> 24) & 0xff / 255,\r\n        (x >> 16) & 0xff / 255,\r\n        (x >> 8) & 0xff / 255,\r\n        (x) & 0xff / 255\r\n    ];\r\n}\r\nfunction toHexColor(c) {\r\n    var r = hexString(c[0]);\r\n    var g = hexString(c[1]);\r\n    var b = hexString(c[2]);\r\n    return (\"#\" + r + g + b);\r\n}\r\nfunction hexString(x) {\r\n    var v = Math.floor(x * 255).toString(16);\r\n    return (v.length === 1) ? '0' + v : v;\r\n}\n\n/**\r\n * Collection of lines. TODO: I think I should rename this to LineCollection\r\n */\r\nvar WireCollection = /*@__PURE__*/(function (Element) {\n    function WireCollection(capacity, options) {\r\n        Element.call(this);\r\n        var bytesPerElement = 4; // float32 or uint32 - both require 4 bytes\r\n        this.allowColors = !options || options.allowColors === undefined || options.allowColors;\r\n        this.is3D = !options || options.is3D === undefined || options.is3D;\r\n        this.itemsPerLine = 4; // (startX, startY) (endX, endY);\r\n        if (this.is3D)\r\n            { this.itemsPerLine += 2; } // Add two more for Z;\r\n        if (this.allowColors)\r\n            { this.itemsPerLine += 2; } // Add two more for color\r\n        this.capacity = capacity;\r\n        this.count = 0;\r\n        this.color = new Color(1, 1, 1, 1);\r\n        this.type = 'WireCollection';\r\n        this._program = null;\r\n        this.buffer = new ArrayBuffer(capacity * this.itemsPerLine * bytesPerElement);\r\n        this.positions = new Float32Array(this.buffer);\r\n        this.width = (options && options.width) || 1;\r\n        if (this.allowColors) {\r\n            // We are sharing the buffer!\r\n            this.colors = new Uint32Array(this.buffer);\r\n        }\r\n        else {\r\n            this.colors = null;\r\n        }\r\n        this.isDirtyBuffer = true;\r\n    }\n\n    if ( Element ) WireCollection.__proto__ = Element;\n    WireCollection.prototype = Object.create( Element && Element.prototype );\n    WireCollection.prototype.constructor = WireCollection;\r\n    WireCollection.prototype.draw = function draw (gl, drawContext) {\r\n        if (!this._program) {\r\n            this._program = isWidthForThickWire(this.width) ? makeThickWireProgram(gl, this) : makeWireProgram(gl, this);\r\n        }\r\n        this._program.draw(drawContext);\r\n    };\r\n    WireCollection.prototype.setLineWidth = function setLineWidth (newLineWidth) {\r\n        if (newLineWidth === this.width)\r\n            { return; }\r\n        var isThickWire = isWidthForThickWire(newLineWidth);\r\n        this.width = newLineWidth;\r\n        if (!this._program || !this.scene)\r\n            { return; }\r\n        if (isThickWire && this._program.isThickWire) {\r\n            // next frame should handle this\r\n            this.scene.renderFrame();\r\n            return;\r\n        }\r\n        // we need to switch the program\r\n        if (this.parent) {\r\n            var parent = this.parent;\r\n            parent.removeChild(this);\r\n            this.dispose();\r\n            parent.appendChild(this);\r\n        }\r\n    };\r\n    WireCollection.prototype.add = function add (line) {\r\n        if (!line)\r\n            { throw new Error('Line is required'); }\r\n        if (this.count >= this.capacity) {\r\n            this._extendArray();\r\n        }\r\n        var offset = this.count * this.itemsPerLine;\r\n        var ui = new WireAccessor(this, offset);\r\n        ui.update(line.from, line.to);\r\n        this.count += 1;\r\n        return ui;\r\n    };\r\n    WireCollection.prototype.getLineColor = function getLineColor (from, to) {\r\n        if (this.allowColors && from && from.color && to && to.color) {\r\n            return mixUint32Color(from.color, to.color);\r\n        }\r\n        return [this.color.r, this.color.g, this.color.b, this.color.a];\r\n    };\r\n    WireCollection.prototype.forEachLine = function forEachLine (callback) {\r\n        var ref = this;\n        var positions = ref.positions;\n        var count = ref.count;\n        var itemsPerLine = ref.itemsPerLine;\r\n        var maxOffset = count * itemsPerLine;\r\n        if (this.is3D) {\r\n            for (var i = 0; i < maxOffset; i += itemsPerLine) {\r\n                var from = {\r\n                    x: positions[i],\r\n                    y: positions[i + 1],\r\n                    z: positions[i + 2]\r\n                };\r\n                var next = i + 3;\r\n                if (this.colors) {\r\n                    from.color = this.colors[i + 3];\r\n                    next += 1;\r\n                }\r\n                var to = {\r\n                    x: positions[next],\r\n                    y: positions[next + 1],\r\n                    z: positions[next + 2]\r\n                };\r\n                if (this.colors) {\r\n                    to.color = this.colors[next + 3];\r\n                }\r\n                callback(from, to);\r\n            }\r\n        }\r\n        else {\r\n            for (var i$1 = 0; i$1 < maxOffset; i$1 += itemsPerLine) {\r\n                var from$1 = {\r\n                    x: positions[i$1],\r\n                    y: positions[i$1 + 1],\r\n                    z: 0,\r\n                };\r\n                var next$1 = i$1 + 2;\r\n                if (this.colors) {\r\n                    from$1.color = this.colors[i$1 + 2];\r\n                    next$1 += 1;\r\n                }\r\n                var to$1 = {\r\n                    x: positions[next$1],\r\n                    y: positions[next$1 + 1],\r\n                    z: 0,\r\n                };\r\n                if (this.colors) {\r\n                    to$1.color = this.colors[next$1 + 2];\r\n                }\r\n                callback(from$1, to$1);\r\n            }\r\n        }\r\n    };\r\n    WireCollection.prototype.dispose = function dispose () {\r\n        if (this._program) {\r\n            // TODO: Dispose only when last using element stops using this program.\r\n            // this._program.dispose();\r\n            this._program = null;\r\n        }\r\n    };\r\n    WireCollection.prototype._extendArray = function _extendArray () {\r\n        // Every time we run out of space create new array twice bigger.\r\n        var buffer = new ArrayBuffer(this.buffer.byteLength * 2);\r\n        var extendedArray = new Float32Array(buffer);\r\n        if (this.positions) {\r\n            extendedArray.set(this.positions);\r\n        }\r\n        this.buffer = buffer;\r\n        this.positions = extendedArray;\r\n        if (this.allowColors) {\r\n            this.colors = new Uint32Array(buffer);\r\n        }\r\n        this.capacity *= 2;\r\n    };\n\n    return WireCollection;\n}(Element));\nfunction isWidthForThickWire(width) {\r\n    return width !== undefined && width !== 1 && width > 0;\r\n}\n\nvar lineProgramCache$2 = createMultiKeyCache();\r\nfunction makeLineStripProgram(gl, lineStripCollection) {\r\n    var allowColors = lineStripCollection.allowColors;\n    var is3D = lineStripCollection.is3D;\r\n    allowColors = !!allowColors; // coerce to boolean.\r\n    var programKey = [allowColors, gl];\r\n    var lineProgram = lineProgramCache$2.get(programKey);\r\n    var itemsPerVertex = 2 + (allowColors ? 1 : 0) + (is3D ? 1 : 0);\r\n    var data = lineStripCollection.buffer;\r\n    if (!lineProgram) {\r\n        var ref = getShadersCode$3(allowColors);\n        var lineFSSrc = ref.lineFSSrc;\n        var lineVSSrc = ref.lineVSSrc;\r\n        var lineVSShader = glUtils.compile(gl, gl.VERTEX_SHADER, lineVSSrc);\r\n        var lineFSShader = glUtils.compile(gl, gl.FRAGMENT_SHADER, lineFSSrc);\r\n        lineProgram = glUtils.link(gl, lineVSShader, lineFSShader);\r\n        lineProgramCache$2.set(programKey, lineProgram);\r\n    }\r\n    var locations = glUtils.getLocations(gl, lineProgram);\r\n    var lineSize = is3D ? 3 : 2;\r\n    var coloredLineStride = (lineSize + 1) * 4;\r\n    var colorOffset = lineSize * 4;\r\n    var lineBuffer = gl.createBuffer();\r\n    var api = {\r\n        draw: draw,\r\n        dispose: dispose\r\n    };\r\n    return api;\r\n    function dispose() {\r\n        gl.deleteBuffer(lineBuffer);\r\n        gl.deleteProgram(lineProgram);\r\n        lineProgramCache$2.remove(programKey);\r\n    }\r\n    function draw(lineStripCollection, drawContext) {\r\n        // TODO: Why lineStripCollection passed second time?\r\n        if (data.length === 0)\r\n            { return; }\r\n        gl.useProgram(lineProgram);\r\n        gl.uniformMatrix4fv(locations.uniforms.uModel, false, lineStripCollection.worldModel);\r\n        gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\r\n        gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\r\n        gl.uniform3fv(locations.uniforms.uOrigin, drawContext.view.position);\r\n        var color = lineStripCollection.color;\n        var nextElementIndex = lineStripCollection.nextElementIndex;\n        var madeFullCircle = lineStripCollection.madeFullCircle;\r\n        gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, lineBuffer);\r\n        gl.enableVertexAttribArray(locations.attributes.aPosition);\r\n        gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);\r\n        if (allowColors) {\r\n            gl.vertexAttribPointer(locations.attributes.aPosition, lineSize, gl.FLOAT, false, coloredLineStride, 0);\r\n            gl.enableVertexAttribArray(locations.attributes.aColor);\r\n            gl.vertexAttribPointer(locations.attributes.aColor, 4, gl.UNSIGNED_BYTE, true, coloredLineStride, colorOffset);\r\n        }\r\n        else {\r\n            gl.vertexAttribPointer(locations.attributes.aPosition, lineSize, gl.FLOAT, false, 0, 0);\r\n        }\r\n        if (madeFullCircle) {\r\n            var elementsCount = data.byteLength / 4 / itemsPerVertex - nextElementIndex;\r\n            gl.drawArrays(gl.LINE_STRIP, nextElementIndex, elementsCount);\r\n            if (nextElementIndex > 1)\r\n                { gl.drawArrays(gl.LINE_STRIP, 0, nextElementIndex - 1); }\r\n        }\r\n        else {\r\n            gl.drawArrays(gl.LINE_STRIP, 1, nextElementIndex - 1);\r\n        }\r\n    }\r\n}\r\nfunction getShadersCode$3(allowColors) {\r\n    var lineFSSrc = \"precision mediump float;\\nvarying vec4 vColor;\\nvoid main() {\\n  gl_FragColor = vColor;\\n}\\n\";\r\n    var lineVSSrc = \"attribute vec3 aPosition;\\n  varying vec4 vColor;\\n  \" + (allowColors ? 'attribute vec4 aColor;' : '') + \"\\n  uniform vec4 uColor;\\n  uniform mat4 projectionMatrix;\\n  uniform mat4 uModel;\\n  uniform mat4 uView;\\n  void main() {\\n    gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);\\n    vColor = \" + (allowColors ? 'aColor.abgr' : 'uColor') + \";\\n  }\";\r\n    return { lineVSSrc: lineVSSrc, lineFSSrc: lineFSSrc };\r\n}\n\n/**\r\n * Line strip is implemented as a cyclic buffer. Each subsequent element of the\r\n * buffer is connected with a line to the previous element of the buffer.\r\n */\r\nvar LineStripCollection = /*@__PURE__*/(function (Element) {\n    function LineStripCollection(capacity, options) {\r\n        Element.call(this);\r\n        var bytesPerElement = 4;\r\n        this.drawCount = 0;\r\n        this.madeFullCircle = false;\r\n        this.allowColors = !options || options.allowColors === undefined || options.allowColors;\r\n        this.is3D = !options || options.is3D === undefined || options.is3D;\r\n        this.itemsPerLine = 2;\r\n        if (this.allowColors)\r\n            { this.itemsPerLine += 1; }\r\n        if (this.is3D)\r\n            { this.itemsPerLine += 1; }\r\n        this.capacity = capacity;\r\n        this.nextElementIndex = 1;\r\n        this._program = null;\r\n        this.color = new Color(1, 1, 1, 1);\r\n        // Add extra one item to the buffer capacity to join two line strips and form a cycle.\r\n        this.buffer = new ArrayBuffer((capacity + 1) * this.itemsPerLine * bytesPerElement);\r\n        this.positions = new Float32Array(this.buffer);\r\n        if (this.allowColors) {\r\n            // We are sharing the buffer!\r\n            this.colors = new Uint32Array(this.buffer);\r\n        }\r\n        else {\r\n            this.colors = null;\r\n        }\r\n    }\n\n    if ( Element ) LineStripCollection.__proto__ = Element;\n    LineStripCollection.prototype = Object.create( Element && Element.prototype );\n    LineStripCollection.prototype.constructor = LineStripCollection;\r\n    LineStripCollection.prototype.draw = function draw (gl, drawContext) {\r\n        if (!this._program) {\r\n            this._program = makeLineStripProgram(gl, this);\r\n        }\r\n        this._program.draw(this, drawContext);\r\n    };\r\n    LineStripCollection.prototype.add = function add (point) {\r\n        var offset = this.nextElementIndex * this.itemsPerLine;\r\n        var positions = this.positions;\r\n        positions[offset] = point.x;\r\n        offset += 1;\r\n        positions[offset] = point.y;\r\n        offset += 1;\r\n        if (this.is3D) {\r\n            positions[offset] = point.z || 0;\r\n            offset += 1;\r\n        }\r\n        if (this.colors) {\r\n            this.colors[offset] = point.color === undefined ? 0xffffffff : point.color;\r\n        }\r\n        this.nextElementIndex += 1;\r\n        this.drawCount += 1;\r\n        if (this.nextElementIndex > this.capacity) {\r\n            this.nextElementIndex = 1;\r\n            var firstOffset = 0;\r\n            positions[firstOffset] = point.x;\r\n            firstOffset += 1;\r\n            positions[firstOffset] = point.y;\r\n            firstOffset += 1;\r\n            if (this.is3D) {\r\n                positions[firstOffset] = point.z || 0;\r\n                firstOffset += 1;\r\n            }\r\n            if (this.colors) {\r\n                this.colors[firstOffset] = this.colors[offset];\r\n            }\r\n            this.madeFullCircle = true;\r\n        }\r\n    };\r\n    LineStripCollection.prototype.dispose = function dispose () {\r\n        if (this._program) {\r\n            this._program.dispose();\r\n            this._program = null;\r\n        }\r\n    };\n\n    return LineStripCollection;\n}(Element));\n\nfunction isWebGLEnabled(canvas) {\r\n    try {\r\n        if (!window.WebGLRenderingContext)\r\n            { return false; }\r\n        if (!canvas)\r\n            { canvas = document.createElement('canvas'); }\r\n        return !!(canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\n\n/**\n * @fileOverview Contains definition of the core graph object.\n */\n\n// TODO: need to change storage layer:\n// 1. Be able to get all nodes O(1)\n// 2. Be able to get number of links O(1)\n\n/**\n * @example\n *  var graph = require('ngraph.graph')();\n *  graph.addNode(1);     // graph has one node.\n *  graph.addLink(2, 3);  // now graph contains three nodes and one link.\n *\n */\nvar ngraph_graph = createGraph;\n\n\n\n/**\n * Creates a new graph\n */\nfunction createGraph(options) {\n  // Graph structure is maintained as dictionary of nodes\n  // and array of links. Each node has 'links' property which\n  // hold all links related to that node. And general links\n  // array is used to speed up all links enumeration. This is inefficient\n  // in terms of memory, but simplifies coding.\n  options = options || {};\n  if ('uniqueLinkId' in options) {\n    console.warn(\n      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\\n' +\n      'Use `multigraph` option instead\\n',\n      '\\n',\n      'Note: there is also change in default behavior: From now on each graph\\n'+\n      'is considered to be not a multigraph by default (each edge is unique).'\n    );\n\n    options.multigraph = options.uniqueLinkId;\n  }\n\n  // Dear reader, the non-multigraphs do not guarantee that there is only\n  // one link for a given pair of node. When this option is set to false\n  // we can save some memory and CPU (18% faster for non-multigraph);\n  if (options.multigraph === undefined) { options.multigraph = false; }\n\n  if (typeof Map !== 'function') {\n    // TODO: Should we polyfill it ourselves? We don't use much operations there..\n    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');\n  } \n\n  var nodes = new Map();\n  var links = [],\n    // Hash of multi-edges. Used to track ids of edges between same nodes\n    multiEdges = {},\n    suspendEvents = 0,\n\n    createLink = options.multigraph ? createUniqueLink : createSingleLink,\n\n    // Our graph API provides means to listen to graph changes. Users can subscribe\n    // to be notified about changes in the graph by using `on` method. However\n    // in some cases they don't use it. To avoid unnecessary memory consumption\n    // we will not record graph changes until we have at least one subscriber.\n    // Code below supports this optimization.\n    //\n    // Accumulates all changes made during graph updates.\n    // Each change element contains:\n    //  changeType - one of the strings: 'add', 'remove' or 'update';\n    //  node - if change is related to node this property is set to changed graph's node;\n    //  link - if change is related to link this property is set to changed graph's link;\n    changes = [],\n    recordLinkChange = noop,\n    recordNodeChange = noop,\n    enterModification = noop,\n    exitModification = noop;\n\n  // this is our public API:\n  var graphPart = {\n    /**\n     * Adds node to the graph. If node with given id already exists in the graph\n     * its data is extended with whatever comes in 'data' argument.\n     *\n     * @param nodeId the node's identifier. A string or number is preferred.\n     * @param [data] additional data for the node being added. If node already\n     *   exists its data object is augmented with the new one.\n     *\n     * @return {node} The newly added node or node with given id if it already exists.\n     */\n    addNode: addNode,\n\n    /**\n     * Adds a link to the graph. The function always create a new\n     * link between two nodes. If one of the nodes does not exists\n     * a new node is created.\n     *\n     * @param fromId link start node id;\n     * @param toId link end node id;\n     * @param [data] additional data to be set on the new link;\n     *\n     * @return {link} The newly created link\n     */\n    addLink: addLink,\n\n    /**\n     * Removes link from the graph. If link does not exist does nothing.\n     *\n     * @param link - object returned by addLink() or getLinks() methods.\n     *\n     * @returns true if link was removed; false otherwise.\n     */\n    removeLink: removeLink,\n\n    /**\n     * Removes node with given id from the graph. If node does not exist in the graph\n     * does nothing.\n     *\n     * @param nodeId node's identifier passed to addNode() function.\n     *\n     * @returns true if node was removed; false otherwise.\n     */\n    removeNode: removeNode,\n\n    /**\n     * Gets node with given identifier. If node does not exist undefined value is returned.\n     *\n     * @param nodeId requested node identifier;\n     *\n     * @return {node} in with requested identifier or undefined if no such node exists.\n     */\n    getNode: getNode,\n\n    /**\n     * Gets number of nodes in this graph.\n     *\n     * @return number of nodes in the graph.\n     */\n    getNodeCount: getNodeCount,\n\n    /**\n     * Gets total number of links in the graph.\n     */\n    getLinkCount: getLinkCount,\n\n    /**\n     * Synonym for `getLinkCount()`\n     */\n    getLinksCount: getLinkCount,\n    \n    /**\n     * Synonym for `getNodeCount()`\n     */\n    getNodesCount: getNodeCount,\n\n    /**\n     * Gets all links (inbound and outbound) from the node with given id.\n     * If node with given id is not found null is returned.\n     *\n     * @param nodeId requested node identifier.\n     *\n     * @return Array of links from and to requested node if such node exists;\n     *   otherwise null is returned.\n     */\n    getLinks: getLinks,\n\n    /**\n     * Invokes callback on each node of the graph.\n     *\n     * @param {Function(node)} callback Function to be invoked. The function\n     *   is passed one argument: visited node.\n     */\n    forEachNode: forEachNode,\n\n    /**\n     * Invokes callback on every linked (adjacent) node to the given one.\n     *\n     * @param nodeId Identifier of the requested node.\n     * @param {Function(node, link)} callback Function to be called on all linked nodes.\n     *   The function is passed two parameters: adjacent node and link object itself.\n     * @param oriented if true graph treated as oriented.\n     */\n    forEachLinkedNode: forEachLinkedNode,\n\n    /**\n     * Enumerates all links in the graph\n     *\n     * @param {Function(link)} callback Function to be called on all links in the graph.\n     *   The function is passed one parameter: graph's link object.\n     *\n     * Link object contains at least the following fields:\n     *  fromId - node id where link starts;\n     *  toId - node id where link ends,\n     *  data - additional data passed to graph.addLink() method.\n     */\n    forEachLink: forEachLink,\n\n    /**\n     * Suspend all notifications about graph changes until\n     * endUpdate is called.\n     */\n    beginUpdate: enterModification,\n\n    /**\n     * Resumes all notifications about graph changes and fires\n     * graph 'changed' event in case there are any pending changes.\n     */\n    endUpdate: exitModification,\n\n    /**\n     * Removes all nodes and links from the graph.\n     */\n    clear: clear,\n\n    /**\n     * Detects whether there is a link between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     * NOTE: this function is synonim for getLink()\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    hasLink: getLink,\n\n    /**\n     * Detects whether there is a node with given id\n     * \n     * Operation complexity is O(1)\n     * NOTE: this function is synonim for getNode()\n     *\n     * @returns node if there is one; Falsy value otherwise.\n     */\n    hasNode: getNode,\n\n    /**\n     * Gets an edge between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     *\n     * @param {string} fromId link start identifier\n     * @param {string} toId link end identifier\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    getLink: getLink\n  };\n\n  // this will add `on()` and `fire()` methods.\n  ngraph_events(graphPart);\n\n  monitorSubscribers();\n\n  return graphPart;\n\n  function monitorSubscribers() {\n    var realOn = graphPart.on;\n\n    // replace real `on` with our temporary on, which will trigger change\n    // modification monitoring:\n    graphPart.on = on;\n\n    function on() {\n      // now it's time to start tracking stuff:\n      graphPart.beginUpdate = enterModification = enterModificationReal;\n      graphPart.endUpdate = exitModification = exitModificationReal;\n      recordLinkChange = recordLinkChangeReal;\n      recordNodeChange = recordNodeChangeReal;\n\n      // this will replace current `on` method with real pub/sub from `eventify`.\n      graphPart.on = realOn;\n      // delegate to real `on` handler:\n      return realOn.apply(graphPart, arguments);\n    }\n  }\n\n  function recordLinkChangeReal(link, changeType) {\n    changes.push({\n      link: link,\n      changeType: changeType\n    });\n  }\n\n  function recordNodeChangeReal(node, changeType) {\n    changes.push({\n      node: node,\n      changeType: changeType\n    });\n  }\n\n  function addNode(nodeId, data) {\n    if (nodeId === undefined) {\n      throw new Error('Invalid node identifier');\n    }\n\n    enterModification();\n\n    var node = getNode(nodeId);\n    if (!node) {\n      node = new Node(nodeId, data);\n      recordNodeChange(node, 'add');\n    } else {\n      node.data = data;\n      recordNodeChange(node, 'update');\n    }\n\n    nodes.set(nodeId, node);\n\n    exitModification();\n    return node;\n  }\n\n  function getNode(nodeId) {\n    return nodes.get(nodeId);\n  }\n\n  function removeNode(nodeId) {\n    var node = getNode(nodeId);\n    if (!node) {\n      return false;\n    }\n\n    enterModification();\n\n    var prevLinks = node.links;\n    if (prevLinks) {\n      node.links = null;\n      for(var i = 0; i < prevLinks.length; ++i) {\n        removeLink(prevLinks[i]);\n      }\n    }\n\n    nodes.delete(nodeId);\n\n    recordNodeChange(node, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n\n  function addLink(fromId, toId, data) {\n    enterModification();\n\n    var fromNode = getNode(fromId) || addNode(fromId);\n    var toNode = getNode(toId) || addNode(toId);\n\n    var link = createLink(fromId, toId, data);\n\n    links.push(link);\n\n    // TODO: this is not cool. On large graphs potentially would consume more memory.\n    addLinkToNode(fromNode, link);\n    if (fromId !== toId) {\n      // make sure we are not duplicating links for self-loops\n      addLinkToNode(toNode, link);\n    }\n\n    recordLinkChange(link, 'add');\n\n    exitModification();\n\n    return link;\n  }\n\n  function createSingleLink(fromId, toId, data) {\n    var linkId = makeLinkId(fromId, toId);\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function createUniqueLink(fromId, toId, data) {\n    // TODO: Get rid of this method.\n    var linkId = makeLinkId(fromId, toId);\n    var isMultiEdge = multiEdges.hasOwnProperty(linkId);\n    if (isMultiEdge || getLink(fromId, toId)) {\n      if (!isMultiEdge) {\n        multiEdges[linkId] = 0;\n      }\n      var suffix = '@' + (++multiEdges[linkId]);\n      linkId = makeLinkId(fromId + suffix, toId + suffix);\n    }\n\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function getNodeCount() {\n    return nodes.size;\n  }\n\n  function getLinkCount() {\n    return links.length;\n  }\n\n  function getLinks(nodeId) {\n    var node = getNode(nodeId);\n    return node ? node.links : null;\n  }\n\n  function removeLink(link) {\n    if (!link) {\n      return false;\n    }\n    var idx = indexOfElementInArray(link, links);\n    if (idx < 0) {\n      return false;\n    }\n\n    enterModification();\n\n    links.splice(idx, 1);\n\n    var fromNode = getNode(link.fromId);\n    var toNode = getNode(link.toId);\n\n    if (fromNode) {\n      idx = indexOfElementInArray(link, fromNode.links);\n      if (idx >= 0) {\n        fromNode.links.splice(idx, 1);\n      }\n    }\n\n    if (toNode) {\n      idx = indexOfElementInArray(link, toNode.links);\n      if (idx >= 0) {\n        toNode.links.splice(idx, 1);\n      }\n    }\n\n    recordLinkChange(link, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n  function getLink(fromNodeId, toNodeId) {\n    // TODO: Use sorted links to speed this up\n    var node = getNode(fromNodeId),\n      i;\n    if (!node || !node.links) {\n      return null;\n    }\n\n    for (i = 0; i < node.links.length; ++i) {\n      var link = node.links[i];\n      if (link.fromId === fromNodeId && link.toId === toNodeId) {\n        return link;\n      }\n    }\n\n    return null; // no link.\n  }\n\n  function clear() {\n    enterModification();\n    forEachNode(function(node) {\n      removeNode(node.id);\n    });\n    exitModification();\n  }\n\n  function forEachLink(callback) {\n    var i, length;\n    if (typeof callback === 'function') {\n      for (i = 0, length = links.length; i < length; ++i) {\n        callback(links[i]);\n      }\n    }\n  }\n\n  function forEachLinkedNode(nodeId, callback, oriented) {\n    var node = getNode(nodeId);\n\n    if (node && node.links && typeof callback === 'function') {\n      if (oriented) {\n        return forEachOrientedLink(node.links, nodeId, callback);\n      } else {\n        return forEachNonOrientedLink(node.links, nodeId, callback);\n      }\n    }\n  }\n\n  function forEachNonOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;\n\n      quitFast = callback(nodes.get(linkedNodeId), link);\n      if (quitFast) {\n        return true; // Client does not need more iterations. Break now.\n      }\n    }\n  }\n\n  function forEachOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      if (link.fromId === nodeId) {\n        quitFast = callback(nodes.get(link.toId), link);\n        if (quitFast) {\n          return true; // Client does not need more iterations. Break now.\n        }\n      }\n    }\n  }\n\n  // we will not fire anything until users of this library explicitly call `on()`\n  // method.\n  function noop() {}\n\n  // Enter, Exit modification allows bulk graph updates without firing events.\n  function enterModificationReal() {\n    suspendEvents += 1;\n  }\n\n  function exitModificationReal() {\n    suspendEvents -= 1;\n    if (suspendEvents === 0 && changes.length > 0) {\n      graphPart.fire('changed', changes);\n      changes.length = 0;\n    }\n  }\n\n  function forEachNode(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);\n    }\n\n    var valuesIterator = nodes.values();\n    var nextValue = valuesIterator.next();\n    while (!nextValue.done) {\n      if (callback(nextValue.value)) {\n        return true; // client doesn't want to proceed. Return.\n      }\n      nextValue = valuesIterator.next();\n    }\n  }\n}\n\n// need this for old browsers. Should this be a separate module?\nfunction indexOfElementInArray(element, array) {\n  if (!array) { return -1; }\n\n  if (array.indexOf) {\n    return array.indexOf(element);\n  }\n\n  var len = array.length,\n    i;\n\n  for (i = 0; i < len; i += 1) {\n    if (array[i] === element) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Internal structure to represent node;\n */\nfunction Node(id, data) {\n  this.id = id;\n  this.links = null;\n  this.data = data;\n}\n\nfunction addLinkToNode(node, link) {\n  if (node.links) {\n    node.links.push(link);\n  } else {\n    node.links = [link];\n  }\n}\n\n/**\n * Internal structure to represent links;\n */\nfunction Link(fromId, toId, data, id) {\n  this.fromId = fromId;\n  this.toId = toId;\n  this.data = data;\n  this.id = id;\n}\n\nfunction makeLinkId(fromId, toId) {\n  return fromId.toString() + ' ' + toId.toString();\n}\n\nfunction svg(scene, settings) {\n    if ( settings === void 0 ) settings = {};\n\r\n    var sceneRoot = scene.getRoot();\r\n    sceneRoot.updateWorldTransform();\r\n    var out = [];\r\n    var context = Object.assign({\r\n        background: toHexColor(scene.getClearColor()),\r\n        write: write,\r\n        scene: scene\r\n    }, scene.getDrawContext());\r\n    printHeader(context, settings);\r\n    draw(sceneRoot.children);\r\n    closeDocument(context, settings);\r\n    return out.join('\\n');\r\n    function write(str) {\r\n        out.push(str);\r\n    }\r\n    function draw(children) {\r\n        var layerSettings = {\r\n            beforeWrite: settings.beforeWrite || yes,\r\n            round: settings.round === undefined ? undefined : settings.round\r\n        };\r\n        for (var i = 0; i < children.length; ++i) {\r\n            var child = children[i];\r\n            var lineCollection = getLineRenderTrait(child);\r\n            if (lineCollection)\r\n                { renderLinesCollection(lineCollection, context, layerSettings); }\r\n            draw(child.children);\r\n        }\r\n    }\r\n}\r\nfunction getLineRenderTrait(child) {\r\n    if (!child || child['svgInvisible'])\r\n        { return; }\r\n    if (child.forEachLine)\r\n        { return child; }\r\n}\r\nfunction yes() { return true; }\r\nfunction printHeader(context, settings) {\r\n    var viewBox = \"0 0 \" + (context.width) + \" \" + (context.height);\r\n    context.write('<?xml version=\"1.0\" encoding=\"utf-8\"?>');\r\n    if (settings.open) {\r\n        context.write(settings.open());\r\n    }\r\n    context.write((\"<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n    viewBox=\\\"\" + viewBox + \"\\\">\\n<style>\\n  path {\\n   vector-effect: non-scaling-stroke;\\n  }\\n</style>\\n\"));\r\n    if (context.background) {\r\n        context.write((\"<rect id=\\\"background\\\" fill=\\\"\" + (context.background) + \"\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"\" + (context.width) + \"\\\" height=\\\"\" + (context.height) + \"\\\"></rect>\"));\r\n    }\r\n}\r\nfunction closeDocument(context, settings) {\r\n    if (settings.close) {\r\n        context.write(settings.close());\r\n    }\r\n    context.write('</svg>');\r\n}\r\nfunction renderLinesCollection(element, context, settings) {\r\n    if (!element.scene)\r\n        { return; }\r\n    var beforeWrite = settings.beforeWrite;\n    var round = settings.round;\r\n    var elementGraph = ngraph_graph();\r\n    var project = getProjector(element, context, round);\r\n    element.forEachLine(function (from, to) {\r\n        var f = project(from.x, from.y, from.z);\r\n        var t = project(to.x, to.y, to.z);\r\n        if (f.isBehind || t.isBehind)\r\n            { return; } // Not quite accurate.\r\n        if (clipToViewPort(f, t, context.width, context.height)) {\r\n            var stroke = toHexColor(element.getLineColor(from, to));\r\n            var fromId = (f.x) + \"|\" + (f.y);\r\n            var toId = (t.x) + \"|\" + (t.y);\r\n            if (!elementGraph.getNode(fromId))\r\n                { elementGraph.addNode(fromId, f); }\r\n            if (!elementGraph.getNode(toId))\r\n                { elementGraph.addNode(toId, t); }\r\n            if (!elementGraph.hasLink(fromId, toId))\r\n                { elementGraph.addLink(fromId, toId, { stroke: stroke }); }\r\n        }\r\n    });\r\n    if (elementGraph.getLinksCount() === 0)\r\n        { return; } // all outside\r\n    var strokeColor = toHexColor(element.getLineColor());\r\n    var elementWidth = element.width === undefined ? 1 : element.width;\r\n    var strokeWidth = elementWidth / element.scene.getPixelRatio();\r\n    var style = \"fill=\\\"none\\\" stroke-width=\\\"\" + strokeWidth + \"\\\" stroke=\\\"\" + strokeColor + \"\\\"\";\r\n    var openTag = element.id ? (\"<g id=\\\"\" + (element.id) + \"\\\" \" + style + \">\") : (\"<g \" + style + \">\");\r\n    context.write(openTag);\r\n    var globalOrder = getGlobalOrder(elementGraph);\r\n    var lastNode = null;\r\n    var lastPath = null;\r\n    globalOrder.forEach(function (link) {\r\n        var from = link.from;\n        var to = link.to;\r\n        if (from !== lastNode) {\r\n            if (to === lastNode) {\r\n                // Swap them so that we can keep the path going.\r\n                var temp = from;\r\n                from = to;\r\n                to = temp;\r\n            }\r\n            else {\r\n                commitLastPath();\r\n                lastPath = [];\r\n            }\r\n        }\r\n        if (lastPath)\r\n            { lastPath.push(from, to); }\r\n        lastNode = to;\r\n    });\r\n    commitLastPath();\r\n    context.write('</g>');\r\n    function commitLastPath() {\r\n        if (!lastPath)\r\n            { return; }\r\n        var points = lastPath.map(function (x) {\r\n            var node = elementGraph.getNode(x);\r\n            if (node)\r\n                { return node.data; }\r\n            throw new Error('Node is found in the path construction, but missing in the graph');\r\n        });\r\n        if (beforeWrite && !beforeWrite(points)) {\r\n            return;\r\n        }\r\n        var d = \"M\" + (points[0].x) + \" \" + (points[0].y) + \" L\" + points.slice(1).map(function (p) { return ((p.x) + \" \" + (p.y)); }).join(',');\r\n        context.write((\"<path d=\\\"\" + d + \"\\\"/>\"));\r\n    }\r\n}\r\nfunction getGlobalOrder(graph) {\r\n    var visited = new Set();\r\n    var globalOrder = [];\r\n    var stack = [];\r\n    graph.forEachNode(function (node) {\r\n        if (visited.has(node.id))\r\n            { return; }\r\n        stack.push({ to: node.id });\r\n        runDFS();\r\n    });\r\n    return globalOrder;\r\n    function runDFS() {\r\n        var loop = function () {\r\n            var fromTo = stack.pop();\r\n            if (fromTo.to && fromTo.from) {\r\n                globalOrder.push({ from: fromTo.from, to: fromTo.to });\r\n            }\r\n            if (visited.has(fromTo.to))\r\n                { return; }\r\n            visited.add(fromTo.to);\r\n            graph.forEachLinkedNode(fromTo.to, function (other) {\r\n                if (!visited.has(other.id))\r\n                    { stack.push({ from: fromTo.to, to: other.id }); }\r\n            }, false);\r\n        };\n\n        while (stack.length) loop();\r\n    }\r\n}\r\nfunction getProjector(element, context, roundFactor) {\r\n    var width = context.width;\n    var height = context.height;\n    var projection = context.projection;\n    var view = context.view;\r\n    var mvp = cjs_6.multiply(cjs_6.create(), projection, view.matrix);\r\n    cjs_6.multiply(mvp, mvp, element.worldModel);\r\n    var rounder = makeRounder(roundFactor);\r\n    return function (sceneX, sceneY, sceneZ) {\r\n        var coordinate = cjs_1.transformMat4([0, 0, 0, 0], [sceneX, sceneY, sceneZ || 0, 1], mvp);\r\n        var x = rounder(width * (coordinate[0] / coordinate[3] + 1) * 0.5);\r\n        var y = rounder(height * (1 - (coordinate[1] / coordinate[3] + 1) * 0.5));\r\n        return { x: x, y: y, isBehind: coordinate[3] <= 0 };\r\n    };\r\n}\r\nfunction id(x) {\r\n    return x;\r\n}\r\nfunction makeRounder(roundFactor) {\r\n    if (roundFactor === undefined)\r\n        { return id; }\r\n    if (roundFactor === true || roundFactor === 0) {\r\n        return Math.round;\r\n    }\r\n    return function (x) {\r\n        return Math.round(x * roundFactor) / roundFactor;\r\n    };\r\n}\r\n/**\r\n * Clips line to the screen rect\r\n */\r\nfunction clipToViewPort(from, to, width, height) {\r\n    return clipToPlane(from, to, { x: 0, y: 0 }, { x: 0, y: 1 }) &&\r\n        clipToPlane(from, to, { x: 0, y: 0 }, { x: 1, y: 0 }) &&\r\n        clipToPlane(from, to, { x: 0, y: height }, { x: 0, y: -1 }) &&\r\n        clipToPlane(from, to, { x: width, y: 0 }, { x: -1, y: 0 });\r\n}\r\nfunction clipToPlane(q1, q2, p, n) {\r\n    var d1 = getDotNorm(q1, p, n);\r\n    var d2 = getDotNorm(q2, p, n);\r\n    if (d1 <= 0 && d2 <= 0)\r\n        { return false; } // they are both out (or degenerative case)\r\n    if (d1 > 0 && d2 > 0)\r\n        { return true; } // they are entirely in, no need to clip\r\n    // This means one is out, the other one is in.\r\n    // see https://www.youtube.com/watch?v=og7hOFypKpQ&list=PL_w_qWAQZtAZhtzPI5pkAtcUVgmzdAP8g&index=6\r\n    var t = d1 / (d1 - d2);\r\n    var x = q1.x + t * (q2.x - q1.x);\r\n    var y = q1.y + t * (q2.y - q1.y);\r\n    if (d1 <= 0) {\r\n        q1.x = x;\r\n        q1.y = y;\r\n    }\r\n    else {\r\n        q2.x = x;\r\n        q2.y = y;\r\n    }\r\n    return true;\r\n}\r\nfunction getDotNorm(q, p, n) {\r\n    return (q.x - p.x) * n.x + (q.y - p.y) * n.y;\r\n}\n\nfunction createGuide(scene, options) {\n    if ( options === void 0 ) options = {};\n\r\n    var camera = scene.getCamera();\r\n    var nullElement = {\r\n        redraw: Function.prototype,\r\n        dispose: Function.prototype\r\n    };\r\n    // TODO: Move these to options.\r\n    var lineColor = options.lineColor || 0x0bb1b122;\r\n    var maxAlpha = options.maxAlpha || 0xff;\r\n    var grid = createGrid(lineColor);\r\n    var cursor = createCursor(options.cursorColor || 0xffffffff);\r\n    scene.on('transform', update);\r\n    return {\r\n        dispose: dispose,\r\n        update: update\r\n    };\r\n    function dispose() {\r\n        scene.off('transform', update);\r\n        grid.dispose();\r\n        cursor.dispose();\r\n    }\r\n    function update() {\r\n        grid.redraw();\r\n        cursor.redraw();\r\n    }\r\n    function createGrid(color) {\r\n        if (options.showGrid === false)\r\n            { return nullElement; }\r\n        var count = 32 * 2;\r\n        var levelUp = new WireCollection(2 * (count + 1), { width: 2.5, is3D: true, allowColors: true });\r\n        levelUp['svgInvisible'] = true;\r\n        var levelDown = new WireCollection(2 * (count + 1), { width: 1.5, is3D: true, allowColors: true });\r\n        levelDown['svgInvisible'] = true;\r\n        var drawContext = scene.getDrawContext();\r\n        var center = drawContext.center;\r\n        var r = camera.getRadius();\r\n        redraw();\r\n        scene.appendChild(levelDown);\r\n        scene.appendChild(levelUp);\r\n        return { redraw: redraw, dispose: dispose };\r\n        function dispose() {\r\n            scene.removeChild(levelDown);\r\n            scene.removeChild(levelUp);\r\n        }\r\n        function getAlpha(x) {\r\n            return 1 - (x - Math.floor(x));\r\n        }\r\n        function redraw() {\r\n            r = camera.getRadius();\r\n            var size = r * Math.tan(drawContext.fov / 2);\r\n            var l = Math.log10(size);\r\n            var step = Math.pow(10, Math.floor(l));\r\n            var t = getAlpha(l);\r\n            var alpha = Math.round(t * maxAlpha);\r\n            var left = Math.floor((center[0]) / step) * step - Math.floor(count * step / 2);\r\n            var top = Math.floor((center[1]) / step) * step - Math.floor(count * step / 2);\r\n            var right = left + step * count;\r\n            var bottom = top + step * count;\r\n            drawLevel(levelDown, left, top, right, bottom, step, alpha);\r\n            drawLevel(levelUp, left, top, right, bottom, step * 10, maxAlpha - alpha);\r\n        }\r\n        function drawLevel(geometry, left, top, right, bottom, step, alpha) {\r\n            geometry.model[14] = center[2];\r\n            geometry.worldTransformNeedsUpdate = true;\r\n            geometry.count = 0;\r\n            var gridColor = (color & 0xffffff00) | alpha;\r\n            var stepTop = Math.ceil(top / step) * step;\r\n            for (var i = stepTop; i <= bottom; i += step) {\r\n                geometry.add({\r\n                    from: { x: left, y: i, color: gridColor },\r\n                    to: { x: right, y: i, color: gridColor }\r\n                });\r\n            }\r\n            var stepLeft = Math.ceil(left / step) * step;\r\n            for (var i$1 = stepLeft; i$1 <= right; i$1 += step) {\r\n                geometry.add({\r\n                    from: { x: i$1, y: top, color: gridColor },\r\n                    to: { x: i$1, y: bottom, color: gridColor }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    function createCursor(color) {\r\n        if (options.showCursor === false)\r\n            { return nullElement; }\r\n        var count = 360;\r\n        var center = scene.getDrawContext().center;\r\n        var geometry = new WireCollection(count + 1, { width: 3, is3D: true, allowColors: true });\r\n        geometry['svgInvisible'] = true;\r\n        var prevPoint;\r\n        var points = [];\r\n        for (var i = 0; i <= count; ++i) {\r\n            // This doesn't really matter, we redraw later anyway:\r\n            points.push(geometry.add({\r\n                from: { x: 0, y: 0, color: color },\r\n                to: { x: i, y: i, color: color },\r\n            }));\r\n        }\r\n        scene.appendChild(geometry);\r\n        redraw();\r\n        return { redraw: redraw, dispose: dispose };\r\n        function dispose() {\r\n            scene.removeChild(geometry);\r\n        }\r\n        function redraw() {\r\n            var r = camera.getRadius() * 0.025;\r\n            for (var i = 0; i <= count + 1; ++i) {\r\n                var alpha = i / count * 2 * Math.PI;\r\n                if (i === 0) {\r\n                    prevPoint = {\r\n                        x: r * Math.cos(alpha),\r\n                        y: r * Math.sin(alpha),\r\n                        color: color\r\n                    };\r\n                    continue;\r\n                }\r\n                var nextPoint = {\r\n                    x: r * Math.cos(alpha),\r\n                    y: r * Math.sin(alpha),\r\n                    color: color\r\n                };\r\n                points[i - 1].update(prevPoint, nextPoint);\r\n                prevPoint = nextPoint;\r\n            }\r\n            geometry.model[12] = center[0];\r\n            geometry.model[13] = center[1];\r\n            geometry.model[14] = center[2];\r\n            geometry.worldTransformNeedsUpdate = true;\r\n        }\r\n    }\r\n}\n\n/**\r\n * Maps a glsl uniform type to correponding\r\n */\r\nvar UniformTypeToFunctionName = {\r\n    mat4: 'uniformMatrix4fv',\r\n    mat3: 'uniformMatrix3fv',\r\n    mat2: 'uniformMatrix2fv',\r\n    vec4: 'uniform4fv',\r\n    vec3: 'uniform3fv',\r\n    vec2: 'uniform2fv',\r\n    float: 'uniform1f'\r\n};\r\n/**\r\n * Defines a single uniform attribute in the GLSL shader\r\n */\r\nvar ActiveUniform = function ActiveUniform(name, variableType) {\r\n    var functionName = UniformTypeToFunctionName[variableType];\r\n    if (!functionName)\r\n        { throw new Error('Function name for uniform is required'); }\r\n    this.name = name;\r\n    this.functionName = functionName;\r\n    this.location = (this.name) + \"UniformLocation\";\r\n};\r\nActiveUniform.prototype.getInitBlockForDraw = function getInitBlockForDraw () {\r\n    return (\"let \" + (this.location) + \" = gl.getUniformLocation(program, '\" + (this.name) + \"');\");\r\n};\r\nActiveUniform.prototype.getDraw = function getDraw () {\r\n    if (this.functionName.indexOf('Matrix') > -1) {\r\n        return (\"gl.\" + (this.functionName) + \"(\" + (this.location) + \", false, uniforms.\" + (this.name) + \");\");\r\n    }\r\n    else {\r\n        return (\"gl.\" + (this.functionName) + \"(\" + (this.location) + \", uniforms.\" + (this.name) + \");\");\r\n    }\r\n};\n\n/**\r\n * Describes a single texture in the glsl program.\r\n *\r\n * Note: this class is very limited at the moment and has strong assumptions about texture format and source\r\n * It will grow based on client needs.\r\n */\r\nvar ActiveTexture = function ActiveTexture(name, offset) {\n      if ( offset === void 0 ) offset = 0;\n\r\n      this.name = name;\r\n      this.offset = offset;\r\n      this.variableName = name + \"Texture\";\r\n      this.ready = (this.variableName) + \"Ready\";\r\n      this.location = (this.name) + \"UniformLocation\";\r\n      this.isTexture = true;\r\n  };\r\n  ActiveTexture.prototype.getInitBlockForDraw = function getInitBlockForDraw () {\r\n      return (\"\\n  let \" + (this.location) + \" = gl.getUniformLocation(program, '\" + (this.name) + \"');\\n  let \" + (this.variableName) + \" = gl.createTexture();\\n  let \" + (this.ready) + \" = false;\\n\");\r\n  };\r\n  ActiveTexture.prototype.getTextureInitCanvasBlock = function getTextureInitCanvasBlock () {\r\n      return (\"\\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\\n  gl.bindTexture(gl.TEXTURE_2D, \" + (this.variableName) + \");\\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\\n  gl.bindTexture(gl.TEXTURE_2D, null);\\n  \" + (this.ready) + \" = true\");\r\n  };\r\n  ActiveTexture.prototype.getDraw = function getDraw () {\r\n      return (\"\\n    gl.activeTexture(gl.TEXTURE\" + (this.offset) + \");\\n    gl.bindTexture(gl.TEXTURE_2D, \" + (this.variableName) + \");\\n    gl.uniform1i(\" + (this.location) + \", \" + (this.offset) + \");\\n\");\r\n  };\n\n/**\r\n * Base class for attribute code generators. Attribute code generators are responsible\r\n * for mapping glsl attributes to javascript buffers and states.\r\n *\r\n * For example, imagine your glsl has the following attribute:\r\n *\r\n * ``` glsl\r\n * attribute vec2 point;\r\n * ```\r\n *\r\n * We generate a code that allows javascript clients add vertex to collection:\r\n *\r\n * ``` js\r\n * program.add({\r\n *   point: [1, 4]\r\n * })\r\n * ```\r\n *\r\n * And render it:\r\n *\r\n * ``` js\r\n * program.draw()\r\n * ```\r\n *\r\n * Code generator from glsl type to javascript starts in BaseAttribute:\r\n */\r\nvar BaseAttribute = function BaseAttribute() {\r\n    this.type = 'gl.FLOAT';\r\n    this.debug = false;\r\n    this.bufferViewType = 'Float32Array';\r\n    this.count = 1;\r\n    this.name = undefined;\r\n    this.bytePerElement = 4;\r\n};\r\nBaseAttribute.prototype.setName = function setName (name) {\r\n    this.name = name;\r\n};\r\nBaseAttribute.prototype.getInitBlockForBuffer = function getInitBlockForBuffer (includeDeclaration) {\r\n    this.ensureNameIsSet();\r\n    var prefix = includeDeclaration ? 'let ' : '';\r\n    return (\"\" + prefix + (this.name) + \"Array = new \" + (this.bufferViewType) + \"(buffer);\");\r\n};\r\nBaseAttribute.prototype.getInitBlockForDraw = function getInitBlockForDraw () {\r\n    this.ensureNameIsSet();\r\n    var ref = this;\n        var name = ref.name;\r\n    return (\"let \" + name + \"AttributeLocation = gl.getAttribLocation(program, '\" + name + \"');\");\r\n};\r\n/**\r\n * \"Add block\" returns code that adds attribute values to the shared buffer.\r\n */\r\nBaseAttribute.prototype.getAddBlock = function getAddBlock (offset) {\r\n    throw new Error('Concrete types have to implement this');\r\n};\r\n/**\r\n * \"Get block\" returns code that reconstructs attribute's values from the shared buffer\r\n */\r\nBaseAttribute.prototype.getGetBlock = function getGetBlock (offset) {\r\n    throw new Error('Concrete types have to implement this');\r\n};\r\nBaseAttribute.prototype.getDivisor = function getDivisor (divisor) {\r\n    this.ensureNameIsSet();\r\n    var location = (this.name) + \"AttributeLocation\";\r\n    return (\"if (\" + location + \" > -1) gle.vertexAttribDivisorANGLE(\" + location + \", \" + divisor + \");\");\r\n};\r\nBaseAttribute.prototype.getDraw = function getDraw (stride, offset) {\r\n    this.ensureNameIsSet();\r\n    var location = (this.name) + \"AttributeLocation\";\r\n    return (\"\\n    gl.enableVertexAttribArray(\" + location + \");\\n    gl.vertexAttribPointer(\" + location + \", \" + (this.count) + \", \" + (this.type) + \", false, \" + stride + \", \" + offset + \");\");\r\n};\r\nBaseAttribute.prototype.ensureNameIsSet = function ensureNameIsSet () {\r\n    if (!this.name) {\r\n        throw new Error('You have to call setName() before using attributes');\r\n    }\r\n};\n\nvar FloatAttribute = /*@__PURE__*/(function (BaseAttribute) {\n    function FloatAttribute(count) {\r\n        BaseAttribute.call(this);\r\n        this.count = count;\r\n    }\n\n    if ( BaseAttribute ) FloatAttribute.__proto__ = BaseAttribute;\n    FloatAttribute.prototype = Object.create( BaseAttribute && BaseAttribute.prototype );\n    FloatAttribute.prototype.constructor = FloatAttribute;\r\n    FloatAttribute.prototype.getAddBlock = function getAddBlock (offset, lineJoin) {\n        if ( lineJoin === void 0 ) lineJoin = '\\n';\n\r\n        var name = this.name;\r\n        var variableName = name + \"Array\";\r\n        var code = [];\r\n        if (this.debug) {\r\n            code.push((\"if (item.\" + name + \" === undefined) throw new Error('Attribute \\\"\" + name + \"\\\" is missing');\\n\"));\r\n        }\r\n        for (var i = 0; i < this.count; ++i) {\r\n            var read = \"item.\" + name + \"[\" + i + \"]\";\r\n            if (this.debug) {\r\n                code.push((\"if (\" + read + \" === undefined) throw new Error('Attribute \\\"\" + name + \"\\\" is missing value at index \" + i + \"');\\n\"));\r\n            }\r\n            code.push((variableName + \"[index + \" + (offset + i) + \"] = \" + read + \";\"));\r\n        }\r\n        return {\r\n            code: code.join(lineJoin),\r\n            offset: offset + this.count,\r\n        };\r\n    };\r\n    FloatAttribute.prototype.getGetBlock = function getGetBlock (offset) {\r\n        var variableName = (this.name) + \"Array\";\r\n        var code = [];\r\n        for (var i = 0; i < this.count; ++i) {\r\n            code.push((variableName + \"[index + \" + (offset + i) + \"]\"));\r\n        }\r\n        return ((this.name) + \": [\" + (code.join(', ')) + \"]\");\r\n    };\n\n    return FloatAttribute;\n}(BaseAttribute));\n\nvar NumberAttribute = /*@__PURE__*/(function (BaseAttribute) {\n    function NumberAttribute () {\n        BaseAttribute.apply(this, arguments);\n    }\n\n    if ( BaseAttribute ) NumberAttribute.__proto__ = BaseAttribute;\n    NumberAttribute.prototype = Object.create( BaseAttribute && BaseAttribute.prototype );\n    NumberAttribute.prototype.constructor = NumberAttribute;\n\n    NumberAttribute.prototype.getAddBlock = function getAddBlock (offset) {\r\n        var name = this.name;\r\n        var variableName = name + \"Array\";\r\n        var code = '';\r\n        if (this.debug) {\r\n            code = \"if (item.\" + name + \" === undefined) throw new Error('Attribute \\\"\" + name + \"\\\" is missing');\";\r\n        }\r\n        code += variableName + \"[index + \" + offset + \"] = item.\" + name + \";\";\r\n        return {\r\n            code: code,\r\n            offset: offset + this.count,\r\n        };\r\n    };\r\n    NumberAttribute.prototype.getGetBlock = function getGetBlock (offset) {\r\n        return ((this.name) + \": \" + (this.name) + \"Array[index + \" + offset + \"]\");\r\n    };\n\n    return NumberAttribute;\n}(BaseAttribute));\n\n/**\r\n * Maps a glsl attribute type to corresponding Attribute class.\r\n */\r\nvar GLTypeToBufferType = {\r\n    vec4: function () { return new FloatAttribute(4); },\r\n    vec3: function () { return new FloatAttribute(3); },\r\n    vec2: function () { return new FloatAttribute(2); },\r\n    float: function () { return new NumberAttribute; }\r\n};\n\nfunction getProgramInfo(programDefinition) {\r\n    var attributes = [];\r\n    var instancedAttributes = [];\r\n    var parsedProgram = parseProgram(programDefinition.vertex, programDefinition.fragment);\r\n    parsedProgram.attributes.forEach(function (attribute) {\r\n        var name = attribute.name;\n        var type = attribute.type;\r\n        var typeDef = programDefinition.attributes && programDefinition.attributes[name];\r\n        if (!typeDef && typeof GLTypeToBufferType[type] === 'function') {\r\n            typeDef = GLTypeToBufferType[type]();\r\n        }\r\n        if (!typeDef) {\r\n            console.error((\"Unknown type \" + type + \" for \" + name));\r\n            throw new Error((\"Unknown type \" + type + \" for \" + name));\r\n        }\r\n        typeDef.debug = programDefinition && programDefinition.debug;\r\n        typeDef.setName(name);\r\n        var instancedAttribute = programDefinition.instanced && programDefinition.instanced[name];\r\n        if (instancedAttribute) {\r\n            instancedAttribute.setTypeDefinition(typeDef);\r\n            instancedAttributes.push(instancedAttribute);\r\n        }\r\n        else {\r\n            attributes.push(typeDef);\r\n        }\r\n    });\r\n    var uniforms = [];\r\n    var textureCount = 0;\r\n    parsedProgram.uniforms.forEach(function (uniform) {\r\n        var name = uniform.name;\r\n        if (uniform.type === 'sampler2D') {\r\n            uniforms.push(new ActiveTexture(name, textureCount++));\r\n        }\r\n        else {\r\n            uniforms.push(new ActiveUniform(name, uniform.type));\r\n        }\r\n    });\r\n    var bytePerVertex = 0;\r\n    var itemPerVertex = 0;\r\n    attributes.forEach(function (attribute) {\r\n        itemPerVertex += attribute.count;\r\n        bytePerVertex += attribute.count * attribute.bytePerElement;\r\n    });\r\n    if (programDefinition.attributeLayout) {\r\n        var order = new Map();\r\n        programDefinition.attributeLayout.forEach(function (item, index) { return order.set(item, index); });\r\n        attributes.sort(function (a, b) { return order.get(a.name) - order.get(b.name); });\r\n    }\r\n    return {\r\n        bytePerVertex: bytePerVertex,\r\n        itemPerVertex: itemPerVertex,\r\n        attributes: attributes,\r\n        instanced: instancedAttributes,\r\n        uniforms: uniforms,\r\n    };\r\n}\r\nfunction parseProgram(vertex, fragment) {\r\n    // TODO: this wouldn't work for multiline attribute definitions\r\n    var attribute = /attribute\\s+(.+);/;\r\n    var uniform = /uniform\\s+(.+);/;\r\n    var attributes = [];\r\n    var uniforms = [];\r\n    vertex.split('\\n').forEach(function (line) {\r\n        var attributeMatch = line.match(attribute);\r\n        if (attributeMatch) {\r\n            appendVariables(attributeMatch[1], attributes);\r\n            return;\r\n        }\r\n        var uniformMatch = line.match(uniform);\r\n        if (uniformMatch) {\r\n            appendVariables(uniformMatch[1], uniforms);\r\n            return;\r\n        }\r\n    });\r\n    // fragment can have only uniforms\r\n    fragment.split('\\n').forEach(function (line) {\r\n        var uniformMatch = line.match(uniform);\r\n        if (uniformMatch)\r\n            { appendVariables(uniformMatch[1], uniforms); }\r\n    });\r\n    return { attributes: attributes, uniforms: uniforms };\r\n    function appendVariables(variableDefinition, collection) {\r\n        var parts = variableDefinition.replace(/,/g, ' ').split(' ').filter(function (x) { return x; });\r\n        var type = parts[0];\r\n        var loop = function ( i ) {\r\n            var name = parts[i];\r\n            if (!collection.find(function (x) { return x.name === name; }))\r\n                { collection.push({ type: type, name: name }); }\r\n        };\n\n        for (var i = 1; i < parts.length; ++i) loop( i );\r\n    }\r\n}\n\n/**\r\n * Helper class that holds intermediate state of the code before it is\r\n * compiled to javascript.\r\n */\r\nvar FinalCode = function FinalCode() {\r\n    this.api = [];\r\n    this.init = [];\r\n    this.implementation = [];\r\n    // Share buffer init so that multiple programs can re-use buffers.\r\n    this.bufferInit = [];\r\n};\r\nFinalCode.prototype.addToInit = function addToInit (block) {\r\n    if (block)\r\n        { this.init.push(block); }\r\n};\r\nFinalCode.prototype.addBufferInit = function addBufferInit (block) {\r\n    if (block)\r\n        { this.bufferInit.push(block); }\r\n};\r\nFinalCode.prototype.addToAPI = function addToAPI (block) {\r\n    if (block)\r\n        { this.api.push(block); }\r\n};\r\nFinalCode.prototype.addToImplementation = function addToImplementation (block) {\r\n    if (block)\r\n        { this.implementation.push(block); }\r\n};\r\nFinalCode.prototype.setAttributesDrawBlock = function setAttributesDrawBlock (block) {\r\n    this.attributesDrawBlock = block;\r\n};\r\nFinalCode.prototype.link = function link () {\r\n    var finalBuffer = [];\r\n    this.init.forEach(addToFinalBuffer);\r\n    addToFinalBuffer(\"  return {\");\r\n    this.api.forEach(addToFinalBuffer);\r\n    addToFinalBuffer(\"  };\");\r\n    this.implementation.forEach(addToFinalBuffer);\r\n    return finalBuffer.join(\"\\n\");\r\n    function addToFinalBuffer(b) {\r\n        if (Array.isArray(b))\r\n            { finalBuffer.push(b.join(\"\\n    \")); }\r\n        else\r\n            { finalBuffer.push(b); }\r\n    }\r\n};\n\nfunction defineProgram(structure) {\r\n    var gl = structure.gl;\r\n    var programInfo = getProgramInfo(structure);\r\n    var glProgram = link(structure.vertex, structure.fragment);\r\n    var preDrawHook = structure.preDrawHook || nothing;\r\n    var postDrawHook = structure.postDrawHook || nothing;\r\n    // TODO: Sort attributes according to layout (if layout is passed);\r\n    var code = constructCode(programInfo);\r\n    var drawCode = code.link();\r\n    var programAPI = new Function(\"gl\", \"program\", drawCode)(gl, glProgram);\r\n    if (structure.debug) {\r\n        console.log(\"Compiled code: \");\r\n        console.log(drawCode);\r\n    }\r\n    programAPI.getCode = function () { return code; };\r\n    programAPI.dispose = function () {\r\n        gl.deleteProgram(glProgram);\r\n    };\r\n    return programAPI;\r\n    function constructCode(programInfo) {\r\n        var finalCode = new FinalCode();\r\n        addCodeThatCounts(programInfo, finalCode);\r\n        if (structure.sourceBuffer) {\r\n            addCodeThatSetsGLBuffer(programInfo, finalCode);\r\n        }\r\n        else {\r\n            addCodeThatModifiesBuffer(programInfo, finalCode);\r\n            addCodeThatCreatesGLBuffer(programInfo, finalCode);\r\n        }\r\n        addCodeThatSetsTextures(programInfo, finalCode);\r\n        addCodeThatDrawsBuffer(programInfo, finalCode);\r\n        return finalCode;\r\n    }\r\n    function addCodeThatSetsGLBuffer(programInfo, code) {\r\n        code.addToInit([\"let glBuffer;\", \"\"]);\r\n        code.addToAPI([\"setGLBuffer: (newBuffer) => glBuffer = newBuffer,\"]);\r\n    }\r\n    function addCodeThatCreatesGLBuffer(programInfo, code) {\r\n        code.addToInit([\r\n            \"let glBuffer = gl.createBuffer();\",\r\n            \"if (!glBuffer) throw new Error('failed to create a WebGL buffer');\",\r\n            \"\" ]);\r\n        code.addToAPI([\"getGLBuffer: () => glBuffer,\"]);\r\n    }\r\n    function addCodeThatSetsTextures(programInfo, code) {\r\n        var uniforms = programInfo.uniforms;\r\n        var textures = [];\r\n        uniforms.forEach(function (uniform) {\r\n            if (uniform instanceof ActiveTexture)\r\n                { textures.push(uniform); }\r\n        });\r\n        if (!textures.length)\r\n            { return; }\r\n        code.addToAPI(\"setTextureCanvas: setTextureCanvas,\");\r\n        var cases = textures.map(function (t) {\r\n            return (\"\\n      case '\" + (t.name) + \"': {\\n        \" + (t.getTextureInitCanvasBlock()) + \"\\n        return;\\n      }\\n      \");\r\n        });\r\n        code.addToImplementation((\"\\n  function setTextureCanvas(textureName, textureCanvas) {\\n    switch(textureName) {\\n      \" + (cases.join(\"\\n      \")) + \"\\n    }\\n    throw new Error('Unknown texture name: ' + textureName);\\n  }\\n\"));\r\n    }\r\n    function addCodeThatDrawsBuffer(programInfo, code) {\r\n        var attributes = programInfo.attributes;\n        var instanced = programInfo.instanced;\n        var uniforms = programInfo.uniforms;\n        var bytePerVertex = programInfo.bytePerVertex;\n        var itemPerVertex = programInfo.itemPerVertex;\r\n        var sourceBufferCode = structure.sourceBuffer && structure.sourceBuffer.getCode();\r\n        if (sourceBufferCode) {\r\n            code.addToInit(sourceBufferCode.bufferInit);\r\n            code.addBufferInit(sourceBufferCode.bufferInit);\r\n        }\r\n        else {\r\n            attributes.forEach(function (attribute) {\r\n                var bufferInitAttribute = \"  \" + attribute.getInitBlockForDraw();\r\n                code.addToInit(bufferInitAttribute);\r\n                code.addBufferInit(bufferInitAttribute);\r\n            });\r\n        }\r\n        var textures = [];\r\n        uniforms.forEach(function (uniform) {\r\n            code.addToInit(\"  \" + uniform.getInitBlockForDraw());\r\n            if (uniform instanceof ActiveTexture)\r\n                { textures.push(uniform); }\r\n        });\r\n        if (instanced.length) {\r\n            code.addToInit(\"  let gle = gl.getExtension('ANGLE_instanced_arrays');\\n  if (!gle) {\\n    // Not sure if this is going to be an error, given instancing is widely supported. But\\n    // If you get this error please ping me so that we can find a fallback solution\\n    throw new Error('Instanced collection requires instancing support. Please ping @anvaka so that we can add fallback');\\n  }\\n\");\r\n            instanced.forEach(function (instancedAttribute) {\r\n                code.addToInit(\"  \" + instancedAttribute.getInitBlock());\r\n            });\r\n        }\r\n        var attributesDrawBlock = [];\r\n        if (sourceBufferCode) {\r\n            attributesDrawBlock = sourceBufferCode.attributesDrawBlock;\r\n        }\r\n        else {\r\n            var byteOffset = 0;\r\n            attributes.forEach(function (attribute) {\r\n                attributesDrawBlock.push(attribute.getDraw(bytePerVertex, byteOffset));\r\n                byteOffset += attribute.count * attribute.bytePerElement;\r\n            });\r\n        }\r\n        code.setAttributesDrawBlock(attributesDrawBlock);\r\n        code.addToImplementation(getDrawImplementation());\r\n        code.addToAPI([\"draw: draw,\"]);\r\n        function getDrawImplementation() {\r\n            var uniformsDrawBlock = uniforms.map(function (u) { return u.getDraw(); });\r\n            var instancedDrawBlock = [];\r\n            var setDivisorBlock = [];\r\n            var unsetDivisorBlock = [];\r\n            instanced.forEach(function (instancedAttribute) {\r\n                instancedDrawBlock.push(instancedAttribute.getDraw());\r\n                setDivisorBlock.push(instancedAttribute.getDivisor(0));\r\n                unsetDivisorBlock.push(instancedAttribute.getDivisor(0));\r\n            });\r\n            var drawCallBlock = [];\r\n            if (instanced.length) {\r\n                attributes.forEach(function (attribute) {\r\n                    setDivisorBlock.push(attribute.getDivisor(1));\r\n                    unsetDivisorBlock.push(attribute.getDivisor(0));\r\n                });\r\n                drawCallBlock.push(setDivisorBlock.join(\"\\n    \"));\r\n                drawCallBlock.push(\"gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, count)\");\r\n                drawCallBlock.push(unsetDivisorBlock.join(\"\\n    \"));\r\n            }\r\n            else {\r\n                drawCallBlock.push(\"gl.drawArrays(gl.TRIANGLES, 0, count)\");\r\n            }\r\n            return (\" \\n  function draw(uniforms, from, to) {\\n    \" + (checkDrawCode()) + \"\\n    \" + (checkTexturesReady()) + \"\\n    \" + (preDrawHook(programInfo)) + \"\\n\\n    gl.useProgram(program);\\n    \" + (uniformsDrawBlock.join(\"\\n    \")) + \"\\n    \" + (instancedDrawBlock.join(\"\\n    \")) + \"\\n\\n    gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);\\n    \" + (bufferDataIfNeeded()) + \"\\n\\n    \" + (attributesDrawBlock.join(\"\\n    \")) + \"\\n    \" + (drawCallBlock.join(\"\\n    \")) + \"\\n\\n    \" + (postDrawHook(programInfo)) + \"\\n  }\");\r\n            function bufferDataIfNeeded() {\r\n                if (structure.sourceBuffer)\r\n                    { return \"\"; }\r\n                return \"  if (isDirty) {\\n          gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.DYNAMIC_DRAW);\\n          isDirty = false;\\n        }\";\r\n            }\r\n            function checkDrawCode() {\r\n                return \"if (count === 0) return;\";\r\n            }\r\n            function checkTexturesReady() {\r\n                if (textures.length === 0)\r\n                    { return \"\"; }\r\n                return textures\r\n                    .map(function (texture) {\r\n                    return (\"if (!\" + (texture.ready) + \") return;\");\r\n                })\r\n                    .join(\"\\n    \");\r\n            }\r\n        }\r\n    }\r\n    function addCodeThatCounts(programInfo, code) {\r\n        code.addToInit([\"  let count = 0;\"]);\r\n        code.addToAPI([\r\n            \"setCount: (newCount) => count = newCount,\",\r\n            \"getCount: () => count,\" ]);\r\n    }\r\n    function addCodeThatModifiesBuffer(programInfo, code) {\r\n        var attributes = programInfo.attributes;\n        var bytePerVertex = programInfo.bytePerVertex;\n        var itemPerVertex = programInfo.itemPerVertex;\r\n        code.addToInit([\r\n            (\"let bytePerVertex = \" + bytePerVertex + \";\"),\r\n            (\"let itemPerVertex = \" + itemPerVertex + \";\"),\r\n            (\"let capacity = \" + ((structure.capacity || 1) * bytePerVertex) + \";\"),\r\n            \"let buffer = new ArrayBuffer(capacity);\",\r\n            \"\",\r\n            \"let isDirty = true;\",\r\n            \"let dirtyOffset = 0;\" ]);\r\n        attributes.forEach(function (attribute) {\r\n            code.addToInit(attribute.getInitBlockForBuffer(/*includeDeclaration = */ true));\r\n        });\r\n        code.addToAPI([\r\n            \"add: add,\",\r\n            \"get: get,\",\r\n            \"update: update,\",\r\n            \"getBuffer: getBuffer,\",\r\n            \"appendBuffer: appendBuffer,\" ]);\r\n        code.addToImplementation(getImplementationCode());\r\n        function getImplementationCode() {\r\n            var modifyBufferBlock = [];\r\n            var getAttributeBlock = [];\r\n            var extendBlock = [];\r\n            var addOffset = 0;\r\n            attributes.forEach(collectAttributeSpecificBlocks);\r\n            return (\"\\n  function add(item) {\\n    if (count * bytePerVertex >= capacity) {\\n      extend();\\n    }\\n\\n    let index = count * itemPerVertex;\\n\\n    \" + (modifyBufferBlock.join(\"\\n    \")) + \"\\n\\n    isDirty = true;\\n    return count++;\\n  }\\n\\n  function update(index, item) {\\n    \" + (getUpdateMethodDebugAsserts()) + \"\\n    index *= itemPerVertex;\\n    \" + (modifyBufferBlock.join(\"\\n    \")) + \"\\n    isDirty = true;\\n  }\\n\\n  function get(index) {\\n    index *= itemPerVertex; \\n    return {\\n      \" + (getAttributeBlock.join(\",\\n      \")) + \"\\n    };\\n  }\\n\\n  function extend() {\\n    let oldBuffer = buffer;\\n    capacity *= 2;\\n    buffer = new ArrayBuffer(capacity);\\n    // Copy old buffer to the new buffer\\n    new Uint8Array(buffer).set(new Uint8Array(oldBuffer));\\n    // And re-assign views:\\n    \" + (extendBlock.join(\"\\n    \")) + \"\\n  }\\n\\n  function getBuffer() {\\n    return buffer.slice(0, count * bytePerVertex);\\n  }\\n\\n  function appendBuffer(uint8Collection, byteOffset) {\\n    let requiredCapacity = byteOffset + uint8Collection.byteLength;\\n    if (requiredCapacity > capacity) {\\n      // extend the buffer to fulfill the request:\\n      let oldBuffer = buffer;\\n      buffer = new ArrayBuffer(requiredCapacity);\\n      new Uint8Array(buffer).set(new Uint8Array(oldBuffer));\\n      capacity = requiredCapacity;\\n    }\\n\\n    let view = new Uint8Array(buffer);\\n    view.set(uint8Collection, byteOffset);\\n    count = Math.floor(requiredCapacity / bytePerVertex);\\n\\n    \" + (extendBlock.join(\"\\n    \")) + \"\\n\\n    isDirty = true;\\n  }\\n\");\r\n            function collectAttributeSpecificBlocks(attribute) {\r\n                var extendCollectionCode = attribute.getInitBlockForBuffer(\r\n                /* includeDeclaration = */ false);\r\n                if (extendCollectionCode)\r\n                    { extendBlock.push(extendCollectionCode); }\r\n                // TODO: need a better name for this:\r\n                var addBlock = attribute.getAddBlock(addOffset);\r\n                modifyBufferBlock.push(addBlock.code);\r\n                getAttributeBlock.push(attribute.getGetBlock(addOffset));\r\n                // Every time we add an item to the collection we need to move index in the buffer\r\n                addOffset = addBlock.offset;\r\n            }\r\n        }\r\n    }\r\n    function getUpdateMethodDebugAsserts() {\r\n        if (!structure.debug)\r\n            { return ''; }\r\n        return \"\\n    if (!Number.isFinite(index)) throw new Error('update() requires integer value for \\\"index\\\", got: ' + index);\\n    if (index < 0 || index >= count) throw new Error('update(' + index + ') is outside of [0..' + count + ') range');\\n\";\r\n    }\r\n    function link(vertexSource, fragmentSource) {\r\n        var vertex = compileShader(gl.VERTEX_SHADER, vertexSource);\r\n        var fragment = compileShader(gl.FRAGMENT_SHADER, fragmentSource);\r\n        var program = gl.createProgram();\r\n        if (!program)\r\n            { throw new Error('Failed to link a program'); }\r\n        gl.attachShader(program, vertex);\r\n        gl.attachShader(program, fragment);\r\n        gl.linkProgram(program);\r\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n            throw new Error(gl.getProgramInfoLog(program) || 'Failed to link a program');\r\n        }\r\n        return program;\r\n    }\r\n    function compileShader(type, shaderSource) {\r\n        var shader = gl.createShader(type);\r\n        if (!shader) {\r\n            throw new Error(\"Failed to create a shared \" + shaderSource);\r\n        }\r\n        gl.shaderSource(shader, shaderSource);\r\n        gl.compileShader(shader);\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n            console.error(gl.getShaderInfoLog(shader));\r\n            throw new Error(gl.getShaderInfoLog(shader) ||\r\n                \"Failed to compile shader \" + shaderSource);\r\n        }\r\n        return shader;\r\n    }\r\n}\r\nfunction nothing() {\r\n    return \"\";\r\n}\n\nvar ColorAttribute = /*@__PURE__*/(function (BaseAttribute) {\n    function ColorAttribute() {\r\n        BaseAttribute.call(this);\r\n        this.type = 'gl.UNSIGNED_BYTE';\r\n        this.bufferViewType = 'Uint32Array';\r\n    }\n\n    if ( BaseAttribute ) ColorAttribute.__proto__ = BaseAttribute;\n    ColorAttribute.prototype = Object.create( BaseAttribute && BaseAttribute.prototype );\n    ColorAttribute.prototype.constructor = ColorAttribute;\r\n    ColorAttribute.prototype.getAddBlock = function getAddBlock (offset) {\r\n        var variableName = (this.name) + \"Array\";\r\n        var code = '';\r\n        if (this.debug) {\r\n            code = \"if (item.\" + (this.name) + \" === undefined) throw new Error('Attribute \\\"\" + (this.name) + \"\\\" is missing');\\n\";\r\n        }\r\n        code += variableName + \"[index + \" + offset + \"] = item.\" + (this.name) + \";\";\r\n        return {\r\n            code: code,\r\n            offset: offset + this.count,\r\n        };\r\n    };\r\n    ColorAttribute.prototype.getGetBlock = function getGetBlock (offset) {\r\n        return ((this.name) + \": \" + (this.name) + \"Array[index + \" + offset + \"]\");\r\n    };\r\n    ColorAttribute.prototype.getDraw = function getDraw (stride, offset) {\r\n        var location = (this.name) + \"AttributeLocation\";\r\n        return (\"\\n    if (\" + location + \" > -1) {\\n      gl.enableVertexAttribArray(\" + location + \");\\n      gl.vertexAttribPointer(\" + location + \", 4, \" + (this.type) + \", true, \" + stride + \", \" + offset + \");\\n    }\");\r\n    };\n\n    return ColorAttribute;\n}(BaseAttribute));\n\nvar InstancedAttribute = function InstancedAttribute(bufferValues) {\r\n      this.bufferValues = bufferValues;\r\n      this.typeDef = undefined;\r\n  };\r\n  InstancedAttribute.prototype.setTypeDefinition = function setTypeDefinition (typeDef) {\r\n      this.typeDef = typeDef;\r\n  };\r\n  InstancedAttribute.prototype.getInitBlock = function getInitBlock () {\r\n      var ref = this.typeDef;\n        var name = ref.name;\r\n      return (\"\\n  const \" + name + \"InstancedBuffer = gl.createBuffer();\\n  if (!\" + name + \"InstancedBuffer) throw new Error('failed to create a WebGL buffer');\\n  const \" + name + \"InstancedBufferValues = new Float32Array([\" + (this.bufferValues.join(',')) + \"]);\\n  let \" + name + \"AttributeLocation = gl.getAttribLocation(program, '\" + name + \"');\\n\");\r\n  };\r\n  InstancedAttribute.prototype.getDivisor = function getDivisor (divisor) {\r\n      return this.typeDef.getDivisor(divisor);\r\n  };\r\n  InstancedAttribute.prototype.getDraw = function getDraw () {\r\n      var ref = this;\n        var typeDef = ref.typeDef;\r\n      var name = typeDef.name;\r\n      return (\"\\n  gl.bindBuffer(gl.ARRAY_BUFFER, \" + name + \"InstancedBuffer);\\n  gl.bufferData(gl.ARRAY_BUFFER, \" + name + \"InstancedBufferValues, gl.STATIC_DRAW);\\n\\n  gl.enableVertexAttribArray(\" + name + \"AttributeLocation);\\n  gl.vertexAttribPointer(\" + name + \"AttributeLocation, \" + (typeDef.count) + \", gl.FLOAT, false, 0, 0);\\n\");\r\n  };\n\nvar GLCollection = /*@__PURE__*/(function (Element) {\n    function GLCollection(program) {\r\n        Element.call(this);\r\n        this.program = program;\r\n        this.uniforms = undefined;\r\n    }\n\n    if ( Element ) GLCollection.__proto__ = Element;\n    GLCollection.prototype = Object.create( Element && Element.prototype );\n    GLCollection.prototype.constructor = GLCollection;\r\n    GLCollection.prototype.getBuffer = function getBuffer () {\r\n        return this.program.getBuffer();\r\n    };\r\n    GLCollection.prototype.appendBuffer = function appendBuffer (uint8Collection, offset) {\r\n        this.program.appendBuffer(uint8Collection, offset);\r\n        if (this.scene)\r\n            { this.scene.renderFrame(); }\r\n    };\r\n    GLCollection.prototype.add = function add (vertex) {\r\n        return this.program.add(vertex);\r\n    };\r\n    GLCollection.prototype.update = function update (id, point) {\r\n        this.program.update(id, point);\r\n    };\r\n    GLCollection.prototype.get = function get (id) {\r\n        return this.program.get(id);\r\n    };\r\n    GLCollection.prototype.draw = function draw (gl, drawContext) {\r\n        if (!this.uniforms) {\r\n            this.uniforms = {\r\n                projectionMatrix: drawContext.projection,\r\n                model: this.worldModel,\r\n                view: drawContext.view.matrix,\r\n                modelViewProjection: this.modelViewProjection\r\n            };\r\n        }\r\n        this.program.draw(this.uniforms);\r\n    };\r\n    GLCollection.prototype.dispose = function dispose () {\r\n        Element.prototype.dispose.call(this);\r\n        if (this.program) {\r\n            this.program.dispose();\r\n            // this.program = null; Should I do this?\r\n        }\r\n    };\n\n    return GLCollection;\n}(Element));\n\nexport { ColorAttribute, Element, FloatAttribute, GLCollection, InstancedAttribute, LineStripCollection, NumberAttribute, PointCollection, WireCollection, createGuide, createScene, createSpaceMapCamera, defineProgram, isWebGLEnabled, createScene as scene, svg as toSVG, glUtils as utils };\n//# sourceMappingURL=wgl.module.js.map\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","/**\n * Allows application to access and update current app state via query string\n */\nmodule.exports = queryState;\n\nvar eventify = require('ngraph.events');\nvar windowHistory = require('./lib/windowHistory.js');\n\n/**\n * Just a convenience function that returns singleton instance of a query state\n */\nqueryState.instance = instance;\n\n// this variable holds singleton instance of the query state\nvar singletonQS;\n\n/**\n * Creates new instance of the query state.\n */\nfunction queryState(defaults, options) {\n  options = options || {};\n  var history = options.history || windowHistory(defaults, options);\n  validateHistoryAPI(history);\n\n  history.onChanged(updateQuery)\n\n  var query = history.get() || Object.create(null);\n\n  var api = {\n\n    /**\n     * Gets current state.\n     *\n     * @param {string?} keyName if present then value for this key is returned.\n     * Otherwise the entire app state is returned.\n     */\n    get: getValue,\n\n    /**\n     * Merges current app state with new key/value.\n     *\n     * @param {string} key name\n     * @param {string|number|date} value\n     */\n    set: setValue,\n\n    /**\n     * Removes value from the query string\n     */\n    unset: unsetValue,\n\n    /**\n     * Similar to `set()`, but only sets value if it was not set before.\n     *\n     * @param {string} key name\n     * @param {string|number|date} value\n     */\n    setIfEmpty: setIfEmpty,\n\n    /**\n     * Releases all resources acquired by query state. After calling this method\n     * no hash monitoring will happen and no more events will be fired.\n     */\n    dispose: dispose,\n\n    onChange: onChange,\n    offChange: offChange,\n\n    getHistoryObject: getHistoryObject,\n  }\n\n  var eventBus = eventify({});\n\n  return api;\n\n  function onChange(callback, ctx) {\n    eventBus.on('change', callback, ctx);\n  }\n\n  function offChange(callback, ctx) {\n    eventBus.off('change', callback, ctx)\n  }\n\n  function getHistoryObject() {\n    return history;\n  }\n\n  function dispose() {\n    // dispose all history listeners\n    history.dispose();\n\n    // And remove our own listeners\n    eventBus.off();\n  }\n\n  function getValue(keyName) {\n    if (keyName === undefined) return query;\n\n    return query[keyName];\n  }\n\n  function setValue(keyName, value) {\n    var keyNameType = typeof keyName;\n\n    if (keyNameType === 'object') {\n      Object.keys(keyName).forEach(function(key) {\n        query[key] = keyName[key];\n      });\n    } else if (keyNameType === 'string') {\n      query[keyName] = value;\n    }\n\n    history.set(query);\n\n    return api;\n  }\n\n  function unsetValue(keyName) {\n    if (!(keyName in query)) return; // nothing to do\n\n    delete query[keyName];\n    history.set(query);\n\n    return api;\n  }\n\n  function updateQuery(newAppState) {\n    query = newAppState;\n    eventBus.fire('change', query);\n  }\n\n  function setIfEmpty(keyName, value) {\n    if (typeof keyName === 'object') {\n      Object.keys(keyName).forEach(function(key) {\n        // TODO: Can I remove code duplication? The main reason why I don't\n        // want recursion here is to avoid spamming `history.set()`\n        if (key in query) return; // key name is not empty\n\n        query[key] = keyName[key];\n      });\n    }\n\n    if (keyName in query) return; // key name is not empty\n    query[keyName] = value;\n\n    history.set(query);\n\n    return api;\n  }\n}\n\n/**\n * Returns singleton instance of the query state.\n *\n * @param {Object} defaults - if present, then it is passed to the current instance\n * of the query state. Defaults are applied only if they were not present before.\n */\nfunction instance(defaults, options) {\n  if (!singletonQS) {\n    singletonQS = queryState(defaults, options);\n  } else if (defaults) {\n    singletonQS.setIfEmpty(defaults);\n  }\n\n  return singletonQS;\n}\n\nfunction validateHistoryAPI(history) {\n  if (!history) throw new Error('history is required');\n  if (typeof history.dispose !== 'function') throw new Error('dispose is required');\n  if (typeof history.onChanged !== 'function') throw new Error('onChanged is required');\n}\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var $ = require('../internals/export');\nvar parseFloat = require('../internals/number-parse-float');\n\n// `Number.parseFloat` method\n// https://tc39.github.io/ecma262/#sec-number.parseFloat\n$({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat }, {\n  parseFloat: parseFloat\n});\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var CodeMirror = require('codemirror/lib/codemirror.js')\nvar CmComponent = require('./codemirror.vue')\n\nCmComponent = CmComponent.default || CmComponent\n\nmodule.exports = {\n  CodeMirror: CodeMirror,\n  codemirror: CmComponent,\n  install: function (Vue) {\n    Vue.component('codemirror', CmComponent)\n  }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var global = require('../internals/global');\n\nvar globalIsFinite = global.isFinite;\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\nmodule.exports = Number.isFinite || function isFinite(it) {\n  return typeof it == 'number' && globalIsFinite(it);\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","module.exports = function(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var $ = require('../internals/export');\nvar numberIsFinite = require('../internals/number-is-finite');\n\n// `Number.isFinite` method\n// https://tc39.github.io/ecma262/#sec-number.isfinite\n$({ target: 'Number', stat: true }, { isFinite: numberIsFinite });\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","import mod from \"-!../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../vue-loader/lib/loaders/stylePostLoader.js!../postcss-loader/src/index.js??ref--6-oneOf-1-2!../cache-loader/dist/cjs.js??ref--0-0!../vue-loader/lib/index.js??vue-loader-options!./codemirror.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../vue-loader/lib/loaders/stylePostLoader.js!../postcss-loader/src/index.js??ref--6-oneOf-1-2!../cache-loader/dist/cjs.js??ref--0-0!../vue-loader/lib/index.js??vue-loader-options!./codemirror.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}